{"version":3,"file":"static/js/2397.4de77c6d.chunk.js","mappings":"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","sources":["shared/web-shared/snippet/theme/databricks-duotone-dark.ts","experiment-tracking/components/EntitySearchAutoComplete.tsx","common/hooks/useMemoDeep.ts","experiment-tracking/components/experiment-page/hooks/useExperimentViewLocalStore.ts","shared/web-shared/hooks/useResizableMaxWidth.ts","experiment-tracking/components/experiment-page/components/runs/ExperimentViewRunsTableResizer.tsx","shared/web-shared/copy/useCopyController.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelListPageMode.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageAutoComplete.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageDatasetDropdown.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageOrderBySelector.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageGroupBySelector.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListPageControls.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelsChartsData.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelsChartsUIState.tsx","experiment-tracking/components/experiment-logged-models/ExperimentLoggedModelListCharts.tsx","experiment-tracking/components/experiment-logged-models/hooks/useExperimentLoggedModelAllMetricsByDataset.tsx","experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelListPage.tsx","shared/web-shared/snippet/theme/databricks-light.ts","experiment-tracking/hooks/logged-models/useRelatedRunsDataForLoggedModels.tsx","common/hooks/useArrayMemo.ts","experiment-tracking/pages/experiment-logged-models/ExperimentLoggedModelPageWrapper.tsx","shared/web-shared/hooks/useMediaQuery.ts","shared/web-shared/hooks/useResizeObserver.tsx","experiment-tracking/components/EntitySearchAutoComplete.utils.tsx"],"sourcesContent":["/**\n * Adapted from `duotone-dark`\n * Ref: https://github.com/react-syntax-highlighter/react-syntax-highlighter/blob/b2457268891948f7005ccf539a70c000f0695bde/src/styles/prism/duotone-dark.js\n */\n\nconst databricksDuotoneDarkTheme = {\n  'code[class*=\"language-\"]': {\n    fontFamily:\n      'Consolas, Menlo, Monaco, \"Andale Mono WT\", \"Andale Mono\", \"Lucida Console\", \"Lucida Sans Typewriter\", \"DejaVu Sans Mono\", \"Bitstream Vera Sans Mono\", \"Liberation Mono\", \"Nimbus Mono L\", \"Courier New\", Courier, monospace',\n    fontSize: '14px',\n    lineHeight: '1.375',\n    direction: 'ltr',\n    textAlign: 'left',\n    whiteSpace: 'pre',\n    wordSpacing: 'normal',\n    wordBreak: 'normal',\n    MozTabSize: '4',\n    OTabSize: '4',\n    tabSize: '4',\n    WebkitHyphens: 'none',\n    MozHyphens: 'none',\n    msHyphens: 'none',\n    hyphens: 'none',\n    background: '#2a2734',\n    color: '#5DFAFC', // D\n  },\n  'pre[class*=\"language-\"]': {\n    fontFamily:\n      'Consolas, Menlo, Monaco, \"Andale Mono WT\", \"Andale Mono\", \"Lucida Console\", \"Lucida Sans Typewriter\", \"DejaVu Sans Mono\", \"Bitstream Vera Sans Mono\", \"Liberation Mono\", \"Nimbus Mono L\", \"Courier New\", Courier, monospace',\n    fontSize: '14px',\n    lineHeight: '1.375',\n    direction: 'ltr',\n    textAlign: 'left',\n    whiteSpace: 'pre',\n    wordSpacing: 'normal',\n    wordBreak: 'normal',\n    MozTabSize: '4',\n    OTabSize: '4',\n    tabSize: '4',\n    WebkitHyphens: 'none',\n    MozHyphens: 'none',\n    msHyphens: 'none',\n    hyphens: 'none',\n    background: '#2a2734',\n    color: '#5DFAFC', // D\n    padding: '1em',\n    margin: '.5em 0',\n    overflow: 'auto',\n  },\n  'pre > code[class*=\"language-\"]': {\n    fontSize: '1em',\n  },\n  'pre[class*=\"language-\"]::-moz-selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'pre[class*=\"language-\"] ::-moz-selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'code[class*=\"language-\"]::-moz-selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'code[class*=\"language-\"] ::-moz-selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'pre[class*=\"language-\"]::selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'pre[class*=\"language-\"] ::selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'code[class*=\"language-\"]::selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  'code[class*=\"language-\"] ::selection': {\n    textShadow: 'none',\n    background: '#6a51e6',\n  },\n  ':not(pre) > code[class*=\"language-\"]': {\n    padding: '.1em',\n    borderRadius: '.3em',\n  },\n  comment: {\n    color: '#6c6783',\n  },\n  prolog: {\n    color: '#6c6783',\n  },\n  doctype: {\n    color: '#6c6783',\n  },\n  cdata: {\n    color: '#6c6783',\n  },\n  punctuation: {\n    color: '#6c6783',\n  },\n  namespace: {\n    Opacity: '.7',\n  },\n  tag: {\n    color: '#3AACE2', // D\n  },\n  operator: {\n    color: '#3AACE2', // D\n  },\n  number: {\n    color: '#3AACE2', // D\n  },\n  property: {\n    color: '#5DFAFC', // D\n  },\n  function: {\n    color: '#5DFAFC', // D\n  },\n  'tag-id': {\n    color: '#eeebff',\n  },\n  selector: {\n    color: '#eeebff',\n  },\n  'atrule-id': {\n    color: '#eeebff',\n  },\n  'code.language-javascript': {\n    color: '#c4b9fe',\n  },\n  'attr-name': {\n    color: '#c4b9fe',\n  },\n  'code.language-css': {\n    color: '#ffffff', // D\n  },\n  'code.language-scss': {\n    color: '#ffffff', // D\n  },\n  boolean: {\n    color: '#ffffff', // D\n  },\n  string: {\n    color: '#ffffff', // D\n  },\n  entity: {\n    color: '#ffffff', // D\n    cursor: 'help',\n  },\n  url: {\n    color: '#ffffff', // D\n  },\n  '.language-css .token.string': {\n    color: '#ffffff', // D\n  },\n  '.language-scss .token.string': {\n    color: '#ffffff', // D\n  },\n  '.style .token.string': {\n    color: '#ffffff', // D\n  },\n  'attr-value': {\n    color: '#ffffff', // D\n  },\n  keyword: {\n    color: '#ffffff', // D\n  },\n  control: {\n    color: '#ffffff', // D\n  },\n  directive: {\n    color: '#ffffff', // D\n  },\n  unit: {\n    color: '#ffffff', // D\n  },\n  statement: {\n    color: '#ffffff', // D\n  },\n  regex: {\n    color: '#ffffff', // D\n  },\n  atrule: {\n    color: '#ffffff', // D\n  },\n  placeholder: {\n    color: '#ffffff', // D\n  },\n  variable: {\n    color: '#ffffff', // D\n  },\n  deleted: {\n    textDecoration: 'line-through',\n  },\n  inserted: {\n    borderBottom: '1px dotted #eeebff',\n    textDecoration: 'none',\n  },\n  italic: {\n    fontStyle: 'italic',\n  },\n  important: {\n    fontWeight: 'bold',\n    color: '#c4b9fe',\n  },\n  bold: {\n    fontWeight: 'bold',\n  },\n  'pre > code.highlight': {\n    Outline: '.4em solid #8a75f5',\n    OutlineOffset: '.4em',\n  },\n  '.line-numbers.line-numbers .line-numbers-rows': {\n    borderRightColor: '#2c2937',\n  },\n  '.line-numbers .line-numbers-rows > span:before': {\n    color: '#3c3949',\n  },\n  '.line-highlight.line-highlight': {\n    background: 'linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))',\n  },\n};\n\nexport default databricksDuotoneDarkTheme;\n","import {\n  AutoComplete,\n  Button,\n  CloseIcon,\n  InfoFillIcon,\n  InfoSmallIcon,\n  Input,\n  LegacyTooltip,\n  SearchIcon,\n  Tooltip,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport type { ErrorWrapper } from '../../common/utils/ErrorWrapper';\nimport type {\n  EntitySearchAutoCompleteEntity,\n  EntitySearchAutoCompleteOptionGroup,\n} from './EntitySearchAutoComplete.utils';\nimport { getEntitySearchEntitiesAndIndices, getFilteredOptionsFromEntityName } from './EntitySearchAutoComplete.utils';\nimport { shouldEnableMinMaxMetricsOnExperimentPage } from '../../common/utils/FeatureUtils';\nimport {\n  createQuickRegexpSearchFilter,\n  detectSqlSyntaxInSearchQuery,\n} from './experiment-page/utils/experimentPage.fetch-utils';\nimport { FormattedMessage } from 'react-intl';\nimport { isEqual } from 'lodash';\nimport { useExperimentViewLocalStore } from './experiment-page/hooks/useExperimentViewLocalStore';\n\nconst TOOLTIP_COOKIE_KEY = 'tooltipLastPopup';\nconst WEEK_IN_SECONDS = 604800;\n\nexport type EntitySearchAutoCompleteCompleteProps = {\n  baseOptions: EntitySearchAutoCompleteOptionGroup[];\n  searchFilter: string;\n  onSearchFilterChange: (newValue: string) => void;\n  onClear: () => void;\n  requestError?: ErrorWrapper | Error | null;\n  tooltipContent?: React.ReactNode;\n  placeholder?: string;\n  useQuickFilter?: boolean;\n  defaultActiveFirstOption?: boolean;\n  className?: string;\n};\n\n/**\n * Autocomplete component that provides suggestions for MLflow search entity names.\n */\nexport const EntitySearchAutoComplete = ({\n  baseOptions,\n  searchFilter,\n  requestError = null,\n  onSearchFilterChange,\n  onClear,\n  tooltipContent,\n  placeholder,\n  useQuickFilter,\n  defaultActiveFirstOption = true,\n  className,\n}: EntitySearchAutoCompleteCompleteProps) => {\n  const { theme, getPrefixedClassName } = useDesignSystemTheme();\n\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const intl = useIntl();\n\n  const [text, setText] = useState<string>('');\n  const [autocompleteEnabled, setAutocompleteEnabled] = useState<boolean | undefined>(undefined);\n  const [focused, setFocused] = useState(false);\n  const onFocus = () => setFocused(true);\n  const onBlur = () => setFocused(false);\n  // Determines whether the text was changed by making a selection in the autocomplete\n  // dialog, as opposed to by typing.\n  const [lastSetBySelection, setLastSetBySelection] = useState(false);\n\n  // How many suggestions should be shown per entity group before the group is ellipsized.\n  const [suggestionLimits, setSuggestionLimits] = useState({\n    Metrics: 10,\n    Parameters: 10,\n    Tags: 10,\n  });\n  // List of entities parsed from `text`.\n  const currentEntitiesRef = useRef<EntitySearchAutoCompleteEntity[]>([]);\n  const [entityBeingEdited, setEntityBeingEdited] = useState<EntitySearchAutoCompleteEntity | undefined>(undefined);\n\n  // Each time we're setting search filter externally, update it here as well\n  useEffect(() => {\n    setText(searchFilter);\n  }, [searchFilter]);\n\n  useEffect(() => {\n    const previousEntities = currentEntitiesRef.current;\n    const newEntities = getEntitySearchEntitiesAndIndices(text);\n    currentEntitiesRef.current = newEntities;\n\n    if (lastSetBySelection) {\n      setLastSetBySelection(false);\n      return;\n    }\n    const currentEntitiesNames = newEntities.map((e) => e.name);\n    const previousEntitiesNames = previousEntities.map((e) => e.name);\n    if (!isEqual(currentEntitiesNames, previousEntitiesNames) && newEntities.length >= previousEntities.length) {\n      let i = 0;\n      while (i < newEntities.length) {\n        if (i >= previousEntities.length || newEntities[i].name.trim() !== previousEntities[i].name.trim()) {\n          setAutocompleteEnabled(true);\n          setEntityBeingEdited(newEntities[i]);\n          return;\n        }\n        i++;\n      }\n    }\n    // If here, no entity is being edited\n    setAutocompleteEnabled(false);\n    // currentEntitiesRef is not used anywhere else and state setters are safe to\n    // omit from hook dependencies as per react docs\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [text]);\n\n  const filteredOptions = useMemo(() => {\n    if (!entityBeingEdited) {\n      return [];\n    }\n    return getFilteredOptionsFromEntityName(baseOptions, entityBeingEdited, suggestionLimits);\n  }, [baseOptions, entityBeingEdited, suggestionLimits]);\n\n  /**\n   * Called when an option is picked from the autocomplete dropdown, either by hitting enter\n   * when selected, or clicking on it\n   * @param value\n   */\n  const onSelect = useCallback(\n    (value: string, option: any) => {\n      if (!entityBeingEdited) {\n        return;\n      }\n      if (value.startsWith('...')) {\n        // Keep the dialog open as this is not a real selection\n        setAutocompleteEnabled(true);\n        const groupName = option.value.split('_')[1];\n        setSuggestionLimits((prevSuggestionLimits) => ({\n          ...prevSuggestionLimits,\n          [groupName]: (prevSuggestionLimits as any)[groupName] + 10,\n        }));\n      } else {\n        const prefix = text.substring(0, entityBeingEdited.startIndex);\n        const suffix = text.substring(entityBeingEdited.endIndex);\n        setText(prefix + value + ' ' + suffix);\n        setLastSetBySelection(true);\n        setAutocompleteEnabled(false);\n      }\n    },\n    [text, setText, entityBeingEdited, setAutocompleteEnabled],\n  );\n\n  const localStorageInstance = useExperimentViewLocalStore(TOOLTIP_COOKIE_KEY);\n\n  const [showTooltipOnError, setShowTooltipOnError] = useState(() => {\n    const currentTimeSecs = Math.floor(Date.now() / 1000);\n    const storedItem = localStorageInstance.getItem(TOOLTIP_COOKIE_KEY);\n    // Show tooltip again if it was last shown 1 week ago or older\n    return !storedItem || parseInt(storedItem, 10) < currentTimeSecs - WEEK_IN_SECONDS;\n  });\n  const tooltipIcon = React.useRef<HTMLButtonElement>(null);\n\n  const quickRegexpFilter = useMemo(() => {\n    if (useQuickFilter && text.length > 0 && !detectSqlSyntaxInSearchQuery(text)) {\n      return createQuickRegexpSearchFilter(text);\n    }\n    return undefined;\n  }, [text, useQuickFilter]);\n\n  // If requestError has changed and there is an error, pop up the tooltip\n  useEffect(() => {\n    if (requestError && showTooltipOnError) {\n      const currentTimeSecs = Math.floor(Date.now() / 1000);\n      localStorageInstance.setItem(TOOLTIP_COOKIE_KEY, currentTimeSecs);\n      setShowTooltipOnError(false);\n      tooltipIcon.current?.click();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [requestError]);\n\n  const noMatches = filteredOptions.flatMap((o) => o.options).length === 0;\n  const open = autocompleteEnabled && focused && !noMatches;\n\n  // Callback fired when key is pressed on the input\n  const triggerSearch: React.KeyboardEventHandler<HTMLInputElement> = useCallback(\n    (e) => {\n      // Get the class name for the active item in the dropdown\n      const activeItemClass = getPrefixedClassName('select-item-option-active');\n      const dropdownContainsActiveItem = Boolean(dropdownRef.current?.querySelector(`.${activeItemClass}`));\n\n      if (e.key === 'Enter') {\n        // If the autocomplete dialog is open, close it\n        if (open) {\n          setAutocompleteEnabled(false);\n        }\n        // If the autocomplete dialog is closed or user didn't select any item, trigger search\n        if (!open || !dropdownContainsActiveItem) {\n          onSearchFilterChange(text);\n        }\n      }\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        if (open) {\n          setAutocompleteEnabled(false);\n        }\n      }\n    },\n    [open, text, onSearchFilterChange, getPrefixedClassName],\n  );\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        gap: theme.spacing.sm,\n        width: 430,\n        [theme.responsive.mediaQueries.xs]: {\n          width: 'auto',\n        },\n      }}\n      className={className}\n    >\n      <AutoComplete\n        dropdownMatchSelectWidth={560}\n        css={{\n          width: 560,\n          [theme.responsive.mediaQueries.xs]: {\n            width: 'auto',\n          },\n        }}\n        defaultOpen={false}\n        defaultActiveFirstOption={defaultActiveFirstOption && !useQuickFilter}\n        open={open}\n        options={filteredOptions}\n        onSelect={onSelect}\n        value={text}\n        data-testid=\"runs-search-autocomplete\"\n        dropdownRender={(menu) => (\n          <div\n            css={{\n              '.du-bois-light-select-item-option-active:not(.du-bois-light-select-item-option-disabled)': {\n                // TODO: ask the design team about the color existing in the palette\n                backgroundColor: '#e6f1f5',\n              },\n            }}\n            ref={dropdownRef}\n          >\n            {menu}\n          </div>\n        )}\n      >\n        <Input\n          componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_236\"\n          value={text}\n          prefix={\n            <SearchIcon\n              css={{\n                svg: {\n                  width: theme.general.iconFontSize,\n                  height: theme.general.iconFontSize,\n                  color: theme.colors.textSecondary,\n                },\n              }}\n            />\n          }\n          onKeyDown={triggerSearch}\n          onClick={onFocus}\n          onBlur={onBlur}\n          onChange={(e) => setText(e.target.value)}\n          placeholder={placeholder}\n          data-testid=\"search-box\"\n          suffix={\n            <div css={{ display: 'flex', gap: 4, alignItems: 'center' }}>\n              {text && (\n                <Button\n                  componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_212\"\n                  onClick={() => {\n                    onClear();\n                    setText('');\n                  }}\n                  type=\"link\"\n                  data-testid=\"clear-button\"\n                >\n                  <CloseIcon />\n                </Button>\n              )}\n              {quickRegexpFilter ? (\n                <Tooltip\n                  componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_runs_runssearchautocomplete.tsx_310\"\n                  content={\n                    <FormattedMessage\n                      defaultMessage=\"Using regular expression quick filter. The following query will be used: {filterSample}\"\n                      description=\"Experiment page > control bar > search filter > a label displayed when user has entered a simple query that will be automatically transformed into RLIKE SQL query before being sent to the API\"\n                      values={{\n                        filterSample: (\n                          <div>\n                            <code>{quickRegexpFilter}</code>\n                          </div>\n                        ),\n                      }}\n                    />\n                  }\n                  delayDuration={0}\n                >\n                  <InfoFillIcon\n                    aria-label={intl.formatMessage(\n                      {\n                        defaultMessage:\n                          'Using regular expression quick filter. The following query will be used: {filterSample}',\n                        description:\n                          'Experiment page > control bar > search filter > a label displayed when user has entered a simple query that will be automatically transformed into RLIKE SQL query before being sent to the API',\n                      },\n                      {\n                        filterSample: quickRegexpFilter,\n                      },\n                    )}\n                    css={{\n                      svg: {\n                        width: theme.general.iconFontSize,\n                        height: theme.general.iconFontSize,\n                        color: theme.colors.actionPrimaryBackgroundDefault,\n                      },\n                    }}\n                  />\n                </Tooltip>\n              ) : (\n                <LegacyTooltip\n                  title={tooltipContent}\n                  placement=\"right\"\n                  dangerouslySetAntdProps={{\n                    overlayInnerStyle: { width: '150%' },\n                    trigger: ['focus', 'click'],\n                  }}\n                >\n                  <Button\n                    size=\"small\"\n                    ref={tooltipIcon}\n                    componentId=\"mlflow.experiment_page.search_filter.tooltip\"\n                    type=\"link\"\n                    css={{ marginLeft: -theme.spacing.xs, marginRight: -theme.spacing.xs }}\n                    icon={\n                      <InfoSmallIcon\n                        css={{\n                          svg: {\n                            width: theme.general.iconFontSize,\n                            height: theme.general.iconFontSize,\n                            color: theme.colors.textSecondary,\n                          },\n                        }}\n                      />\n                    }\n                  />\n                </LegacyTooltip>\n              )}\n            </div>\n          }\n        />\n      </AutoComplete>\n    </div>\n  );\n};\n","import { isEqual } from 'lodash';\nimport { useRef } from 'react';\n\n/**\n * Utility hook that memoizes value based on deep comparison.\n * Dedicated to a few limited use cases where deep comparison is still cheaper than resulting re-renders.\n */\nexport const useMemoDeep = <T>(factory: () => T, deps: unknown[]): T => {\n  const ref = useRef<{ deps: unknown[]; value: T }>();\n\n  if (!ref.current || !isEqual(deps, ref.current.deps)) {\n    ref.current = { deps, value: factory() };\n  }\n\n  return ref.current.value;\n};\n","import { useMemo } from 'react';\nimport LocalStorageUtils from '../../../../common/utils/LocalStorageUtils';\n\n/**\n * This hook returns a memoized version of persistable store namespaced for the ExperimentView.\n * It can serve as a store for persisting state for a particular experiment - in this case,\n * the experiment id should be provided as a `identifier` parameter. It can also serve as a store for some\n * general purpose - e.g. you can provide \"onboarding\" as a identifier to get a store specific\n * for the onboarding section of the experiment view.\n *\n * @param storeIdentifier a unique identifier of created store - can be an experiment id or a general purpose name\n */\nexport const useExperimentViewLocalStore = (storeIdentifier: string) =>\n  useMemo(() => LocalStorageUtils.getStoreForComponent('ExperimentView', storeIdentifier), [storeIdentifier]);\n","import type { MutableRefObject } from 'react';\nimport { useCallback, useLayoutEffect, useRef, useState } from 'react';\n\nexport function useResizableMaxWidth(minWidth: number) {\n  const ref: MutableRefObject<HTMLDivElement | null> = useRef<HTMLDivElement>(null);\n  const [containerWidth, setContainerWidth] = useState<number | undefined>(undefined);\n\n  const updateWidth = useCallback(() => {\n    if (ref.current) {\n      setContainerWidth(ref.current.clientWidth);\n    }\n  }, []);\n\n  useLayoutEffect(() => {\n    updateWidth();\n    window.addEventListener('resize', updateWidth);\n    return () => window.removeEventListener('resize', updateWidth);\n  }, [updateWidth]);\n\n  const refCallback = useCallback(\n    (node: HTMLDivElement) => {\n      ref.current = node;\n      updateWidth();\n    },\n    [updateWidth],\n  );\n\n  const resizableMaxWidth = containerWidth === undefined ? undefined : containerWidth - minWidth;\n  return { resizableMaxWidth, ref: refCallback };\n}\n","import { Button, ChevronLeftIcon, ChevronRightIcon, useDesignSystemTheme } from '@databricks/design-system';\nimport React, { useState } from 'react';\nimport { ResizableBox } from 'react-resizable';\nimport { useUpdateExperimentViewUIState } from '../../contexts/ExperimentPageUIStateContext';\nimport { Global } from '@emotion/react';\n\nconst RESIZE_BAR_WIDTH = 3;\n\n/**\n * A component wrapping experiment runs table and providing a resizer\n * to adjust its width when displayed in a split view.\n */\nexport const ExperimentViewRunsTableResizer = ({\n  runListHidden,\n  width,\n  onResize,\n  children,\n  onHiddenChange,\n  maxWidth,\n}: React.PropsWithChildren<{\n  runListHidden: boolean;\n  width: number;\n  onResize: React.Dispatch<React.SetStateAction<number>>;\n  onHiddenChange?: (isHidden: boolean) => void;\n  maxWidth: number | undefined;\n}>) => {\n  const updateUIState = useUpdateExperimentViewUIState();\n  const [dragging, setDragging] = useState(false);\n\n  return (\n    <>\n      <ResizableBox\n        css={{ display: 'flex', position: 'relative' }}\n        style={{ flex: `0 0 ${runListHidden ? 0 : width}px` }}\n        width={width}\n        axis=\"x\"\n        resizeHandles={['e']}\n        minConstraints={[250, 0]}\n        maxConstraints={maxWidth === undefined ? undefined : [maxWidth, 0]}\n        handle={\n          <ExperimentViewRunsTableResizerHandle\n            runListHidden={runListHidden}\n            updateRunListHidden={(value) => {\n              if (onHiddenChange) {\n                onHiddenChange(value);\n                return;\n              }\n              updateUIState((state) => ({ ...state, runListHidden: value }));\n            }}\n          />\n        }\n        onResize={(event, { size }) => {\n          if (runListHidden) {\n            return;\n          }\n          onResize(size.width);\n        }}\n        onResizeStart={() => !runListHidden && setDragging(true)}\n        onResizeStop={() => setDragging(false)}\n      >\n        {children}\n      </ResizableBox>\n      {dragging && (\n        <Global\n          styles={{\n            'body, :host': {\n              userSelect: 'none',\n            },\n          }}\n        />\n      )}\n    </>\n  );\n};\n\nexport const ExperimentViewRunsTableResizerHandle = React.forwardRef<\n  HTMLDivElement,\n  {\n    updateRunListHidden: (newValue: boolean) => void;\n    runListHidden: boolean;\n  }\n>(({ updateRunListHidden, runListHidden, ...props }, ref) => {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div\n      ref={ref}\n      {...props}\n      css={{\n        transition: 'opacity 0.2s',\n        width: 0,\n        overflow: 'visible',\n        height: '100%',\n        position: 'relative',\n        zIndex: 10,\n        display: 'flex',\n        opacity: runListHidden ? 1 : 0,\n        '&:hover': {\n          opacity: 1,\n          '.bar': { opacity: 1 },\n          '.button': {\n            border: `2px solid ${theme.colors.actionDefaultBorderHover}`,\n          },\n        },\n      }}\n    >\n      <div\n        css={{\n          position: 'absolute',\n          // For the resizing area, use the icon size which is\n          // the same as \"collapse\" button\n          left: -theme.general.iconSize / 2,\n          width: theme.general.iconSize,\n          cursor: runListHidden ? undefined : 'ew-resize',\n          height: '100%',\n          top: 0,\n          bottom: 0,\n        }}\n      >\n        <div\n          className=\"button\"\n          css={{\n            top: '50%',\n            transition: 'border-color 0.2s',\n            position: 'absolute',\n            width: theme.general.iconSize,\n            height: theme.general.iconSize,\n            backgroundColor: theme.colors.backgroundPrimary,\n            borderRadius: theme.general.iconSize,\n            overflow: 'hidden',\n            border: `1px solid ${theme.colors.border}`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 11,\n          }}\n        >\n          <Button\n            componentId=\"mlflow.experiment_page.table_resizer.collapse\"\n            onClick={() => updateRunListHidden(!runListHidden)}\n            icon={runListHidden ? <ChevronRightIcon /> : <ChevronLeftIcon />}\n            size=\"small\"\n          />\n        </div>\n      </div>\n      <div\n        className=\"bar\"\n        css={{\n          position: 'absolute',\n          opacity: 0,\n          left: -RESIZE_BAR_WIDTH / 2,\n          width: RESIZE_BAR_WIDTH,\n          height: '100%',\n          top: 0,\n          bottom: 0,\n          backgroundColor: theme.colors.actionPrimaryBackgroundDefault,\n        }}\n      />\n    </div>\n  );\n});\n","import type { ReactElement } from 'react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useClipboard } from 'use-clipboard-copy';\n\nimport { CheckIcon, CopyIcon } from '@databricks/design-system';\nimport { useIntl } from '@databricks/i18n';\n\nexport interface CopyController {\n  actionIcon: ReactElement;\n  tooltipMessage: string;\n  copy: () => void;\n  copied: boolean;\n  ariaLabel: string;\n  tooltipOpen: boolean;\n  handleTooltipOpenChange: (open: boolean) => void;\n}\n\n/**\n * Utility hook that is internal to web-shared, use: `Copyable` or `CopyActionButton`\n *  or if it's a `CodeSnippet`, `SnippetCopyAction`\n */\nexport function useCopyController(text: string, copyTooltip?: string, onCopy?: () => void): CopyController {\n  const intl = useIntl();\n\n  const copyMessage = copyTooltip\n    ? copyTooltip\n    : intl.formatMessage({\n        defaultMessage: 'Copy',\n        description: 'Tooltip message displayed on copy action',\n      });\n\n  const copiedMessage = intl.formatMessage({\n    defaultMessage: 'Copied',\n    description: 'Tooltip message displayed on copy action after it has been clicked',\n  });\n\n  const clipboard = useClipboard();\n  const copiedTimerIdRef = useRef<number>();\n  const [copied, setCopied] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    return () => {\n      window.clearTimeout(copiedTimerIdRef.current);\n    };\n  }, []);\n\n  const copy = () => {\n    clipboard.copy(text);\n    window.clearTimeout(copiedTimerIdRef.current);\n    setCopied(true);\n    onCopy?.();\n    copiedTimerIdRef.current = window.setTimeout(() => {\n      setCopied(false);\n    }, 3000);\n  };\n\n  return {\n    actionIcon: copied ? <CheckIcon /> : <CopyIcon />,\n    tooltipMessage: copied ? copiedMessage : copyMessage,\n    copy,\n    copied,\n    ariaLabel: copyMessage,\n    tooltipOpen: open || copied,\n    handleTooltipOpenChange: setOpen,\n  };\n}\n","import { coerceToEnum } from '@databricks/web-shared/utils';\nimport { useSearchParams } from '../../../../common/utils/RoutingUtils';\n\nexport enum ExperimentLoggedModelListPageMode {\n  TABLE = 'TABLE',\n  CHART = 'CHART',\n}\n\nconst VIEW_MODE_QUERY_PARAM = 'viewMode';\n\nexport const useExperimentLoggedModelListPageMode = () => {\n  const [params, setParams] = useSearchParams();\n  const viewMode = coerceToEnum(\n    ExperimentLoggedModelListPageMode,\n    params.get(VIEW_MODE_QUERY_PARAM),\n    ExperimentLoggedModelListPageMode.TABLE,\n  );\n  const setViewMode = (mode: ExperimentLoggedModelListPageMode) => {\n    setParams({ [VIEW_MODE_QUERY_PARAM]: mode });\n  };\n  return { viewMode, setViewMode } as const;\n};\n","import { FormattedMessage } from 'react-intl';\nimport { EntitySearchAutoComplete } from '../EntitySearchAutoComplete';\nimport type { LoggedModelProto } from '../../types';\nimport { useMemo } from 'react';\nimport type { EntitySearchAutoCompleteEntityNameGroup } from '../EntitySearchAutoComplete.utils';\nimport { getEntitySearchOptionsFromEntityNames } from '../EntitySearchAutoComplete.utils';\nimport { isUserFacingTag } from '../../../common/utils/TagUtils';\n\nconst getEntityNamesFromLoggedModelsData = (\n  loggedModels: LoggedModelProto[],\n): EntitySearchAutoCompleteEntityNameGroup => {\n  const metricNames = new Set<string>();\n  const paramNames = new Set<string>();\n  const tagNames = new Set<string>();\n\n  for (const loggedModel of loggedModels) {\n    loggedModel.data?.metrics?.forEach((metric) => metric.key && metricNames.add(metric.key));\n    loggedModel.data?.params?.forEach((param) => param.key && paramNames.add(param.key));\n    loggedModel.info?.tags?.forEach((tag) => tag.key && tagNames.add(tag.key));\n  }\n\n  return {\n    metricNames: Array.from(metricNames),\n    paramNames: Array.from(paramNames),\n    tagNames: Array.from(tagNames).filter(isUserFacingTag),\n  };\n};\n\nconst VALID_FILTER_ATTRIBUTES = [\n  'model_id',\n  'model_name',\n  'status',\n  'artifact_uri',\n  'creation_time',\n  'last_updated_time',\n];\n\nexport const ExperimentLoggedModelListPageAutoComplete = ({\n  searchQuery,\n  onChangeSearchQuery,\n  loggedModelsData,\n}: {\n  searchQuery?: string;\n  onChangeSearchQuery: (searchFilter: string) => void;\n  loggedModelsData: LoggedModelProto[];\n}) => {\n  const options = useMemo(() => {\n    const entityNames = getEntityNamesFromLoggedModelsData(loggedModelsData);\n    const validAttributeOptions = VALID_FILTER_ATTRIBUTES.map((attribute) => ({\n      value: `attributes.${attribute}`,\n    }));\n    return getEntitySearchOptionsFromEntityNames(entityNames, validAttributeOptions);\n  }, [loggedModelsData]);\n\n  return (\n    <EntitySearchAutoComplete\n      searchFilter={searchQuery ?? ''}\n      onSearchFilterChange={onChangeSearchQuery}\n      defaultActiveFirstOption={false}\n      baseOptions={options}\n      onClear={() => onChangeSearchQuery('')}\n      placeholder=\"metrics.rmse >= 0.8\"\n      tooltipContent={\n        <div>\n          <FormattedMessage\n            defaultMessage=\"Search logged models using a simplified version of the SQL {whereBold} clause.\"\n            description=\"Tooltip string to explain how to search logged models from the listing page\"\n            values={{ whereBold: <b>WHERE</b> }}\n          />{' '}\n          <br />\n          <FormattedMessage\n            defaultMessage=\"Examples:\"\n            description=\"Text header for examples of logged models search syntax\"\n          />\n          <br />\n          {'• metrics.rmse >= 0.8'}\n          <br />\n          {'• metrics.`f1 score` < 1'}\n          <br />\n          • params.type = 'tree'\n          <br />\n          • tags.my_tag = 'foobar'\n          <br />\n          • attributes.name = 'elasticnet'\n          <br />\n        </div>\n      }\n    />\n  );\n};\n","import {\n  Button,\n  ChevronDownIcon,\n  DialogCombobox,\n  DialogComboboxContent,\n  DialogComboboxCountBadge,\n  DialogComboboxCustomButtonTriggerWrapper,\n  DialogComboboxOptionList,\n  DialogComboboxOptionListCheckboxItem,\n  TableIcon,\n  useDesignSystemTheme,\n  XCircleFillIcon,\n} from '@databricks/design-system';\nimport { useMemo, useRef } from 'react';\nimport type { LoggedModelMetricDataset, LoggedModelProto } from '../../types';\nimport { useIntl } from 'react-intl';\n\nconst getDatasetHash = (dataset: LoggedModelMetricDataset) =>\n  JSON.stringify([dataset.dataset_name, dataset.dataset_digest]);\n\nexport const ExperimentLoggedModelListPageDatasetDropdown = ({\n  loggedModelsData,\n  selectedFilterDatasets,\n  onToggleDataset,\n  onClearSelectedDatasets,\n}: {\n  loggedModelsData: LoggedModelProto[];\n  selectedFilterDatasets?: LoggedModelMetricDataset[];\n  onToggleDataset?: (dataset: LoggedModelMetricDataset) => void;\n  onClearSelectedDatasets?: () => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const intl = useIntl();\n\n  const cachedDatasets = useRef<Map<string, { hash: string } & LoggedModelMetricDataset>>(new Map());\n\n  // Get all datasets with their hashes, also store them in an aggregated map.\n  // The hash is used as a unique key and also being fed to DialogCombobox since it exclusively uses string values.\n  // The map is used to aggregate all datasets encountered in the logged models data during the session.\n  const allDatasets = useMemo(() => {\n    for (const model of loggedModelsData) {\n      for (const metric of model.data?.metrics || []) {\n        if (!metric.dataset_name || !metric.dataset_digest) {\n          continue;\n        }\n        const datasetHash = getDatasetHash(metric);\n        if (!cachedDatasets.current.has(datasetHash)) {\n          // We're purposely using mutable hashmap in the memo hook\n          cachedDatasets.current.set(datasetHash, {\n            hash: datasetHash,\n            dataset_name: metric.dataset_name,\n            dataset_digest: metric.dataset_digest,\n          });\n        }\n      }\n    }\n    return Array.from(cachedDatasets.current.values());\n  }, [loggedModelsData]);\n\n  // Serialize the selected datasets to a string format for the DialogCombobox.\n  const serializedSelectedDatasets = useMemo(\n    () => selectedFilterDatasets?.map(getDatasetHash) || [],\n    [selectedFilterDatasets],\n  );\n\n  return (\n    <DialogCombobox\n      componentId=\"mlflow.logged_model.list_page.datasets_filter\"\n      id=\"mlflow.logged_model.list_page.datasets_filter\"\n      value={serializedSelectedDatasets}\n      label={intl.formatMessage({\n        defaultMessage: 'Datasets',\n        description: 'Label for the datasets filter dropdown in the logged model list page',\n      })}\n      stayOpenOnSelection\n    >\n      <DialogComboboxCustomButtonTriggerWrapper>\n        <Button\n          endIcon={<ChevronDownIcon />}\n          componentId=\"mlflow.logged_model.list_page.datasets_filter.toggle\"\n          icon={<TableIcon />}\n        >\n          Datasets\n          {serializedSelectedDatasets.length > 0 ? (\n            <>\n              <DialogComboboxCountBadge css={{ marginLeft: 4 }}>\n                {serializedSelectedDatasets.length}\n              </DialogComboboxCountBadge>\n              <XCircleFillIcon\n                aria-hidden=\"false\"\n                role=\"button\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  e.preventDefault();\n                  onClearSelectedDatasets?.();\n                }}\n                css={{\n                  color: theme.colors.textPlaceholder,\n                  fontSize: theme.typography.fontSizeSm,\n                  marginLeft: theme.spacing.xs,\n\n                  ':hover': {\n                    color: theme.colors.actionTertiaryTextHover,\n                  },\n                }}\n              />\n            </>\n          ) : null}\n        </Button>\n      </DialogComboboxCustomButtonTriggerWrapper>\n      <DialogComboboxContent>\n        <DialogComboboxOptionList>\n          {allDatasets.map(({ hash: serializedDataset, dataset_digest, dataset_name }) => (\n            <DialogComboboxOptionListCheckboxItem\n              value={serializedDataset}\n              checked={serializedSelectedDatasets.includes(serializedDataset)}\n              key={serializedDataset}\n              onChange={() => onToggleDataset?.({ dataset_digest, dataset_name })}\n            >\n              {dataset_name} (#{dataset_digest})\n            </DialogComboboxOptionListCheckboxItem>\n          ))}\n        </DialogComboboxOptionList>\n      </DialogComboboxContent>\n    </DialogCombobox>\n  );\n};\n","import {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  Button,\n  DropdownMenu,\n  Input,\n  SearchIcon,\n  SortAscendingIcon,\n  SortDescendingIcon,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useMemo, useState } from 'react';\n\nimport type { IntlShape, MessageDescriptor } from 'react-intl';\nimport { defineMessage, FormattedMessage, useIntl } from 'react-intl';\nimport { ToggleIconButton } from '../../../common/components/ToggleIconButton';\nimport {\n  ExperimentLoggedModelListPageKnownColumns,\n  LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX,\n  parseLoggedModelMetricOrderByColumnId,\n} from './hooks/useExperimentLoggedModelListPageTableColumns';\n\ninterface BasicColumnDef {\n  colId?: string;\n  groupId?: string;\n  headerName?: string;\n  children?: BasicColumnDef[];\n}\n\nconst getSortableColumnLabel = (colId: string | ExperimentLoggedModelListPageKnownColumns, intl: IntlShape) => {\n  const labels: Partial<Record<ExperimentLoggedModelListPageKnownColumns | string, MessageDescriptor>> = {\n    [ExperimentLoggedModelListPageKnownColumns.CreationTime]: defineMessage({\n      defaultMessage: 'Creation time',\n      description: 'Label for the creation time column in the logged model list page',\n    }),\n  };\n\n  const descriptor = labels[colId];\n\n  if (descriptor) {\n    return intl.formatMessage(descriptor);\n  }\n\n  const parsedColumn = parseLoggedModelMetricOrderByColumnId(colId);\n\n  if (parsedColumn) {\n    return parsedColumn.metricKey;\n  }\n\n  return colId;\n};\n\nexport const ExperimentLoggedModelListPageOrderBySelector = ({\n  orderByColumn,\n  orderByAsc,\n  onChangeOrderBy,\n  columnDefs = [],\n}: {\n  orderByColumn: string;\n  orderByAsc?: boolean;\n  onChangeOrderBy: (orderByColumn: string, orderByAsc: boolean) => void;\n  columnDefs: BasicColumnDef[] | undefined;\n}) => {\n  const intl = useIntl();\n  const [filter, setFilter] = useState('');\n  const { theme } = useDesignSystemTheme();\n\n  const groupedOrderByOptions = useMemo<BasicColumnDef[]>(() => {\n    const lowerCaseFilter = filter.toLowerCase();\n    const attributeColumnGroup = {\n      groupId: 'attributes',\n      headerName: intl.formatMessage({\n        defaultMessage: 'Attributes',\n        description: 'Label for the attributes column group in the logged model column selector',\n      }),\n      children: [\n        {\n          colId: ExperimentLoggedModelListPageKnownColumns.CreationTime,\n          headerName: getSortableColumnLabel(ExperimentLoggedModelListPageKnownColumns.CreationTime, intl),\n        },\n      ].filter(({ headerName }) => headerName?.toLowerCase().includes(lowerCaseFilter)),\n    };\n\n    // Next, get all the dataset-grouped metric column groups\n    const metricColumnGroups = columnDefs\n      .filter((col) => col.groupId?.startsWith(LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX))\n      .map((col) => ({\n        ...col,\n        children: col.children?.filter(({ colId }) => colId?.includes(lowerCaseFilter)),\n        headerName: col.headerName\n          ? `Metrics (${col.headerName})`\n          : intl.formatMessage({\n              defaultMessage: 'Metrics',\n              description: 'Label for the ungrouped metrics column group in the logged model column selector',\n            }),\n      }));\n\n    const sortableColumnGroups = [attributeColumnGroup, ...metricColumnGroups].filter(\n      (col) => col.children && col.children.length > 0,\n    );\n\n    // If the currently used sorting field is not found, this probably means that\n    // user has filtered out results containing this column. Let's add it to the list\n    // of sortable columns so that user won't be confused.\n    if (\n      !sortableColumnGroups.some((group) => group.children && group.children.some((col) => col.colId === orderByColumn))\n    ) {\n      const { metricKey } = parseLoggedModelMetricOrderByColumnId(orderByColumn);\n\n      if (metricKey) {\n        sortableColumnGroups.push({\n          groupId: 'current',\n          headerName: intl.formatMessage({\n            defaultMessage: 'Currently sorted by',\n            description: 'Label for the custom column group in the logged model column selector',\n          }),\n          children: [{ colId: orderByColumn, headerName: metricKey }],\n        });\n      }\n    }\n    return sortableColumnGroups;\n  }, [columnDefs, intl, filter, orderByColumn]);\n\n  return (\n    <DropdownMenu.Root modal={false}>\n      <DropdownMenu.Trigger asChild>\n        <Button\n          componentId=\"mlflow.logged_model.list.order_by\"\n          icon={orderByAsc ? <SortAscendingIcon /> : <SortDescendingIcon />}\n        >\n          <FormattedMessage\n            defaultMessage=\"Sort: {sortBy}\"\n            description=\"Label for the filter button in the logged model list page. sortBy is the name of the column by which the table is currently sorted.\"\n            values={{ sortBy: getSortableColumnLabel(orderByColumn, intl) }}\n          />\n        </Button>\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Content css={{ maxHeight: 300, overflow: 'auto' }}>\n        <div\n          css={{\n            padding: `${theme.spacing.sm}px ${theme.spacing.lg / 2}px ${theme.spacing.sm}px`,\n            width: '100%',\n            display: 'flex',\n            gap: theme.spacing.xs,\n          }}\n        >\n          <Input\n            componentId=\"mlflow.logged_model.list.order_by.filter\"\n            prefix={<SearchIcon />}\n            value={filter}\n            type=\"search\"\n            onChange={(e) => setFilter(e.target.value)}\n            placeholder={intl.formatMessage({\n              defaultMessage: 'Search',\n              description: 'Placeholder for the search input in the logged model list page sort column selector',\n            })}\n            autoFocus\n            allowClear\n          />\n          <div\n            css={{\n              display: 'flex',\n              gap: theme.spacing.xs,\n            }}\n          >\n            <ToggleIconButton\n              pressed={!orderByAsc}\n              icon={<ArrowDownIcon />}\n              componentId=\"mlflow.logged_model.list.order_by.button_desc\"\n              onClick={() => onChangeOrderBy(orderByColumn, false)}\n              aria-label={intl.formatMessage({\n                defaultMessage: 'Sort descending',\n                description: 'Label for the sort descending button in the logged model list page',\n              })}\n            />\n            <ToggleIconButton\n              pressed={orderByAsc}\n              icon={<ArrowUpIcon />}\n              componentId=\"mlflow.logged_model.list.order_by.button_asc\"\n              onClick={() => onChangeOrderBy(orderByColumn, true)}\n              aria-label={intl.formatMessage({\n                defaultMessage: 'Sort ascending',\n                description: 'Label for the sort ascending button in the logged model list page',\n              })}\n            />\n          </div>\n        </div>\n\n        {groupedOrderByOptions.map(({ headerName, children, groupId }) => (\n          <DropdownMenu.Group key={groupId} aria-label={headerName}>\n            <DropdownMenu.Label>{headerName}</DropdownMenu.Label>\n            {children?.map(({ headerName: columnHeaderName, colId }) => (\n              <DropdownMenu.CheckboxItem\n                key={colId}\n                componentId=\"mlflow.logged_model.list.order_by.column_toggle\"\n                checked={orderByColumn === colId}\n                onClick={() => {\n                  if (!colId) {\n                    return;\n                  }\n                  onChangeOrderBy(colId, Boolean(orderByAsc));\n                }}\n              >\n                <DropdownMenu.ItemIndicator />\n                {columnHeaderName}\n              </DropdownMenu.CheckboxItem>\n            ))}\n          </DropdownMenu.Group>\n        ))}\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n};\n","import { Button, ChevronDownIcon, DropdownMenu, ListBorderIcon } from '@databricks/design-system';\nimport { defineMessage, FormattedMessage, type MessageDescriptor } from 'react-intl';\n\nimport { LoggedModelsTableGroupByMode } from './ExperimentLoggedModelListPageTable.utils';\n\nconst GroupByLabels: Record<LoggedModelsTableGroupByMode, MessageDescriptor> = {\n  [LoggedModelsTableGroupByMode.RUNS]: defineMessage({\n    defaultMessage: 'Source run',\n    description: 'Label for the group by runs option in the logged model list page',\n  }),\n};\n\nexport const ExperimentLoggedModelListPageGroupBySelector = ({\n  groupBy,\n  onChangeGroupBy,\n}: {\n  groupBy: LoggedModelsTableGroupByMode | undefined;\n  onChangeGroupBy?: (groupBy: LoggedModelsTableGroupByMode | undefined) => void;\n}) => {\n  const currentSelectedLabel = groupBy ? GroupByLabels[groupBy] : null;\n\n  return (\n    <DropdownMenu.Root>\n      <DropdownMenu.Trigger asChild>\n        <Button componentId=\"mlflow.logged_model.list.group_by\" icon={<ListBorderIcon />} endIcon={<ChevronDownIcon />}>\n          {currentSelectedLabel ? (\n            <FormattedMessage\n              defaultMessage=\"Group by: {currentModeSelected}\"\n              description=\"Label for the grouping selector button in the logged model list page when groupin mode is selected\"\n              values={{ currentModeSelected: <FormattedMessage {...currentSelectedLabel} /> }}\n            />\n          ) : (\n            <FormattedMessage\n              defaultMessage=\"Group by\"\n              description=\"Label for the grouping selector button in the logged model list page when no grouping is selected\"\n            />\n          )}\n        </Button>\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Content>\n        <DropdownMenu.CheckboxItem\n          checked={!groupBy}\n          componentId=\"mlflow.logged_model.list.group_by.none\"\n          onClick={() => onChangeGroupBy?.(undefined)}\n        >\n          <DropdownMenu.ItemIndicator />\n          <FormattedMessage\n            defaultMessage=\"None\"\n            description=\"Label for the button disabling grouping in the logged model list page\"\n          />\n        </DropdownMenu.CheckboxItem>\n        <DropdownMenu.CheckboxItem\n          checked={groupBy === LoggedModelsTableGroupByMode.RUNS}\n          componentId=\"mlflow.logged_model.list.group_by.runs\"\n          onClick={() => onChangeGroupBy?.(LoggedModelsTableGroupByMode.RUNS)}\n        >\n          <DropdownMenu.ItemIndicator />\n          <FormattedMessage {...GroupByLabels[LoggedModelsTableGroupByMode.RUNS]} />\n        </DropdownMenu.CheckboxItem>\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n};\n","import {\n  Button,\n  ChartLineIcon,\n  Checkbox,\n  ListIcon,\n  SegmentedControlButton,\n  SegmentedControlGroup,\n  SortAscendingIcon,\n  SortDescendingIcon,\n  Tooltip,\n  Typography,\n  useDesignSystemTheme,\n  visuallyHidden,\n} from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { FormattedMessage } from 'react-intl';\nimport type { ColDef, ColGroupDef } from '@ag-grid-community/core';\nimport { ExperimentLoggedModelListPageColumnSelector } from './ExperimentLoggedModelListPageColumnSelector';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { ExperimentLoggedModelListPageMode } from './hooks/useExperimentLoggedModelListPageMode';\nimport { ExperimentLoggedModelListPageAutoComplete } from './ExperimentLoggedModelListPageAutoComplete';\nimport type { LoggedModelMetricDataset, LoggedModelProto } from '../../types';\nimport { ExperimentLoggedModelListPageDatasetDropdown } from './ExperimentLoggedModelListPageDatasetDropdown';\nimport { ExperimentLoggedModelListPageOrderBySelector } from './ExperimentLoggedModelListPageOrderBySelector';\nimport type { LoggedModelsTableGroupByMode } from './ExperimentLoggedModelListPageTable.utils';\nimport { ExperimentLoggedModelListPageGroupBySelector } from './ExperimentLoggedModelListPageGroupBySelector';\n\nexport const ExperimentLoggedModelListPageControls = ({\n  orderByColumn,\n  orderByAsc,\n  sortingAndFilteringEnabled,\n  onChangeOrderBy,\n  onUpdateColumns,\n  columnDefs,\n  columnVisibility = {},\n  viewMode,\n  setViewMode,\n  searchQuery = '',\n  onChangeSearchQuery,\n  loggedModelsData,\n  selectedFilterDatasets,\n  onToggleDataset,\n  onClearSelectedDatasets,\n  groupBy,\n  onChangeGroupBy,\n}: {\n  orderByColumn?: string;\n  orderByAsc?: boolean;\n  groupBy?: LoggedModelsTableGroupByMode;\n  onChangeGroupBy?: (groupBy: LoggedModelsTableGroupByMode | undefined) => void;\n  sortingAndFilteringEnabled?: boolean;\n  onChangeOrderBy: (orderByColumn: string, orderByAsc: boolean) => void;\n  onUpdateColumns: (columnVisibility: Record<string, boolean>) => void;\n  columnDefs?: (ColDef | ColGroupDef)[];\n  columnVisibility?: Record<string, boolean>;\n  viewMode: ExperimentLoggedModelListPageMode;\n  setViewMode: (mode: ExperimentLoggedModelListPageMode) => void;\n  searchQuery?: string;\n  onChangeSearchQuery: (searchFilter: string) => void;\n  loggedModelsData: LoggedModelProto[];\n  selectedFilterDatasets?: LoggedModelMetricDataset[];\n  onToggleDataset?: (dataset: LoggedModelMetricDataset) => void;\n  onClearSelectedDatasets?: () => void;\n}) => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'flex', flexWrap: 'wrap', gap: theme.spacing.sm }}>\n      <SegmentedControlGroup\n        componentId=\"mlflow.logged_model.list.view-mode\"\n        name=\"view-mode\"\n        value={viewMode}\n        onChange={(e) => {\n          setViewMode(\n            coerceToEnum(ExperimentLoggedModelListPageMode, e.target.value, ExperimentLoggedModelListPageMode.TABLE),\n          );\n        }}\n      >\n        <SegmentedControlButton value=\"TABLE\">\n          <Tooltip\n            componentId=\"mlflow.logged_model.list.view-mode-table-tooltip\"\n            content={intl.formatMessage({\n              defaultMessage: 'Table view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          >\n            <ListIcon />\n          </Tooltip>\n          <span css={visuallyHidden}>\n            {intl.formatMessage({\n              defaultMessage: 'Table view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          </span>\n        </SegmentedControlButton>\n        <SegmentedControlButton value=\"CHART\">\n          <Tooltip\n            componentId=\"mlflow.logged_model.list.view-mode-chart-tooltip\"\n            content={intl.formatMessage({\n              defaultMessage: 'Chart view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          >\n            <ChartLineIcon />\n          </Tooltip>\n          <span css={visuallyHidden}>\n            {intl.formatMessage({\n              defaultMessage: 'Chart view',\n              description: 'Label for the table view toggle button in the logged model list page',\n            })}\n          </span>\n        </SegmentedControlButton>\n      </SegmentedControlGroup>\n      {sortingAndFilteringEnabled ? (\n        <>\n          <ExperimentLoggedModelListPageAutoComplete\n            searchQuery={searchQuery}\n            onChangeSearchQuery={onChangeSearchQuery}\n            loggedModelsData={loggedModelsData}\n          />\n          <ExperimentLoggedModelListPageDatasetDropdown\n            loggedModelsData={loggedModelsData}\n            onToggleDataset={onToggleDataset}\n            onClearSelectedDatasets={onClearSelectedDatasets}\n            selectedFilterDatasets={selectedFilterDatasets}\n          />\n          <ExperimentLoggedModelListPageOrderBySelector\n            orderByColumn={orderByColumn ?? ''}\n            orderByAsc={orderByAsc}\n            onChangeOrderBy={onChangeOrderBy}\n            columnDefs={columnDefs}\n          />\n        </>\n      ) : (\n        <Button\n          componentId=\"mlflow.logged_model.list.sort\"\n          icon={orderByAsc ? <SortAscendingIcon /> : <SortDescendingIcon />}\n          onClick={() => {\n            orderByColumn && onChangeOrderBy(orderByColumn, !orderByAsc);\n          }}\n        >\n          <FormattedMessage\n            defaultMessage=\"Sort: Created\"\n            description=\"Label for the sort button in the logged model list page\"\n          />\n        </Button>\n      )}\n      <ExperimentLoggedModelListPageColumnSelector\n        columnDefs={columnDefs}\n        columnVisibility={columnVisibility}\n        onUpdateColumns={onUpdateColumns}\n        disabled={viewMode === ExperimentLoggedModelListPageMode.CHART}\n      />\n      <ExperimentLoggedModelListPageGroupBySelector groupBy={groupBy} onChangeGroupBy={onChangeGroupBy} />\n    </div>\n  );\n};\n","import { compact, keyBy } from 'lodash';\nimport { useMemo } from 'react';\nimport type { LoggedModelProto } from '../../../types';\nimport { getStableColorForRun } from '../../../utils/RunNameUtils';\nimport type { RunsChartsRunData } from '../../runs-charts/components/RunsCharts.common';\nimport { useExperimentLoggedModelListPageRowVisibilityContext } from './useExperimentLoggedModelListPageRowVisibility';\n\nexport const getMetricByDatasetChartDataKey = (metricKey?: string, datasetName?: string) =>\n  datasetName ? JSON.stringify([datasetName, metricKey]) : metricKey ?? '';\n\n/**\n * Creates chart-consumable data based on logged models, including metrics and parameters.\n * TODO: optimize, add unit tests\n */\nexport const useExperimentLoggedModelsChartsData = (loggedModels: LoggedModelProto[]) => {\n  const { isRowHidden } = useExperimentLoggedModelListPageRowVisibilityContext();\n  return useMemo<RunsChartsRunData[]>(\n    () =>\n      compact(\n        loggedModels.map<RunsChartsRunData | null>((model, index) =>\n          model.info?.model_id\n            ? {\n                displayName: model.info?.name ?? model.info?.model_id ?? 'Unknown',\n                images: {},\n\n                metrics: keyBy(\n                  model.data?.metrics?.map(({ dataset_name, key, value, timestamp, step }) => ({\n                    // Instead of using plain metric key, we will use specific data access key generated based on metric key and dataset\n                    dataKey: getMetricByDatasetChartDataKey(key, dataset_name),\n                    key: key ?? '',\n                    value: value ?? 0,\n                    timestamp: timestamp ?? 0,\n                    step: step ?? 0,\n                  })),\n                  'dataKey',\n                ),\n                params: keyBy(\n                  model.data?.params\n                    ?.map(({ key, value }) => ({ key: key ?? '', value: value ?? '' }))\n                    .filter(({ key }) => key) ?? [],\n                  'key',\n                ),\n                tags: {},\n                uuid: model.info.model_id,\n                hidden: isRowHidden(model.info.model_id, index),\n                color: getStableColorForRun(model.info.model_id),\n              }\n            : null,\n        ),\n      ),\n    [loggedModels, isRowHidden],\n  );\n};\n","import { useCallback, useEffect, useReducer, useState } from 'react';\nimport type { ExperimentRunsChartsUIConfiguration } from '../../experiment-page/models/ExperimentPageUIState';\nimport type { ChartSectionConfig } from '../../../types';\nimport type {\n  RunsChartsBarCardConfig,\n  RunsChartsCardConfig,\n  RunsChartsMetricByDatasetEntry,\n} from '../../runs-charts/runs-charts.types';\nimport { RunsChartType } from '../../runs-charts/runs-charts.types';\nimport { isEmpty, uniq } from 'lodash';\nimport type { RunsChartsUIConfigurationSetter } from '../../runs-charts/hooks/useRunsChartsUIConfiguration';\n\ntype UpdateChartStateAction = { type: 'UPDATE'; stateSetter: RunsChartsUIConfigurationSetter };\ntype InitializeChartStateAction = { type: 'INITIALIZE'; initialConfig?: LoggedModelsChartsUIConfiguration };\ntype NewLoggedModelsStateAction = { type: 'METRICS_UPDATED'; metricsByDatasets: RunsChartsMetricByDatasetEntry[] };\n\ntype ChartsReducerAction = UpdateChartStateAction | NewLoggedModelsStateAction | InitializeChartStateAction;\n\ninterface LoggedModelsChartsUIConfiguration extends ExperimentRunsChartsUIConfiguration {\n  isDirty: boolean;\n}\n\nconst createLocalStorageKey = (storeIdentifier: string, version = 1) =>\n  `experiment-logged-models-charts-ui-state-v${version}-${storeIdentifier}`;\n\n/**\n * Generates a list of chart tiles based on logged models metrics and datasets.\n */\nconst getExperimentLoggedModelsPageChartSetup = (metricsByDatasets: RunsChartsMetricByDatasetEntry[]) => {\n  const compareRunCharts: RunsChartsBarCardConfig[] = metricsByDatasets.map(\n    ({ dataAccessKey, metricKey, datasetName }) => ({\n      deleted: false,\n      type: RunsChartType.BAR,\n      uuid: `autogen-${dataAccessKey}`,\n      metricSectionId: datasetName ? `autogen-${datasetName}` : 'default',\n      isGenerated: true,\n      metricKey,\n      dataAccessKey,\n      datasetName,\n      displayName: datasetName ? `(${datasetName}) ${metricKey}` : undefined,\n    }),\n  );\n\n  const compareRunSections: ChartSectionConfig[] = uniq(metricsByDatasets.map(({ datasetName }) => datasetName)).map(\n    (datasetName) => ({\n      display: true,\n      name: datasetName ?? 'Metrics',\n      uuid: datasetName ? `autogen-${datasetName}` : 'default',\n      isReordered: false,\n    }),\n  );\n\n  if (isEmpty(compareRunSections)) {\n    compareRunSections.push({\n      display: true,\n      name: 'Metrics',\n      uuid: 'default',\n      isReordered: false,\n    });\n  }\n\n  return {\n    compareRunCharts,\n    compareRunSections,\n  };\n};\n\n// Internal utility function  used to merge the current charts state with potentially incoming new charts and sections\nconst reconcileChartsAndSections = (\n  currentState: LoggedModelsChartsUIConfiguration,\n  newCharts: { compareRunCharts: RunsChartsCardConfig[]; compareRunSections: ChartSectionConfig[] },\n) => {\n  // If there are no charts / sections, or if the state is in pristine state, just set the new charts if they're not empty\n  if (!currentState.compareRunCharts || !currentState.compareRunSections || !currentState.isDirty) {\n    if (newCharts.compareRunCharts.length > 0 || newCharts.compareRunSections.length > 0) {\n      return {\n        ...currentState,\n        compareRunCharts: newCharts.compareRunCharts ?? [],\n        compareRunSections: newCharts.compareRunSections ?? [],\n      };\n    }\n  }\n\n  // Otherwise, detect new sections and charts and add them to the list\n  const newChartsToAdd = newCharts.compareRunCharts.filter(\n    (newChart) => !currentState.compareRunCharts?.find((chart) => chart.uuid === newChart.uuid),\n  );\n  const newSectionsToAdd = newCharts.compareRunSections.filter(\n    (newSection) =>\n      newChartsToAdd.find((newChart) => newChart.metricSectionId === newSection.uuid) &&\n      !currentState.compareRunSections?.find((section) => section.uuid === newSection.uuid),\n  );\n\n  if (newSectionsToAdd.length > 0 || newChartsToAdd.length > 0) {\n    return {\n      ...currentState,\n      compareRunCharts: currentState.compareRunCharts\n        ? [...currentState.compareRunCharts, ...newChartsToAdd]\n        : newCharts.compareRunCharts,\n      compareRunSections: currentState.compareRunSections\n        ? [...currentState.compareRunSections, ...newSectionsToAdd]\n        : newCharts.compareRunSections,\n    };\n  }\n  return currentState;\n};\n\nconst chartsUIStateInitializer = (): LoggedModelsChartsUIConfiguration => ({\n  compareRunCharts: undefined,\n  compareRunSections: undefined,\n  autoRefreshEnabled: false,\n  isAccordionReordered: false,\n  chartsSearchFilter: '',\n  globalLineChartConfig: undefined,\n  isDirty: false,\n});\n\n// Reducer to manage the state of the charts UI\nconst chartsUIStateReducer = (state: LoggedModelsChartsUIConfiguration, action: ChartsReducerAction) => {\n  // 'UPDATE' is sent by controls that updates the UI state directly\n  if (action.type === 'UPDATE') {\n    return { ...action.stateSetter(state), isDirty: true };\n  }\n  // 'METRICS_UPDATED' is sent when new logged models data is available and potentially new charts need to be added\n  if (action.type === 'METRICS_UPDATED') {\n    const { compareRunCharts, compareRunSections } = getExperimentLoggedModelsPageChartSetup(action.metricsByDatasets);\n    const newState = reconcileChartsAndSections(state, { compareRunCharts, compareRunSections });\n    return newState;\n  }\n  if (action.type === 'INITIALIZE') {\n    if (action.initialConfig) {\n      return action.initialConfig;\n    }\n  }\n  return state;\n};\n\nconst loadPersistedDataFromStorage = async (storeIdentifier: string) => {\n  // This function is async on purpose to accommodate potential asynchoronous storage mechanisms (e.g. IndexedDB) in the future\n  const serializedData = localStorage.getItem(createLocalStorageKey(storeIdentifier));\n  if (!serializedData) {\n    return undefined;\n  }\n  try {\n    return JSON.parse(serializedData);\n  } catch {\n    return undefined;\n  }\n};\n\nconst saveDataToStorage = async (storeIdentifier: string, dataToPersist: LoggedModelsChartsUIConfiguration) => {\n  localStorage.setItem(createLocalStorageKey(storeIdentifier), JSON.stringify(dataToPersist));\n};\n\nexport const useExperimentLoggedModelsChartsUIState = (\n  metricsByDatasets: RunsChartsMetricByDatasetEntry[],\n  storeIdentifier: string,\n) => {\n  const [chartUIState, dispatchChartUIState] = useReducer(chartsUIStateReducer, undefined, chartsUIStateInitializer);\n  const [loading, setLoading] = useState(true);\n\n  // Attempt to load the persisted data when the component mounts\n  useEffect(() => {\n    setLoading(true);\n    loadPersistedDataFromStorage(storeIdentifier).then((data) => {\n      dispatchChartUIState({ type: 'INITIALIZE', initialConfig: data });\n      setLoading(false);\n    });\n  }, [storeIdentifier]);\n\n  // Attempt to update the charts state when the logged models change\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n    dispatchChartUIState({ type: 'METRICS_UPDATED', metricsByDatasets });\n  }, [metricsByDatasets, loading]);\n\n  // Attempt persist the data when the state changes\n  useEffect(() => {\n    if (chartUIState.isDirty) {\n      saveDataToStorage(storeIdentifier, chartUIState);\n    }\n  }, [storeIdentifier, chartUIState]);\n\n  // Create an updater function to pass it to chart controls\n  const updateUIState = useCallback(\n    (stateSetter: RunsChartsUIConfigurationSetter) =>\n      dispatchChartUIState({\n        type: 'UPDATE',\n        stateSetter,\n      }),\n    [],\n  );\n\n  return { chartUIState, updateUIState, loading };\n};\n","import { Empty, Input, SearchIcon, Spinner, useDesignSystemTheme } from '@databricks/design-system';\nimport { noop, uniq } from 'lodash';\nimport type { ReactNode } from 'react';\nimport { memo, useMemo, useCallback, useState } from 'react';\nimport type { LoggedModelProto } from '../../types';\nimport type { ExperimentRunsChartsUIConfiguration } from '../experiment-page/models/ExperimentPageUIState';\nimport type { RunsChartsRunData } from '../runs-charts/components/RunsCharts.common';\nimport { RunsChartsDraggableCardsGridContextProvider } from '../runs-charts/components/RunsChartsDraggableCardsGridContext';\nimport { RunsChartsFullScreenModal } from '../runs-charts/components/RunsChartsFullScreenModal';\nimport { RunsChartsTooltipBody } from '../runs-charts/components/RunsChartsTooltipBody';\nimport { RunsChartsSectionAccordion } from '../runs-charts/components/sections/RunsChartsSectionAccordion';\nimport { RunsChartsTooltipWrapper } from '../runs-charts/hooks/useRunsChartsTooltip';\nimport {\n  RunsChartsUIConfigurationContextProvider,\n  useConfirmChartCardConfigurationFn,\n  useRemoveRunsChartFn,\n  useUpdateRunsChartsUIConfiguration,\n} from '../runs-charts/hooks/useRunsChartsUIConfiguration';\nimport type { RunsChartsMetricByDatasetEntry } from '../runs-charts/runs-charts.types';\nimport { RunsChartsCardConfig, RunsChartType } from '../runs-charts/runs-charts.types';\nimport { useExperimentLoggedModelsChartsData } from './hooks/useExperimentLoggedModelsChartsData';\nimport { useExperimentLoggedModelsChartsUIState } from './hooks/useExperimentLoggedModelsChartsUIState';\nimport { useExperimentLoggedModelAllMetricsByDataset } from './hooks/useExperimentLoggedModelAllMetricsByDataset';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useMemoDeep } from '../../../common/hooks/useMemoDeep';\nimport { RunsChartsConfigureModal } from '../runs-charts/components/RunsChartsConfigureModal';\nimport Routes from '../../routes';\n\nconst ExperimentLoggedModelListChartsImpl = memo(\n  ({\n    chartData,\n    uiState,\n    metricKeysByDataset,\n    minWidth,\n  }: {\n    chartData: RunsChartsRunData[];\n    uiState: ExperimentRunsChartsUIConfiguration;\n    metricKeysByDataset: RunsChartsMetricByDatasetEntry[];\n    minWidth: number;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n    const { formatMessage } = useIntl();\n\n    const availableMetricKeys = useMemo(() => uniq(chartData.flatMap((run) => Object.keys(run.metrics))), [chartData]);\n    const availableParamKeys = useMemo(() => uniq(chartData.flatMap((run) => Object.keys(run.params))), [chartData]);\n\n    const updateChartsUIState = useUpdateRunsChartsUIConfiguration();\n\n    const setSearch = useCallback(\n      (search: string) => {\n        updateChartsUIState((state) => ({ ...state, chartsSearchFilter: search }));\n      },\n      [updateChartsUIState],\n    );\n\n    const [configuredCardConfig, setConfiguredCardConfig] = useState<RunsChartsCardConfig | null>(null);\n\n    const addNewChartCard = useCallback(\n      (metricSectionId: string) => (type: RunsChartType) =>\n        setConfiguredCardConfig(RunsChartsCardConfig.getEmptyChartCardByType(type, false, undefined, metricSectionId)),\n      [],\n    );\n\n    const confirmChartCardConfiguration = useConfirmChartCardConfigurationFn();\n    const removeChart = useRemoveRunsChartFn();\n\n    const [fullScreenChart, setFullScreenChart] = useState<\n      | {\n          config: RunsChartsCardConfig;\n          title: string | ReactNode;\n          subtitle: ReactNode;\n        }\n      | undefined\n    >(undefined);\n\n    const fullscreenTooltipContextValue = useMemo(() => ({ runs: chartData }), [chartData]);\n\n    const tooltipContextValue = useMemo(\n      () => ({ runs: chartData, getDataTraceLink: Routes.getExperimentLoggedModelDetailsPageRoute }),\n      [chartData],\n    );\n\n    const emptyState = (\n      <div css={{ marginTop: theme.spacing.lg }}>\n        <Empty\n          description={\n            <FormattedMessage\n              defaultMessage=\"No models found in experiment or all models are hidden. Select at least one model to view charts.\"\n              description=\"Label displayed in logged models chart view when no models are visible or selected\"\n            />\n          }\n        />\n      </div>\n    );\n\n    return (\n      <div\n        css={{\n          backgroundColor: theme.colors.backgroundPrimary,\n          paddingLeft: theme.spacing.md,\n          paddingRight: theme.spacing.md,\n          paddingBottom: theme.spacing.md,\n\n          borderTop: `1px solid ${theme.colors.border}`,\n          borderLeft: `1px solid ${theme.colors.border}`,\n\n          flex: 1,\n          overflow: 'hidden',\n          display: 'flex',\n          minWidth,\n        }}\n      >\n        <div\n          css={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: theme.spacing.sm,\n            paddingTop: theme.spacing.sm,\n            overflow: 'hidden',\n            flex: 1,\n          }}\n        >\n          <Input\n            componentId=\"mlflow.logged_model.list.charts.search\"\n            role=\"searchbox\"\n            prefix={<SearchIcon />}\n            value={uiState.chartsSearchFilter ?? ''}\n            allowClear\n            onChange={({ target }) => setSearch(target.value)}\n            placeholder={formatMessage({\n              defaultMessage: 'Search metric charts',\n              description: 'Placeholder for chart search input on the logged model chart view',\n            })}\n          />\n          <div css={{ overflow: 'auto' }}>\n            <RunsChartsTooltipWrapper contextData={tooltipContextValue} component={RunsChartsTooltipBody}>\n              <RunsChartsDraggableCardsGridContextProvider visibleChartCards={uiState.compareRunCharts}>\n                <RunsChartsSectionAccordion\n                  compareRunSections={uiState.compareRunSections}\n                  compareRunCharts={uiState.compareRunCharts}\n                  reorderCharts={noop}\n                  insertCharts={noop}\n                  chartData={chartData}\n                  startEditChart={setConfiguredCardConfig}\n                  removeChart={removeChart}\n                  addNewChartCard={addNewChartCard}\n                  search={uiState.chartsSearchFilter ?? ''}\n                  groupBy={null}\n                  setFullScreenChart={setFullScreenChart}\n                  autoRefreshEnabled={false}\n                  hideEmptyCharts={false}\n                  globalLineChartConfig={undefined}\n                  supportedChartTypes={[RunsChartType.BAR, RunsChartType.SCATTER]}\n                  noRunsSelectedEmptyState={emptyState}\n                />\n              </RunsChartsDraggableCardsGridContextProvider>\n            </RunsChartsTooltipWrapper>\n            <RunsChartsFullScreenModal\n              fullScreenChart={fullScreenChart}\n              onCancel={() => setFullScreenChart(undefined)}\n              chartData={chartData}\n              groupBy={null}\n              tooltipContextValue={fullscreenTooltipContextValue}\n              tooltipComponent={RunsChartsTooltipBody}\n              autoRefreshEnabled={false}\n              globalLineChartConfig={undefined}\n            />\n            {configuredCardConfig && (\n              <RunsChartsConfigureModal\n                chartRunData={chartData}\n                metricKeyList={availableMetricKeys}\n                metricKeysByDataset={metricKeysByDataset}\n                paramKeyList={availableParamKeys}\n                config={configuredCardConfig}\n                onSubmit={(configuredCardConfig) => {\n                  confirmChartCardConfiguration({ ...configuredCardConfig, displayName: undefined });\n                  setConfiguredCardConfig(null);\n                }}\n                onCancel={() => setConfiguredCardConfig(null)}\n                groupBy={null}\n                supportedChartTypes={[RunsChartType.BAR, RunsChartType.SCATTER]}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nexport const ExperimentLoggedModelListCharts = memo(\n  ({\n    loggedModels,\n    experimentId,\n    minWidth,\n  }: {\n    loggedModels: LoggedModelProto[];\n    experimentId: string;\n    minWidth: number;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n\n    // Perform deep comparison on the logged models to avoid re-rendering the charts when the logged models change.\n    // Deep comparison should still be cheaper than rerendering all charts.\n    const cachedLoggedModels = useMemoDeep(() => loggedModels, [loggedModels]);\n\n    const metricsByDataset = useExperimentLoggedModelAllMetricsByDataset(cachedLoggedModels);\n\n    const {\n      chartUIState,\n      updateUIState,\n      loading: loadingState,\n    } = useExperimentLoggedModelsChartsUIState(metricsByDataset, experimentId);\n    const chartData = useExperimentLoggedModelsChartsData(cachedLoggedModels);\n\n    if (loadingState) {\n      return (\n        <div\n          css={{\n            backgroundColor: theme.colors.backgroundPrimary,\n            paddingTop: theme.spacing.lg,\n            borderTop: `1px solid ${theme.colors.border}`,\n            borderLeft: `1px solid ${theme.colors.border}`,\n            flex: 1,\n            justifyContent: 'center',\n            alignItems: 'center',\n            display: 'flex',\n          }}\n        >\n          <Spinner />\n        </div>\n      );\n    }\n    return (\n      <RunsChartsUIConfigurationContextProvider updateChartsUIState={updateUIState}>\n        <ExperimentLoggedModelListChartsImpl\n          chartData={chartData}\n          uiState={chartUIState}\n          metricKeysByDataset={metricsByDataset}\n          minWidth={minWidth}\n        />\n      </RunsChartsUIConfigurationContextProvider>\n    );\n  },\n);\n","import { orderBy } from 'lodash';\nimport type { LoggedModelProto } from '../../../types';\nimport { useMemo } from 'react';\nimport type { RunsChartsMetricByDatasetEntry } from '../../runs-charts/runs-charts.types';\nimport { getMetricByDatasetChartDataKey } from './useExperimentLoggedModelsChartsData';\n\nexport const useExperimentLoggedModelAllMetricsByDataset = (loggedModels: LoggedModelProto[]) =>\n  useMemo(() => {\n    const metricsByDataset: RunsChartsMetricByDatasetEntry[] = [];\n    loggedModels.forEach((model) => {\n      model.data?.metrics?.forEach(({ key: metricKey, dataset_name: datasetName }) => {\n        if (metricKey && !metricsByDataset.find((e) => e.metricKey === metricKey && e.datasetName === datasetName)) {\n          const dataAccessKey = getMetricByDatasetChartDataKey(metricKey, datasetName);\n          metricsByDataset.push({ metricKey, datasetName, dataAccessKey });\n        }\n      });\n    });\n    return orderBy(metricsByDataset, ({ datasetName }) => !datasetName);\n  }, [loggedModels]);\n","import { Alert, Spacer, useDesignSystemTheme } from '@databricks/design-system';\nimport invariant from 'invariant';\nimport { useParams } from '../../../common/utils/RoutingUtils';\nimport Routes from '../../routes';\nimport { ExperimentLoggedModelPageWrapper } from './ExperimentLoggedModelPageWrapper';\n\nimport { isLoggedModelsFilteringAndSortingEnabled } from '../../../common/utils/FeatureUtils';\nimport { useEffect, useState } from 'react';\nimport { ExperimentLoggedModelListPageTable } from '../../components/experiment-logged-models/ExperimentLoggedModelListPageTable';\nimport { useSearchLoggedModelsQuery } from '../../hooks/logged-models/useSearchLoggedModelsQuery';\nimport { ExperimentLoggedModelListPageControls } from '../../components/experiment-logged-models/ExperimentLoggedModelListPageControls';\nimport {\n  parseLoggedModelMetricOrderByColumnId,\n  useExperimentLoggedModelListPageTableColumns,\n} from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageTableColumns';\nimport { ExperimentLoggedModelOpenDatasetDetailsContextProvider } from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelOpenDatasetDetails';\nimport { useLoggedModelsListPageState } from '../../components/experiment-logged-models/hooks/useLoggedModelsListPagePageState';\nimport { useRelatedRunsDataForLoggedModels } from '../../hooks/logged-models/useRelatedRunsDataForLoggedModels';\nimport {\n  ExperimentLoggedModelListPageMode,\n  useExperimentLoggedModelListPageMode,\n} from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageMode';\nimport { ExperimentViewRunsTableResizer } from '../../components/experiment-page/components/runs/ExperimentViewRunsTableResizer';\nimport { ExperimentLoggedModelListCharts } from '../../components/experiment-logged-models/ExperimentLoggedModelListCharts';\nimport { ExperimentLoggedModelListPageRowVisibilityContextProvider } from '../../components/experiment-logged-models/hooks/useExperimentLoggedModelListPageRowVisibility';\nimport { RunsChartsSetHighlightContextProvider } from '../../components/runs-charts/hooks/useRunsChartTraceHighlight';\nimport { BadRequestError } from '@databricks/web-shared/errors';\nimport { useResizableMaxWidth } from '@mlflow/mlflow/src/shared/web-shared/hooks/useResizableMaxWidth';\n\nconst INITIAL_RUN_COLUMN_SIZE = 295;\nconst CHARTS_MIN_WIDTH = 350;\n\nconst ExperimentLoggedModelListPageImpl = () => {\n  const { experimentId } = useParams();\n  const { theme } = useDesignSystemTheme();\n  const sortingAndFilteringEnabled = isLoggedModelsFilteringAndSortingEnabled();\n\n  const {\n    state: {\n      orderByColumn,\n      orderByAsc,\n      columnVisibility,\n      rowVisibilityMap,\n      rowVisibilityMode,\n      selectedFilterDatasets,\n      groupBy,\n    },\n    searchQuery,\n    isFilteringActive,\n    setOrderBy,\n    setColumnVisibility,\n    setRowVisibilityMode,\n    toggleRowVisibility,\n    updateSearchQuery,\n    toggleDataset,\n    clearSelectedDatasets,\n    setGroupBy,\n  } = useLoggedModelsListPageState();\n\n  invariant(experimentId, 'Experiment ID must be defined');\n\n  const { viewMode, setViewMode } = useExperimentLoggedModelListPageMode();\n\n  // Translate currently sorting column to the format accepted by the API query.\n  // If the column is a metric, we need to parse and pass the dataset name and digest if found.\n  const getOrderByRequestData = () => {\n    if (!orderByColumn) {\n      return { orderByField: undefined };\n    }\n    const parsedMetricOrderByColumn = parseLoggedModelMetricOrderByColumnId(orderByColumn);\n    if (parsedMetricOrderByColumn.datasetDigest && parsedMetricOrderByColumn.datasetName) {\n      return {\n        orderByField: `metrics.${parsedMetricOrderByColumn.metricKey}`,\n        orderByDatasetName: parsedMetricOrderByColumn.datasetName,\n        orderByDatasetDigest: parsedMetricOrderByColumn.datasetDigest,\n      };\n    }\n    return { orderByField: orderByColumn };\n  };\n\n  const {\n    data: loggedModels,\n    isFetching: isFetchingLoggedModels,\n    isLoading: isLoadingLoggedModels,\n    error: loggedModelsError,\n    nextPageToken,\n    loadMoreResults,\n  } = useSearchLoggedModelsQuery({\n    experimentIds: [experimentId],\n    orderByAsc,\n    searchQuery,\n    selectedFilterDatasets,\n    ...getOrderByRequestData(),\n  });\n\n  // Find and extract 400 error from the logged models error\n  const badRequestError = loggedModelsError instanceof BadRequestError ? loggedModelsError : undefined;\n\n  const { data: relatedRunsData } = useRelatedRunsDataForLoggedModels({ loggedModels });\n\n  const { columnDefs, compactColumnDefs } = useExperimentLoggedModelListPageTableColumns({\n    loggedModels,\n    columnVisibility,\n    isLoading: isLoadingLoggedModels,\n    orderByColumn,\n    orderByAsc,\n    enableSortingByMetrics: sortingAndFilteringEnabled,\n  });\n\n  const [tableAreaWidth, setTableAreaWidth] = useState<number>(INITIAL_RUN_COLUMN_SIZE);\n  const [tableHidden, setTableHidden] = useState(false);\n\n  const isCompactTableMode = viewMode !== ExperimentLoggedModelListPageMode.TABLE;\n\n  const tableElement =\n    isCompactTableMode && tableHidden ? (\n      <div css={{ width: theme.spacing.md }} />\n    ) : (\n      <ExperimentLoggedModelListPageTable\n        columnDefs={isCompactTableMode ? compactColumnDefs : columnDefs}\n        loggedModels={loggedModels ?? []}\n        isLoading={isLoadingLoggedModels}\n        isLoadingMore={isFetchingLoggedModels}\n        badRequestError={badRequestError}\n        moreResultsAvailable={Boolean(nextPageToken)}\n        onLoadMore={loadMoreResults}\n        onOrderByChange={setOrderBy}\n        orderByAsc={orderByAsc}\n        orderByColumn={orderByColumn}\n        columnVisibility={columnVisibility}\n        relatedRunsData={relatedRunsData}\n        isFilteringActive={isFilteringActive}\n        groupModelsBy={groupBy}\n      />\n    );\n\n  const { resizableMaxWidth, ref } = useResizableMaxWidth(CHARTS_MIN_WIDTH);\n\n  return (\n    <ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n      <ExperimentLoggedModelListPageRowVisibilityContextProvider\n        visibilityMap={rowVisibilityMap}\n        visibilityMode={rowVisibilityMode}\n        setRowVisibilityMode={setRowVisibilityMode}\n        toggleRowVisibility={toggleRowVisibility}\n      >\n        <ExperimentLoggedModelListPageControls\n          columnDefs={columnDefs}\n          columnVisibility={columnVisibility}\n          onChangeOrderBy={setOrderBy}\n          onUpdateColumns={setColumnVisibility}\n          orderByColumn={orderByColumn}\n          orderByAsc={orderByAsc}\n          viewMode={viewMode}\n          setViewMode={setViewMode}\n          searchQuery={searchQuery}\n          onChangeSearchQuery={updateSearchQuery}\n          loggedModelsData={loggedModels ?? []}\n          sortingAndFilteringEnabled={sortingAndFilteringEnabled}\n          selectedFilterDatasets={selectedFilterDatasets}\n          onToggleDataset={toggleDataset}\n          onClearSelectedDatasets={clearSelectedDatasets}\n          groupBy={groupBy}\n          onChangeGroupBy={setGroupBy}\n        />\n        <Spacer size=\"sm\" shrinks={false} />\n        {/* Display error message, but not if it's 400 - in that case, the error message is displayed in the table */}\n        {loggedModelsError?.message && !badRequestError && (\n          <>\n            <Alert\n              componentId=\"mlflow.logged_models.list.error\"\n              message={loggedModelsError.message}\n              type=\"error\"\n              closable={false}\n            />\n            <Spacer size=\"sm\" shrinks={false} />\n          </>\n        )}\n        {isCompactTableMode ? (\n          <RunsChartsSetHighlightContextProvider>\n            <div ref={ref} css={{ display: 'flex', flex: 1, overflow: 'hidden', position: 'relative' }}>\n              <ExperimentViewRunsTableResizer\n                onResize={setTableAreaWidth}\n                runListHidden={tableHidden}\n                width={tableAreaWidth}\n                onHiddenChange={setTableHidden}\n                maxWidth={resizableMaxWidth}\n              >\n                {tableElement}\n              </ExperimentViewRunsTableResizer>\n              {viewMode === ExperimentLoggedModelListPageMode.CHART && (\n                <ExperimentLoggedModelListCharts\n                  loggedModels={loggedModels ?? []}\n                  experimentId={experimentId}\n                  minWidth={CHARTS_MIN_WIDTH}\n                />\n              )}\n            </div>\n          </RunsChartsSetHighlightContextProvider>\n        ) : (\n          tableElement\n        )}\n      </ExperimentLoggedModelListPageRowVisibilityContextProvider>\n    </ExperimentLoggedModelOpenDatasetDetailsContextProvider>\n  );\n};\n\nconst ExperimentLoggedModelListPage = () => (\n  <ExperimentLoggedModelPageWrapper>\n    <ExperimentLoggedModelListPageImpl />\n  </ExperimentLoggedModelPageWrapper>\n);\n\nexport default ExperimentLoggedModelListPage;\n","/**\n * Adapted from `material-light`\n * Ref: https://github.com/react-syntax-highlighter/react-syntax-highlighter/blob/b2457268891948f7005ccf539a70c000f0695bde/src/styles/prism/material-light.js#L1\n *\n * This theme overwrites colors to be similiar to the `@databricks/editor` theme.\n */\n\nconst databricksLightTheme = {\n  'code[class*=\"language-\"]': {\n    textAlign: 'left',\n    whiteSpace: 'pre',\n    wordSpacing: 'normal',\n    wordBreak: 'normal',\n    wordWrap: 'normal',\n    color: 'rgb(77, 77, 76)', // D\n    background: '#fafafa',\n    fontFamily: 'Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace',\n    fontSize: '12px', // D\n    lineHeight: '1.5em',\n    MozTabSize: '4',\n    OTabSize: '4',\n    tabSize: '4',\n    WebkitHyphens: 'none',\n    MozHyphens: 'none',\n    msHyphens: 'none',\n    hyphens: 'none',\n  },\n  'pre[class*=\"language-\"]': {\n    textAlign: 'left',\n    whiteSpace: 'pre',\n    wordSpacing: 'normal',\n    wordBreak: 'normal',\n    wordWrap: 'normal',\n    color: 'rgb(77, 77, 76)', // D\n    background: '#fafafa',\n    fontFamily: 'Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace',\n    fontSize: '12px', // D\n    lineHeight: '1.5em',\n    MozTabSize: '4',\n    OTabSize: '4',\n    tabSize: '4',\n    WebkitHyphens: 'none',\n    MozHyphens: 'none',\n    msHyphens: 'none',\n    hyphens: 'none',\n    overflow: 'auto',\n    position: 'relative',\n    margin: '0.5em 0',\n    padding: '1.25em 1em',\n  },\n  'code[class*=\"language-\"]::-moz-selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'pre[class*=\"language-\"]::-moz-selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'code[class*=\"language-\"] ::-moz-selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'pre[class*=\"language-\"] ::-moz-selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'code[class*=\"language-\"]::selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'pre[class*=\"language-\"]::selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'code[class*=\"language-\"] ::selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  'pre[class*=\"language-\"] ::selection': {\n    background: '#cceae7',\n    color: '#263238',\n  },\n  ':not(pre) > code[class*=\"language-\"]': {\n    whiteSpace: 'normal',\n    borderRadius: '0.2em',\n    padding: '0.1em',\n  },\n  '.language-css > code': {\n    color: '#f5871f', // D\n  },\n  '.language-sass > code': {\n    color: '#f5871f', // D\n  },\n  '.language-scss > code': {\n    color: '#f5871f', // D\n  },\n  '[class*=\"language-\"] .namespace': {\n    Opacity: '0.7',\n  },\n  atrule: {\n    color: '#7c4dff',\n  },\n  'attr-name': {\n    color: '#39adb5',\n  },\n  'attr-value': {\n    color: '#f6a434',\n  },\n  attribute: {\n    color: '#f6a434',\n  },\n  boolean: {\n    color: '#7c4dff', // D\n  },\n  builtin: {\n    color: '#39adb5',\n  },\n  cdata: {\n    color: '#39adb5',\n  },\n  char: {\n    color: '#39adb5',\n  },\n  class: {\n    color: '#39adb5',\n  },\n  'class-name': {\n    color: '#6182b8',\n  },\n  comment: {\n    color: '#8e908c', // D\n  },\n  constant: {\n    color: '#7c4dff', // D\n  },\n  deleted: {\n    color: '#e53935',\n  },\n  doctype: {\n    color: '#aabfc9',\n  },\n  entity: {\n    color: '#e53935',\n  },\n  function: {\n    color: '#4271ae', // D\n  },\n  hexcode: {\n    color: '#f5871f', // D\n  },\n  id: {\n    color: '#7c4dff',\n    fontWeight: 'bold',\n  },\n  important: {\n    color: '#7c4dff',\n    fontWeight: 'bold',\n  },\n  inserted: {\n    color: '#39adb5',\n  },\n  keyword: {\n    color: '#8959a8', // D\n  },\n  number: {\n    color: '#f5871f', // D\n  },\n  operator: {\n    color: '#3e999f', // D\n  },\n  prolog: {\n    color: '#aabfc9',\n  },\n  property: {\n    color: '#39adb5',\n  },\n  'pseudo-class': {\n    color: '#f6a434',\n  },\n  'pseudo-element': {\n    color: '#f6a434',\n  },\n  punctuation: {\n    color: 'rgb(77, 77, 76)', // D\n  },\n  regex: {\n    color: '#6182b8',\n  },\n  selector: {\n    color: '#e53935',\n  },\n  string: {\n    color: '#3ba85f', // D\n  },\n  symbol: {\n    color: '#7c4dff',\n  },\n  tag: {\n    color: '#e53935',\n  },\n  unit: {\n    color: '#f5871f', // D\n  },\n  url: {\n    color: '#e53935',\n  },\n  variable: {\n    color: '#c72d4c', // D\n  },\n};\n\nexport default databricksLightTheme;\n","import type { LoggedModelProto, RunEntity } from '../../types';\nimport { useEffect, useMemo } from 'react';\nimport { compact, sortBy, uniq } from 'lodash';\nimport type { QueryFunctionContext } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { useQueries } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../sdk/MlflowService';\nimport { useArrayMemo } from '../../../common/hooks/useArrayMemo';\n\ntype UseRegisteredModelRelatedRunNamesQueryKey = ['USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS', { runUuid: string }];\n\nconst getQueryKey = (runUuid: string): UseRegisteredModelRelatedRunNamesQueryKey => [\n  'USE_RELATED_RUNS_DATA_FOR_LOGGED_MODELS',\n  { runUuid },\n];\n\nconst queryFn = async ({\n  queryKey: [, { runUuid }],\n}: QueryFunctionContext<UseRegisteredModelRelatedRunNamesQueryKey>): Promise<RunEntity | null> => {\n  try {\n    const data = await MlflowService.getRun({ run_id: runUuid });\n    return data?.run;\n  } catch (e) {\n    return null;\n  }\n};\n\n/**\n * Hook used to fetch necessary run data based on metadata found in logged models\n */\nexport const useRelatedRunsDataForLoggedModels = ({ loggedModels = [] }: { loggedModels?: LoggedModelProto[] }) => {\n  const runUuids = useMemo(() => {\n    // Extract all run ids found in metrics and source run ids\n    const allMetricRunUuids = compact(\n      loggedModels?.flatMap((loggedModel) => loggedModel?.data?.metrics?.map((metric) => metric.run_id)),\n    );\n    const allSourceRunUuids = compact(loggedModels?.map((loggedModel) => loggedModel?.info?.source_run_id));\n    const distinctRunUuids = sortBy(uniq([...allMetricRunUuids, ...allSourceRunUuids]));\n\n    return distinctRunUuids;\n  }, [loggedModels]);\n\n  const queryResults = useQueries({\n    queries: runUuids.map((runUuid) => ({\n      queryKey: getQueryKey(runUuid),\n      queryFn,\n      cacheTime: Infinity,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false,\n      retry: false,\n    })),\n  });\n\n  const loading = queryResults.some(({ isLoading }) => isLoading);\n  const error = queryResults.find(({ error }) => error)?.error as Error | undefined;\n\n  const memoizedQueryResults = useArrayMemo(queryResults.map(({ data }) => data));\n\n  const data = useMemo(\n    () => memoizedQueryResults.map((data) => data).filter(Boolean) as RunEntity[],\n    [memoizedQueryResults],\n  );\n\n  return {\n    data,\n    loading,\n    error,\n  };\n};\n","import { useRef } from 'react';\n\n/**\n * A custom hook that memoizes an array based on the reference of its elements, not the array itself.\n */\nexport function useArrayMemo<T>(array: T[]) {\n  // This holds reference to previous value\n  const ref = useRef<T[]>();\n  // Check if each element of the old and new array match\n  const areArraysConsideredTheSame =\n    ref.current && array.length === ref.current.length\n      ? array.every((element, i) => {\n          return element === ref.current?.[i];\n        })\n      : // Initially there's no old array defined/stored, so set to false\n        false;\n\n  if (!areArraysConsideredTheSame) {\n    ref.current = array;\n  }\n\n  return areArraysConsideredTheSame && ref.current ? ref.current : array;\n}\n","import { UserActionErrorHandler } from '@databricks/web-shared/metrics';\nimport { QueryClient, QueryClientProvider } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { DangerIcon, Empty, PageWrapper } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\n\nconst PageFallback = ({ error }: { error?: Error }) => {\n  return (\n    <PageWrapper css={{ flex: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n      <Empty\n        data-testid=\"fallback\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Error\"\n            description=\"Title for error fallback component in prompts management UI\"\n          />\n        }\n        description={\n          error?.message ?? (\n            <FormattedMessage\n              defaultMessage=\"An error occurred while rendering this component.\"\n              description=\"Description for default error message in prompts management UI\"\n            />\n          )\n        }\n        image={<DangerIcon />}\n      />\n    </PageWrapper>\n  );\n};\n\n/**\n * Wrapper for all experiment logged model pages.\n * Provides error boundaries and user action error handling.\n */\nexport const ExperimentLoggedModelPageWrapper = ({\n  children,\n  resetKey,\n}: {\n  children: React.ReactNode;\n  resetKey?: unknown;\n}) => {\n  return (\n    <ErrorBoundary FallbackComponent={PageFallback} resetKeys={[resetKey]}>\n      <UserActionErrorHandler>{children}</UserActionErrorHandler>\n    </ErrorBoundary>\n  );\n};\n","import React from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\n\nfunction useMatchesMediaQuery(queryList: MediaQueryList) {\n  return useSyncExternalStore(\n    React.useCallback(\n      (callback) => {\n        queryList.addEventListener('change', callback);\n        return () => {\n          queryList.removeEventListener('change', callback);\n        };\n      },\n      [queryList],\n    ),\n    () => queryList.matches,\n  );\n}\n\n/**\n * React hook that listens for changes to a [media query][media-query]. Uses\n * [`window.matchMedia()`][match-media] under-the-hood.\n *\n * [media-query]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_media_queries/Using_media_queries\n * [match-media]: https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia\n *\n * @usage\n *\n * ```tsx\n * function FancyButton() {\n *   const prefersReducedMotion = useMediaQuery('(prefers-reduced-motion)');\n *   return prefersReducedMotion ? <Button /> : <DancingButton />;\n * }\n * ```\n *\n * > **Note**\n * > The vast majority of use-cases can (and should) use vanilla CSS media\n * > queries instead of this hook — which will cause a re-render when the match\n * > state changes. Usage of this hook should be reserved for use-cases where\n * > CSS cannot be used instead.\n * >\n * > ```tsx\n * > <Button css={{ 'not (prefers-reduced-motion)': { animation: … } }} />\n * > ```\n */\nexport function useMediaQuery(query: string) {\n  // Note: a new MediaQueryList is created with every _usage_ of this hook.\n  // It's probably cheap to create many instances of MediaQueryList, and\n  // garbage collection will still clean up as expected, but consider using a\n  // [weak cache](https://github.com/tc39/proposal-weakrefs#weak-caches) to\n  // reuse MediaQueryLists where possible if performance is impacted.\n  const queryList = React.useMemo(() => window.matchMedia(query), [query]);\n  return useMatchesMediaQuery(queryList);\n}\n","import { type RefObject, useRef, useCallback, useEffect, useState } from 'react';\n\ntype ResizeObserverOptions<ElementType extends Element> = {\n  /**\n   * The element to watch for size changes. Can either pass a ref object or a function that when called will return the element to be watched\n   */\n  ref: RefObject<ElementType | null> | (() => ElementType | null);\n  /**\n   * Optionally debounces state updates, to prevent rerendering on every single resize\n   */\n  debounceTimeMs?: number;\n};\n\nexport function useResizeObserver<ElementType extends Element>({\n  ref: rootRef,\n  debounceTimeMs,\n}: ResizeObserverOptions<ElementType>): { width: number; height: number } | null {\n  const prevSize = useRef<{ width: number; height: number }>({ width: -1, height: -1 });\n  const debounceRef = useRef<ReturnType<typeof setTimeout>>();\n  const [size, setSize] = useState<{ width: number; height: number } | null>(null);\n\n  const onResize = useCallback(\n    (entries: ResizeObserverEntry[]) => {\n      if (entries.length === 0) {\n        return;\n      }\n\n      const rect = entries[0].contentRect;\n      if (prevSize.current.width === -1) {\n        // First update, just set size immediately\n        prevSize.current = { width: rect.width, height: rect.height };\n        setSize(prevSize.current);\n        return;\n      }\n\n      if (rect.width !== prevSize.current.width || rect.height !== prevSize.current.height) {\n        prevSize.current.width = rect.width;\n        prevSize.current.height = rect.height;\n\n        if (!debounceTimeMs) {\n          setSize({ ...prevSize.current });\n          return;\n        }\n        clearTimeout(debounceRef.current);\n        debounceRef.current = setTimeout(() => {\n          setSize({ ...prevSize.current });\n        }, debounceTimeMs);\n      }\n    },\n    [debounceTimeMs],\n  );\n\n  const observerRef = useRef<ResizeObserver>();\n  if (!observerRef.current) {\n    observerRef.current = new ResizeObserver(onResize);\n  }\n\n  useEffect(() => {\n    const rootElement = typeof rootRef === 'function' ? rootRef() : rootRef.current;\n    if (rootElement) {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- TODO(FEINF-3982)\n      const observer = observerRef.current!;\n      observer.observe(rootElement);\n      return () => observer.unobserve(rootElement);\n    }\n    return;\n  });\n\n  return size;\n}\n","import React from 'react';\nimport { shouldEnableMinMaxMetricsOnExperimentPage } from '../../common/utils/FeatureUtils';\nimport { MLFLOW_INTERNAL_PREFIX } from '../../common/utils/TagUtils';\n\nexport type EntitySearchAutoCompleteOption = {\n  label?: string | React.ReactNode;\n  value: string;\n};\n\nexport type EntitySearchAutoCompleteOptionGroup = {\n  label: string;\n  options: EntitySearchAutoCompleteOption[];\n};\n\nexport type EntitySearchAutoCompleteEntity = {\n  name: string;\n  startIndex: number;\n  endIndex: number;\n};\n\ntype EntitySearchAutoCompleteClause = {\n  clause: string;\n  startIndex: number;\n};\n\nexport type EntitySearchAutoCompleteEntityNameGroup = {\n  metricNames: string[];\n  paramNames: string[];\n  tagNames: string[];\n};\n\n/**\n * Given an input string, returns a list of Clause objects\n * containing the clauses in the input and the indices of their\n * starting positions in the overall string.\n */\nconst getClausesAndStartIndex = (str: string) => {\n  const re = /and[\\s]+/gi;\n  const results: EntitySearchAutoCompleteClause[] = [];\n  let match, position;\n  while (((position = re.lastIndex), (match = re.exec(str)))) {\n    results.push({ clause: str.substring(position, match.index), startIndex: position });\n  }\n  results.push({ clause: str.substring(position), startIndex: position });\n  return results;\n};\n\n/**\n * Filters out internal tag names and wrap names that include control characters in backticks.\n */\nexport const cleanEntitySearchTagNames = (tagNames: string[]) =>\n  tagNames\n    .filter((tag: string) => !tag.startsWith(MLFLOW_INTERNAL_PREFIX))\n    .map((tag: string) => {\n      if (tag.includes('\"') || tag.includes(' ') || tag.includes('.')) {\n        return `\\`${tag}\\``;\n      } else if (tag.includes('`')) {\n        return `\"${tag}\"`;\n      } else return tag;\n    });\n\nexport const getEntitySearchOptionsFromEntityNames = (\n  entityNames: EntitySearchAutoCompleteEntityNameGroup,\n  attributeOptions: EntitySearchAutoCompleteOption[],\n): EntitySearchAutoCompleteOptionGroup[] => [\n  {\n    label: 'Metrics',\n    options: entityNames.metricNames.map((m) => ({ value: `metrics.${m}` })),\n  },\n  {\n    label: 'Parameters',\n    options: entityNames.paramNames.map((p) => ({ value: `params.${p}` })),\n  },\n  {\n    label: 'Tags',\n    options: entityNames.tagNames.map((t) => ({ value: `tags.${t}` })),\n  },\n  {\n    label: 'Attributes',\n    options: attributeOptions,\n  },\n];\n\n// Bolds a specified segment of `wholeText`.\nconst boldedText = (wholeText: string, shouldBeBold: string) => {\n  const textArray = wholeText.split(RegExp(shouldBeBold.replace('.', '\\\\.'), 'ig'));\n  const match = wholeText.match(RegExp(shouldBeBold.replace('.', '\\\\.'), 'ig'));\n\n  return (\n    // Autocomplete sets font weight to 600 on full match resulting in double bolding.\n    // Override this here\n    <span css={{ fontWeight: 'normal' }} data-testid={wholeText}>\n      {textArray.map((item, index) => (\n        <React.Fragment key={index}>\n          {item}\n          {index !== textArray.length - 1 && match && <b>{match[index]}</b>}\n        </React.Fragment>\n      ))}\n    </span>\n  );\n};\n\n/**\n * Given an input string, returns a list of Entity objects\n * containing the search entities in the input and their\n * start and end indices in the whole string.\n */\nexport const getEntitySearchEntitiesAndIndices = (str: string) => {\n  const re = />|<|>=|<=|=|!=|like|ilike/gi;\n  const clauses = getClausesAndStartIndex(str);\n  const results: EntitySearchAutoCompleteEntity[] = [];\n  clauses.forEach((clauseObj) => {\n    const clauseText = clauseObj.clause;\n    const entity = clauseText.split(re)[0];\n    const { startIndex } = clauseObj;\n    results.push({\n      name: entity,\n      startIndex: 0 + startIndex,\n      endIndex: entity.length + startIndex,\n    });\n  });\n  return results;\n};\n\nexport const getFilteredOptionsFromEntityName = (\n  baseOptions: EntitySearchAutoCompleteOptionGroup[],\n  entityBeingEdited: EntitySearchAutoCompleteEntity,\n  suggestionLimits: Record<string, number>,\n): EntitySearchAutoCompleteOptionGroup[] => {\n  return baseOptions\n    .map((group) => {\n      const newOptions = group.options\n        .filter((option) => option.value.toLowerCase().includes(entityBeingEdited.name.toLowerCase().trim()))\n        .map((match) => ({\n          value: match.value,\n          label: boldedText(match.value, entityBeingEdited.name.trim()),\n        }));\n      const limitForGroup = suggestionLimits[group.label];\n      const ellipsized = [\n        ...newOptions.slice(0, limitForGroup),\n        ...(newOptions.length > limitForGroup ? [{ label: '...', value: `..._${group.label}` }] : []),\n      ];\n      return {\n        label: group.label,\n        options: ellipsized,\n      };\n    })\n    .filter((group) => group.options.length > 0);\n};\n"],"names":["fontFamily","fontSize","lineHeight","direction","textAlign","whiteSpace","wordSpacing","wordBreak","MozTabSize","OTabSize","tabSize","WebkitHyphens","MozHyphens","msHyphens","hyphens","background","color","padding","margin","overflow","textShadow","borderRadius","comment","prolog","doctype","cdata","punctuation","namespace","Opacity","tag","operator","number","property","function","selector","boolean","string","entity","cursor","url","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable","deleted","textDecoration","inserted","borderBottom","italic","fontStyle","important","fontWeight","bold","Outline","OutlineOffset","borderRightColor","TOOLTIP_COOKIE_KEY","_ref","name","styles","_ref2","EntitySearchAutoComplete","baseOptions","searchFilter","requestError","onSearchFilterChange","onClear","tooltipContent","useQuickFilter","defaultActiveFirstOption","className","theme","getPrefixedClassName","useDesignSystemTheme","dropdownRef","useRef","intl","useIntl","text","setText","useState","autocompleteEnabled","setAutocompleteEnabled","undefined","focused","setFocused","lastSetBySelection","setLastSetBySelection","suggestionLimits","setSuggestionLimits","Metrics","Parameters","Tags","currentEntitiesRef","entityBeingEdited","setEntityBeingEdited","useEffect","previousEntities","current","newEntities","getEntitySearchEntitiesAndIndices","currentEntitiesNames","map","e","previousEntitiesNames","isEqual","length","i","trim","filteredOptions","useMemo","getFilteredOptionsFromEntityName","onSelect","useCallback","value","option","startsWith","groupName","split","prevSuggestionLimits","prefix","substring","startIndex","suffix","endIndex","localStorageInstance","useExperimentViewLocalStore","showTooltipOnError","setShowTooltipOnError","currentTimeSecs","Math","floor","Date","now","storedItem","getItem","parseInt","tooltipIcon","React","quickRegexpFilter","detectSqlSyntaxInSearchQuery","createQuickRegexpSearchFilter","_tooltipIcon$current","setItem","click","noMatches","flatMap","o","options","open","triggerSearch","_dropdownRef$current","activeItemClass","dropdownContainsActiveItem","Boolean","querySelector","key","preventDefault","_jsx","css","_css","display","gap","spacing","sm","width","responsive","mediaQueries","xs","children","AutoComplete","dropdownMatchSelectWidth","defaultOpen","dropdownRender","menu","ref","Input","componentId","SearchIcon","svg","general","iconFontSize","height","colors","textSecondary","onKeyDown","onClick","onFocus","onBlur","onChange","target","_jsxs","Button","type","CloseIcon","Tooltip","content","FormattedMessage","id","defaultMessage","values","filterSample","delayDuration","InfoFillIcon","formatMessage","actionPrimaryBackgroundDefault","LegacyTooltip","title","placement","dangerouslySetAntdProps","overlayInnerStyle","trigger","size","marginLeft","marginRight","icon","InfoSmallIcon","useMemoDeep","factory","deps","storeIdentifier","LocalStorageUtils","getStoreForComponent","useResizableMaxWidth","minWidth","containerWidth","setContainerWidth","updateWidth","clientWidth","useLayoutEffect","window","addEventListener","removeEventListener","resizableMaxWidth","node","ExperimentViewRunsTableResizer","runListHidden","onResize","onHiddenChange","maxWidth","updateUIState","useUpdateExperimentViewUIState","dragging","setDragging","_Fragment","ResizableBox","style","flex","axis","resizeHandles","minConstraints","maxConstraints","handle","ExperimentViewRunsTableResizerHandle","updateRunListHidden","state","event","onResizeStart","onResizeStop","Global","props","transition","position","zIndex","opacity","border","actionDefaultBorderHover","left","iconSize","top","bottom","backgroundColor","backgroundPrimary","alignItems","justifyContent","ChevronRightIcon","ChevronLeftIcon","useCopyController","copyTooltip","onCopy","copyMessage","copiedMessage","clipboard","useClipboard","copiedTimerIdRef","copied","setCopied","setOpen","clearTimeout","actionIcon","CheckIcon","CopyIcon","tooltipMessage","copy","setTimeout","ariaLabel","tooltipOpen","handleTooltipOpenChange","ExperimentLoggedModelListPageMode","VIEW_MODE_QUERY_PARAM","VALID_FILTER_ATTRIBUTES","ExperimentLoggedModelListPageAutoComplete","searchQuery","onChangeSearchQuery","loggedModelsData","entityNames","loggedModels","metricNames","Set","paramNames","tagNames","loggedModel","_loggedModel$data","_loggedModel$data$met","_loggedModel$data2","_loggedModel$data2$pa","_loggedModel$info","_loggedModel$info$tag","data","metrics","forEach","metric","add","params","param","info","tags","Array","from","filter","isUserFacingTag","getEntityNamesFromLoggedModelsData","validAttributeOptions","attribute","getEntitySearchOptionsFromEntityNames","whereBold","getDatasetHash","dataset","JSON","stringify","dataset_name","dataset_digest","ExperimentLoggedModelListPageDatasetDropdown","selectedFilterDatasets","onToggleDataset","onClearSelectedDatasets","cachedDatasets","Map","allDatasets","model","_model$data","datasetHash","has","set","hash","serializedSelectedDatasets","DialogCombobox","label","stayOpenOnSelection","DialogComboboxCustomButtonTriggerWrapper","endIcon","ChevronDownIcon","TableIcon","DialogComboboxCountBadge","XCircleFillIcon","role","stopPropagation","textPlaceholder","typography","fontSizeSm","actionTertiaryTextHover","DialogComboboxContent","DialogComboboxOptionList","serializedDataset","DialogComboboxOptionListCheckboxItem","checked","includes","getSortableColumnLabel","colId","descriptor","ExperimentLoggedModelListPageKnownColumns","CreationTime","defineMessage","parsedColumn","parseLoggedModelMetricOrderByColumnId","metricKey","ExperimentLoggedModelListPageOrderBySelector","orderByColumn","orderByAsc","onChangeOrderBy","columnDefs","setFilter","groupedOrderByOptions","lowerCaseFilter","toLowerCase","sortableColumnGroups","groupId","headerName","col","_col$groupId","LOGGED_MODEL_LIST_METRIC_COLUMN_PREFIX","_col$children","some","group","push","DropdownMenu","Root","modal","Trigger","asChild","SortAscendingIcon","SortDescendingIcon","sortBy","Content","lg","autoFocus","allowClear","ToggleIconButton","pressed","ArrowDownIcon","ArrowUpIcon","Group","Label","columnHeaderName","CheckboxItem","ItemIndicator","GroupByLabels","LoggedModelsTableGroupByMode","RUNS","ExperimentLoggedModelListPageGroupBySelector","groupBy","onChangeGroupBy","currentSelectedLabel","ListBorderIcon","currentModeSelected","ExperimentLoggedModelListPageControls","sortingAndFilteringEnabled","onUpdateColumns","columnVisibility","viewMode","setViewMode","flexWrap","SegmentedControlGroup","coerceToEnum","TABLE","SegmentedControlButton","ListIcon","visuallyHidden","ChartLineIcon","ExperimentLoggedModelListPageColumnSelector","disabled","CHART","getMetricByDatasetChartDataKey","datasetName","createLocalStorageKey","version","chartsUIStateInitializer","compareRunCharts","compareRunSections","autoRefreshEnabled","isAccordionReordered","chartsSearchFilter","globalLineChartConfig","isDirty","chartsUIStateReducer","action","stateSetter","metricsByDatasets","dataAccessKey","RunsChartType","BAR","uuid","metricSectionId","isGenerated","displayName","uniq","isReordered","isEmpty","getExperimentLoggedModelsPageChartSetup","reconcileChartsAndSections","currentState","newCharts","_newCharts$compareRun","_newCharts$compareRun2","newChartsToAdd","newChart","_currentState$compare","find","chart","newSectionsToAdd","newSection","_currentState$compare2","section","initialConfig","useExperimentLoggedModelsChartsUIState","chartUIState","dispatchChartUIState","useReducer","loading","setLoading","async","serializedData","localStorage","parse","loadPersistedDataFromStorage","then","dataToPersist","saveDataToStorage","ExperimentLoggedModelListChartsImpl","memo","chartData","uiState","metricKeysByDataset","_uiState$chartsSearch","_uiState$chartsSearch2","availableMetricKeys","run","Object","keys","availableParamKeys","updateChartsUIState","useUpdateRunsChartsUIConfiguration","setSearch","search","configuredCardConfig","setConfiguredCardConfig","addNewChartCard","RunsChartsCardConfig","getEmptyChartCardByType","confirmChartCardConfiguration","useConfirmChartCardConfigurationFn","removeChart","useRemoveRunsChartFn","fullScreenChart","setFullScreenChart","fullscreenTooltipContextValue","runs","tooltipContextValue","getDataTraceLink","Routes","getExperimentLoggedModelDetailsPageRoute","emptyState","marginTop","Empty","description","paddingLeft","md","paddingRight","paddingBottom","borderTop","borderLeft","flexDirection","paddingTop","RunsChartsTooltipWrapper","contextData","component","RunsChartsTooltipBody","RunsChartsDraggableCardsGridContextProvider","visibleChartCards","RunsChartsSectionAccordion","reorderCharts","noop","insertCharts","startEditChart","hideEmptyCharts","supportedChartTypes","SCATTER","noRunsSelectedEmptyState","RunsChartsFullScreenModal","onCancel","tooltipComponent","RunsChartsConfigureModal","chartRunData","metricKeyList","paramKeyList","config","onSubmit","ExperimentLoggedModelListCharts","experimentId","cachedLoggedModels","metricsByDataset","_model$data$metrics","orderBy","useExperimentLoggedModelAllMetricsByDataset","loadingState","isRowHidden","useExperimentLoggedModelListPageRowVisibilityContext","compact","index","_model$info","_model$info$name","_model$info2","_model$info3","_model$data$params$ma","_model$data2","_model$data2$params","model_id","images","keyBy","timestamp","step","dataKey","hidden","getStableColorForRun","useExperimentLoggedModelsChartsData","Spinner","RunsChartsUIConfigurationContextProvider","ExperimentLoggedModelListPageImpl","useParams","isLoggedModelsFilteringAndSortingEnabled","rowVisibilityMap","rowVisibilityMode","isFilteringActive","setOrderBy","setColumnVisibility","setRowVisibilityMode","toggleRowVisibility","updateSearchQuery","toggleDataset","clearSelectedDatasets","setGroupBy","useLoggedModelsListPageState","invariant","useExperimentLoggedModelListPageMode","setParams","useSearchParams","get","mode","isFetching","isFetchingLoggedModels","isLoading","isLoadingLoggedModels","error","loggedModelsError","nextPageToken","loadMoreResults","useSearchLoggedModelsQuery","experimentIds","getOrderByRequestData","orderByField","parsedMetricOrderByColumn","datasetDigest","orderByDatasetName","orderByDatasetDigest","badRequestError","BadRequestError","relatedRunsData","useRelatedRunsDataForLoggedModels","compactColumnDefs","useExperimentLoggedModelListPageTableColumns","enableSortingByMetrics","tableAreaWidth","setTableAreaWidth","tableHidden","setTableHidden","isCompactTableMode","tableElement","ExperimentLoggedModelListPageTable","isLoadingMore","moreResultsAvailable","onLoadMore","onOrderByChange","groupModelsBy","ExperimentLoggedModelOpenDatasetDetailsContextProvider","ExperimentLoggedModelListPageRowVisibilityContextProvider","visibilityMap","visibilityMode","Spacer","shrinks","message","Alert","closable","RunsChartsSetHighlightContextProvider","ExperimentLoggedModelListPage","ExperimentLoggedModelPageWrapper","wordWrap","builtin","char","class","constant","hexcode","symbol","getQueryKey","runUuid","queryFn","queryKey","MlflowService","getRun","run_id","_queryResults$find","runUuids","allMetricRunUuids","allSourceRunUuids","source_run_id","queryResults","useQueries","queries","cacheTime","Infinity","staleTime","refetchOnWindowFocus","retry","memoizedQueryResults","array","areArraysConsideredTheSame","every","element","_ref$current","useArrayMemo","PageFallback","_error$message","PageWrapper","image","DangerIcon","resetKey","ErrorBoundary","FallbackComponent","resetKeys","UserActionErrorHandler","useMediaQuery","query","queryList","useSyncExternalStore","callback","matches","useMatchesMediaQuery","matchMedia","useResizeObserver","rootRef","debounceTimeMs","prevSize","debounceRef","setSize","entries","rect","contentRect","observerRef","ResizeObserver","rootElement","observer","observe","unobserve","cleanEntitySearchTagNames","MLFLOW_INTERNAL_PREFIX","attributeOptions","m","p","t","boldedText","wholeText","shouldBeBold","textArray","RegExp","replace","match","item","str","re","clauses","results","lastIndex","exec","clause","getClausesAndStartIndex","clauseObj","newOptions","limitForGroup","ellipsized","slice"],"sourceRoot":""}