{"version":3,"file":"static/js/1107.c4dd9cf4.chunk.js","mappings":"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","sources":["experiment-tracking/components/HtmlTableView.tsx","experiment-tracking/components/MetricsSummaryTable.tsx","common/components/IconButton.tsx","experiment-tracking/components/RunLinksPopover.tsx","experiment-tracking/components/MetricsPlotPanel.tsx","experiment-tracking/components/LineSmoothSlider.tsx","experiment-tracking/components/LazyPlot.tsx","experiment-tracking/components/MetricsPlotView.tsx","common/components/Progress.tsx","experiment-tracking/components/MetricsPlotControls.tsx"],"sourcesContent":["/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport { LegacyTable } from '@databricks/design-system';\nimport './HtmlTableView.css';\n\ntype Props = {\n  columns: any[];\n  values: any[];\n  styles?: any;\n  testId?: string;\n  scroll?: any;\n};\n\nexport function HtmlTableView({ columns, values, styles = {}, testId, scroll }: Props) {\n  return (\n    <LegacyTable\n      className=\"mlflow-html-table-view\"\n      data-testid={testId}\n      dataSource={values}\n      columns={columns}\n      scroll={scroll}\n      size=\"middle\"\n      pagination={false}\n      style={styles}\n    />\n  );\n}\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport { HtmlTableView } from './HtmlTableView';\nimport { getRunInfo } from '../reducers/Reducers';\nimport { getLatestMetrics, getMinMetrics, getMaxMetrics } from '../reducers/MetricReducer';\nimport Utils from '../../common/utils/Utils';\nimport { Link } from '../../common/utils/RoutingUtils';\nimport Routes from '../routes';\nimport type { RunInfoEntity } from '../types';\n\nconst maxTableHeight = 300;\n// Because we make the table body scrollable, column widths must be fixed\n// so that the header widths match the table body column widths.\nconst headerColWidth = 350;\nconst dataColWidth = 200;\n\ntype MetricsSummaryTableProps = {\n  runUuids: string[];\n  runExperimentIds: any;\n  runDisplayNames: string[];\n  metricKeys: string[];\n  latestMetrics: any;\n  minMetrics: any;\n  maxMetrics: any;\n  intl: {\n    formatMessage: (...args: any[]) => any;\n  };\n};\n\nclass MetricsSummaryTable extends React.Component<MetricsSummaryTableProps> {\n  render() {\n    const { runUuids } = this.props;\n    return (\n      <div className=\"metrics-summary\">\n        {runUuids.length > 1 ? this.renderMetricTables() : this.renderRunTable(runUuids[0])}\n      </div>\n    );\n  }\n\n  renderRunTable(runUuid: any) {\n    const { metricKeys, latestMetrics, minMetrics, maxMetrics, intl } = this.props;\n    const columns = [\n      {\n        title: intl.formatMessage({\n          defaultMessage: 'Metric',\n          description:\n            // eslint-disable-next-line max-len\n            'Column title for the column displaying the metric names for a run',\n        }),\n        dataIndex: 'metricKey',\n        sorter: (a: any, b: any) => (a.metricKey < b.metricKey ? -1 : a.metricKey > b.metricKey ? 1 : 0),\n        width: headerColWidth,\n      },\n      ...this.dataColumns(),\n    ];\n    return metricKeys.length === 0 ? null : (\n      <HtmlTableView\n        columns={columns}\n        values={getRunValuesByMetric(runUuid, metricKeys, latestMetrics, minMetrics, maxMetrics, intl)}\n        scroll={{ y: maxTableHeight }}\n      />\n    );\n  }\n\n  renderMetricTables() {\n    const { runExperimentIds, runUuids, runDisplayNames, metricKeys, latestMetrics, minMetrics, maxMetrics, intl } =\n      this.props;\n    const columns = [\n      {\n        title: intl.formatMessage({\n          defaultMessage: 'Run',\n          description:\n            // eslint-disable-next-line max-len\n            'Column title for the column displaying the run names for a metric',\n        }),\n        dataIndex: 'runLink',\n        sorter: (a: any, b: any) => (a.runName < b.runName ? -1 : a.runName > b.runName ? 1 : 0),\n        width: headerColWidth,\n      },\n      ...this.dataColumns(),\n    ];\n    return metricKeys.map((metricKey) => {\n      return (\n        <Fragment key={metricKey}>\n          <h1>{metricKey}</h1>\n          <HtmlTableView\n            columns={columns}\n            values={getMetricValuesByRun(\n              metricKey,\n              runExperimentIds,\n              runUuids,\n              runDisplayNames,\n              latestMetrics,\n              minMetrics,\n              maxMetrics,\n              intl,\n            )}\n            scroll={{ y: maxTableHeight }}\n          />\n        </Fragment>\n      );\n    });\n  }\n\n  dataColumns() {\n    return [\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Latest',\n          description: 'Column title for the column displaying the latest metric values for a metric',\n        }),\n        dataIndex: 'latestFormatted',\n        sorter: (a: any, b: any) => a.latestValue - b.latestValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Min',\n          description: 'Column title for the column displaying the minimum metric values for a metric',\n        }),\n        dataIndex: 'minFormatted',\n        sorter: (a: any, b: any) => a.minValue - b.minValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n      {\n        title: this.props.intl.formatMessage({\n          defaultMessage: 'Max',\n          description: 'Column title for the column displaying the maximum metric values for a metric',\n        }),\n        dataIndex: 'maxFormatted',\n        sorter: (a: any, b: any) => a.maxValue - b.maxValue,\n        width: dataColWidth,\n        ellipsis: true,\n      },\n    ];\n  }\n}\n\nconst getMetricValuesByRun = (\n  metricKey: any,\n  runExperimentIds: any,\n  runUuids: any,\n  runDisplayNames: any,\n  latestMetrics: any,\n  minMetrics: any,\n  maxMetrics: any,\n  intl: any,\n) => {\n  return runUuids.map((runUuid: any, runIdx: any) => {\n    const runName = runDisplayNames[runIdx];\n    return {\n      runName: runName,\n      runLink: <Link to={Routes.getRunPageRoute(runExperimentIds[runUuid] || '', runUuid)}>{runName}</Link>,\n      key: runUuid,\n      ...rowData(runUuid, metricKey, latestMetrics, minMetrics, maxMetrics, intl),\n    };\n  });\n};\n\nconst getRunValuesByMetric = (\n  runUuid: any,\n  metricKeys: any,\n  latestMetrics: any,\n  minMetrics: any,\n  maxMetrics: any,\n  intl: any,\n) => {\n  return metricKeys.map((metricKey: any) => {\n    return {\n      metricKey,\n      key: metricKey,\n      ...rowData(runUuid, metricKey, latestMetrics, minMetrics, maxMetrics, intl),\n    };\n  });\n};\n\nconst rowData = (runUuid: any, metricKey: any, latestMetrics: any, minMetrics: any, maxMetrics: any, intl: any) => {\n  const latestMetric = getMetric(latestMetrics, runUuid, metricKey);\n  const minMetric = getMetric(minMetrics, runUuid, metricKey);\n  const maxMetric = getMetric(maxMetrics, runUuid, metricKey);\n  const latestValue = getValue(latestMetric);\n  const minValue = getValue(minMetric);\n  const maxValue = getValue(maxMetric);\n  return {\n    latestFormatted: (\n      <span title={latestValue} css={{ marginRight: 10 }}>\n        {formatMetric(latestMetric, intl)}\n      </span>\n    ),\n    minFormatted: (\n      <span title={minValue} css={{ marginRight: 10 }}>\n        {formatMetric(minMetric, intl)}\n      </span>\n    ),\n    maxFormatted: (\n      <span title={maxValue} css={{ marginRight: 10 }}>\n        {formatMetric(maxMetric, intl)}\n      </span>\n    ),\n    latestValue,\n    minValue,\n    maxValue,\n  };\n};\n\nconst getMetric = (valuesMap: any, runUuid: any, metricKey: any) => valuesMap[runUuid] && valuesMap[runUuid][metricKey];\n\nconst getValue = (metric: any) => metric && metric.value;\n\nconst formatMetric = (metric: any, intl: any) =>\n  metric === undefined\n    ? ''\n    : intl.formatMessage(\n        {\n          defaultMessage: '{value} (step={step})',\n          description: 'Formats a metric value along with the step number it corresponds to',\n        },\n        {\n          value: metric.value,\n          step: metric.step,\n        },\n      );\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids } = ownProps;\n  const runExperimentIds = {};\n  const latestMetrics = {};\n  const minMetrics = {};\n  const maxMetrics = {};\n  runUuids.forEach((runUuid: any) => {\n    const runInfo = getRunInfo(runUuid, state) as RunInfoEntity;\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    runExperimentIds[runUuid] = runInfo && runInfo.experimentId;\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    latestMetrics[runUuid] = getLatestMetrics(runUuid, state);\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    minMetrics[runUuid] = getMinMetrics(runUuid, state);\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    maxMetrics[runUuid] = getMaxMetrics(runUuid, state);\n  });\n  return { runExperimentIds, latestMetrics, minMetrics, maxMetrics };\n};\n\n// @ts-expect-error TS(2769): No overload matches this call.\nconst MetricsSummaryTableWithIntl = injectIntl(MetricsSummaryTable);\n\nexport default connect(mapStateToProps)(MetricsSummaryTableWithIntl);\n","import React from 'react';\nimport { Button } from '@databricks/design-system';\n\ntype Props = {\n  icon: React.ReactNode;\n  style?: React.CSSProperties;\n  className?: string;\n  onClick?: () => void;\n  restProps?: unknown;\n};\n\nexport const IconButton = ({ icon, className, style, onClick, ...restProps }: Props) => {\n  return (\n    <Button\n      componentId=\"codegen_mlflow_app_src_common_components_iconbutton.tsx_20\"\n      type=\"link\"\n      className={className}\n      style={{ padding: 0, ...style }}\n      onClick={onClick}\n      {...restProps}\n    >\n      {icon}\n    </Button>\n  );\n};\n","import React from 'react';\nimport { Link } from '../../common/utils/RoutingUtils';\nimport Routes from '../routes';\nimport { IconButton } from '../../common/components/IconButton';\nimport Utils from '../../common/utils/Utils';\nimport { LegacyPopover } from '@databricks/design-system';\nimport { type RunItem } from '../types';\n\ntype Props = {\n  experimentId: string;\n  visible: boolean;\n  x: number;\n  y: number;\n  runItems: RunItem[];\n  handleClose: () => void;\n  handleKeyDown: ({ key }: { key: string }) => void;\n  handleVisibleChange: (visible: boolean) => void;\n};\n\nexport class RunLinksPopover extends React.Component<Props> {\n  componentDidMount() {\n    document.addEventListener('keydown', this.props.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.props.handleKeyDown);\n  }\n\n  renderContent = () => {\n    const { experimentId, runItems } = this.props;\n    return (\n      <div>\n        {runItems.map(({ name, runId, color, y }, index) => {\n          const key = `${runId}-${index}`;\n          const to = Routes.getRunPageRoute(experimentId, runId);\n          return (\n            <Link key={key} to={to}>\n              <p style={{ color }}>\n                <i className=\"fa fa-external-link-o\" style={{ marginRight: 5 }} />\n                {`${name}, ${Utils.formatMetric(y)}`}\n              </p>\n            </Link>\n          );\n        })}\n      </div>\n    );\n  };\n\n  renderTitle = () => {\n    const { handleClose } = this.props;\n    return (\n      <div>\n        <span>Jump to individual runs</span>\n        <IconButton\n          icon={<i className=\"fa fa-times\" />}\n          onClick={handleClose}\n          style={{ float: 'right', marginLeft: '7px' }}\n        />\n      </div>\n    );\n  };\n\n  render() {\n    const { visible, x, y, handleVisibleChange } = this.props;\n    return (\n      <LegacyPopover\n        content={this.renderContent()}\n        title={this.renderTitle()}\n        placement=\"left\"\n        visible={visible}\n        onVisibleChange={handleVisibleChange}\n      >\n        <div\n          style={{\n            left: x,\n            top: y,\n            position: 'absolute',\n          }}\n        />\n      </LegacyPopover>\n    );\n  }\n}\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Utils from '../../common/utils/Utils';\nimport RequestStateWrapper from '../../common/components/RequestStateWrapper';\nimport { getMetricHistoryApi, getRunApi } from '../actions';\nimport { cloneDeep, difference, every as lodashEvery, flatMap as lodashFlatMap, isNumber, negate } from 'lodash';\nimport { MetricsPlotView } from './MetricsPlotView';\nimport { getRunInfo } from '../reducers/Reducers';\nimport { MetricsPlotControls, X_AXIS_WALL, X_AXIS_RELATIVE, X_AXIS_STEP } from './MetricsPlotControls';\nimport MetricsSummaryTable from './MetricsSummaryTable';\nimport qs from 'qs';\nimport { withRouterNext } from '../../common/utils/withRouterNext';\nimport Routes from '../routes';\nimport { RunLinksPopover } from './RunLinksPopover';\nimport { getUUID } from '../../common/utils/ActionUtils';\nimport { saveAs } from 'file-saver';\nimport { Spinner } from '@databricks/design-system';\nimport { normalizeMetricsHistoryEntry } from '../utils/MetricsUtils';\nimport type { Location, NavigateFunction } from '../../common/utils/RoutingUtils';\n\nexport const CHART_TYPE_LINE = 'line';\nexport const CHART_TYPE_BAR = 'bar';\n\nexport const METRICS_PLOT_POLLING_INTERVAL_MS = 10 * 1000; // 10 seconds\n// A run is considered as 'hanging' if its status is 'RUNNING' but its latest metric was logged\n// prior to this threshold. The metrics plot doesn't automatically update hanging runs.\nexport const METRICS_PLOT_HANGING_RUN_THRESHOLD_MS = 3600 * 24 * 7 * 1000; // 1 week\nconst MAXIMUM_METRIC_DATA_POINTS = 100_000;\nconst GET_METRIC_HISTORY_MAX_RESULTS = 25000;\n\nexport const convertMetricsToCsv = (metrics: any) => {\n  const header = ['run_id', ...Object.keys(metrics[0].history[0])];\n  const rows = metrics.flatMap(({ runUuid, history }: any) =>\n    history.map((metric: any) => [runUuid, ...Object.values(metric)]),\n  );\n  return [header]\n    .concat(rows)\n    .map((row) => row.join(','))\n    .join('\\n');\n};\n\ntype OwnMetricsPlotPanelProps = {\n  experimentIds: string[];\n  runUuids: string[];\n  completedRunUuids: string[];\n  metricKey: string;\n  latestMetricsByRunUuid: any;\n  distinctMetricKeys: string[];\n  metricsWithRunInfoAndHistory: any[];\n  getMetricHistoryApi: (...args: any[]) => any;\n  getRunApi: (...args: any[]) => any;\n  location: Location;\n  navigate: NavigateFunction;\n  runDisplayNames: string[];\n  containsInfinities: boolean;\n};\n\ntype MetricsPlotPanelState = any;\n\ntype MetricsPlotPanelProps = OwnMetricsPlotPanelProps & typeof MetricsPlotPanel.defaultProps;\n\nexport class MetricsPlotPanel extends React.Component<MetricsPlotPanelProps, MetricsPlotPanelState> {\n  _isMounted = false;\n\n  static defaultProps = {\n    containsInfinities: false,\n  };\n\n  displayPopover: any;\n  intervalId: any;\n\n  // The fields below are exposed as instance attributes rather than component state so that they\n  // can be updated without triggering a rerender.\n  //\n  // ID of Javascript future (created via setTimeout()) used to trigger legend-click events after a\n  // delay, to allow time for double-click events to occur\n  legendClickTimeout = null;\n  // Time (millis after Unix epoch) since last legend click - if two clicks occur in short\n  // succession, we trigger a double-click event & cancel the pending single-click.\n  prevLegendClickTime = (Math as any).inf;\n\n  // Last curve ID clicked in the legend, used to determine if we're double-clicking on a specific\n  // legend curve\n  lastClickedLegendCurveId = null;\n\n  // Max time interval (in milliseconds) between two successive clicks on the metric plot legend\n  // that constitutes a double-click\n  MAX_DOUBLE_CLICK_INTERVAL_MS = 300;\n\n  // Delay (in ms) between when a user clicks on the metric plot legend & when event-handler logic\n  // (to toggle display of the selected curve on or off) actually fires. Set to a larger value than\n  // MAX_DOUBLE_CLICK_INTERVAL_MS to allow time for the double-click handler to fire before firing\n  // a single-click event.\n  SINGLE_CLICK_EVENT_DELAY_MS = this.MAX_DOUBLE_CLICK_INTERVAL_MS + 10;\n\n  constructor(props: MetricsPlotPanelProps) {\n    super(props);\n    this.state = {\n      historyRequestIds: [],\n      popoverVisible: false,\n      popoverX: 0,\n      popoverY: 0,\n      popoverRunItems: [],\n      focused: true,\n      loading: false,\n    };\n    this.displayPopover = false;\n    this.intervalId = null;\n  }\n\n  hasMultipleExperiments() {\n    return this.props.experimentIds && this.props.experimentIds.length > 1;\n  }\n\n  onFocus = () => {\n    this.setState({ focused: true });\n  };\n\n  onBlur = () => {\n    this.setState({ focused: false });\n  };\n\n  clearEventListeners = () => {\n    // `window.removeEventListener` does nothing when called with an unregistered event listener:\n    // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/removeEventListener\n    window.removeEventListener('focus', this.onFocus);\n    window.removeEventListener('blur', this.onBlur);\n  };\n\n  clearInterval = () => {\n    // `clearInterval` does nothing when called with `null` or `undefine`:\n    // https://www.w3.org/TR/2011/WD-html5-20110525/timers.html#dom-windowtimers-cleartimeout\n    clearInterval(this.intervalId);\n    this.intervalId = null;\n  };\n\n  allRunsCompleted = () => {\n    return this.props.completedRunUuids.length === this.props.runUuids.length;\n  };\n\n  isHangingRunUuid = (activeRunUuid: any) => {\n    const metrics = this.props.latestMetricsByRunUuid[activeRunUuid];\n    if (!metrics) {\n      return false;\n    }\n    // @ts-expect-error TS(2345): Argument of type '({ timestamp }: { timestamp: any... Remove this comment to see the full error message\n    const timestamps = Object.values(metrics).map(({ timestamp }) => timestamp);\n    // @ts-expect-error TS(2345): Argument of type 'unknown' is not assignable to pa... Remove this comment to see the full error message\n    const latestTimestamp = Math.max(...timestamps);\n    return new Date().getTime() - latestTimestamp > METRICS_PLOT_HANGING_RUN_THRESHOLD_MS;\n  };\n\n  getActiveRunUuids = () => {\n    const { completedRunUuids, runUuids } = this.props;\n    const activeRunUuids = difference(runUuids, completedRunUuids);\n    return activeRunUuids.filter(negate(this.isHangingRunUuid)); // Exclude hanging runs\n  };\n\n  shouldPoll = () => {\n    return !(this.allRunsCompleted() || this.getActiveRunUuids().length === 0);\n  };\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.loadMetricHistory(this.props.runUuids, this.getUrlState().selectedMetricKeys);\n    if (this.shouldPoll()) {\n      // Set event listeners to detect when this component gains/loses focus,\n      // e.g., a user switches to a different browser tab or app.\n      window.addEventListener('blur', this.onBlur);\n      window.addEventListener('focus', this.onFocus);\n      this.intervalId = setInterval(() => {\n        // Skip polling if this component is out of focus.\n        // @ts-expect-error TS(4111): Property 'focused' comes from an index signature, ... Remove this comment to see the full error message\n        if (this.state.focused) {\n          const activeRunUuids = this.getActiveRunUuids();\n          this.loadMetricHistory(activeRunUuids, this.getUrlState().selectedMetricKeys);\n          this.loadRuns(activeRunUuids);\n\n          if (!this.shouldPoll()) {\n            this.clearEventListeners();\n            this.clearInterval();\n          }\n        }\n      }, METRICS_PLOT_POLLING_INTERVAL_MS);\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    this.clearEventListeners();\n    this.clearInterval();\n  }\n\n  getUrlState() {\n    return Utils.getMetricPlotStateFromUrl(this.props.location.search);\n  }\n\n  static predictChartType(metrics: any) {\n    // Show bar chart when every metric has exactly 1 metric history\n    if (metrics && metrics.length && lodashEvery(metrics, (metric) => metric.history && metric.history.length === 1)) {\n      return CHART_TYPE_BAR;\n    }\n    return CHART_TYPE_LINE;\n  }\n\n  static isComparing(search: any) {\n    const params = qs.parse(search);\n    const runs = params && params['?runs'];\n    // @ts-expect-error TS(2345): Argument of type 'string | string[] | ParsedQs | P... Remove this comment to see the full error message\n    return runs ? JSON.parse(runs).length > 1 : false;\n  }\n\n  // Update page URL from component state. Intended to be called after React applies component\n  // state updates, e.g. in a setState callback\n  updateUrlState = (updatedState: any) => {\n    const { runUuids, metricKey, location, navigate } = this.props;\n    // @ts-expect-error TS(2345): Argument of type 'string | string[] | ParsedQs | P... Remove this comment to see the full error message\n    const experimentIds = JSON.parse(qs.parse(location.search)['experiments']);\n    const newState = {\n      ...this.getUrlState(),\n      ...updatedState,\n    };\n    const {\n      selectedXAxis,\n      selectedMetricKeys,\n      showPoint,\n      yAxisLogScale,\n      lineSmoothness,\n      layout,\n      deselectedCurves,\n      lastLinearYAxisRange,\n    } = newState;\n    navigate(\n      Routes.getMetricPageRoute(\n        runUuids,\n        metricKey,\n        experimentIds,\n        selectedMetricKeys,\n        layout,\n        selectedXAxis,\n        yAxisLogScale,\n        lineSmoothness,\n        showPoint,\n        deselectedCurves,\n        lastLinearYAxisRange,\n      ),\n      {\n        replace: true,\n      },\n    );\n  };\n\n  getNumTotalMetrics = () => {\n    return this.props.metricsWithRunInfoAndHistory.map(({ history }) => history.length).reduce((a, b) => a + b, 0);\n  };\n\n  loadMetricHistory = (runUuids: any, metricKeys: any) => {\n    if (this.getNumTotalMetrics() >= MAXIMUM_METRIC_DATA_POINTS) {\n      Utils.logErrorAndNotifyUser(\n        'The total number of metric data points exceeded 100,000. Cannot fetch more metrics.',\n      );\n      return Promise.resolve([]);\n    }\n    this.setState({ loading: true });\n    const promises = runUuids\n      .flatMap((id: any) =>\n        metricKeys.map((key: any) => ({\n          runUuid: id,\n          metricKey: key,\n        })),\n      )\n      // Avoid fetching non existing metrics\n      .filter(({ runUuid, metricKey }: any) => this.props.latestMetricsByRunUuid[runUuid].hasOwnProperty(metricKey))\n      .map(async ({ runUuid, metricKey }: any) => {\n        const requestIds = [];\n        const id = getUUID();\n        requestIds.push(id);\n        const firstPageResp = await this.props.getMetricHistoryApi(\n          runUuid,\n          metricKey,\n          GET_METRIC_HISTORY_MAX_RESULTS,\n          undefined,\n          id,\n        );\n\n        let nextPageToken = firstPageResp.value.next_page_token;\n        while (nextPageToken) {\n          if (this.getNumTotalMetrics() >= MAXIMUM_METRIC_DATA_POINTS) {\n            return { requestIds, success: false };\n          }\n\n          const uid = getUUID();\n          requestIds.push(uid);\n          /* eslint-disable no-await-in-loop */\n          const nextPageResp = await this.props.getMetricHistoryApi(\n            runUuid,\n            metricKey,\n            GET_METRIC_HISTORY_MAX_RESULTS,\n            nextPageToken,\n            uid,\n          );\n          nextPageToken = nextPageResp.value.next_page_token;\n        }\n        return { requestIds, success: true };\n      });\n    return Promise.all(promises).then((results) => {\n      // Ensure we don't set state if component is unmounted\n      if (this._isMounted) {\n        this.setState({ loading: false });\n      }\n      if (!results.every(({ success }) => success)) {\n        Utils.logErrorAndNotifyUser(\n          'The total number of metric data points exceeded 100,000. Aborted fetching metrics.',\n        );\n      }\n      return results.flatMap(({ requestIds }) => requestIds);\n    });\n  };\n\n  loadRuns = (runUuids: any) => {\n    const requestIds: any = [];\n    runUuids.forEach((runUuid: any) => {\n      const id = getUUID();\n      this.props.getRunApi(runUuid);\n      requestIds.push(id);\n    });\n    return requestIds;\n  };\n\n  getMetrics = () => {\n    /* eslint-disable no-param-reassign */\n    const state = this.getUrlState();\n    const selectedMetricsSet = new Set(state.selectedMetricKeys);\n    const { selectedXAxis } = state;\n    const { metricsWithRunInfoAndHistory } = this.props;\n\n    // Take only selected metrics\n    const metrics = metricsWithRunInfoAndHistory.filter((m) => selectedMetricsSet.has(m.metricKey));\n\n    // Sort metric history based on selected x-axis\n    metrics.forEach((metric) => {\n      const isStep = selectedXAxis === X_AXIS_STEP && metric.history[0] && isNumber(metric.history[0].step);\n      // Metric history can be large. Doing an in-place here to save memory\n      metric.history.sort(isStep ? Utils.compareByStepAndTimestamp : Utils.compareByTimestamp);\n    });\n\n    return metrics;\n  };\n\n  /**\n   * Handle changes in the scale type of the y-axis\n   * @param yAxisLogScale: Boolean - if true, y-axis should be converted to log scale, and if false,\n   * y-axis scale should be converted to a linear scale.\n   */\n  handleYAxisLogScaleChange = (yAxisLogScale: any) => {\n    const state = this.getUrlState();\n    const newLayout = cloneDeep(state.layout);\n    const newAxisType = yAxisLogScale ? 'log' : 'linear';\n\n    // Handle special case of a linear y-axis scale with negative values converted to log scale &\n    // now being restored to linear scale, by restoring the old linear-axis range from\n    // state.linearYAxisRange. In particular, we assume that if state.linearYAxisRange\n    // is non-empty, it contains a linear y axis range with negative values.\n    if (!yAxisLogScale && (state as any).lastLinearYAxisRange && (state as any).lastLinearYAxisRange.length > 0) {\n      newLayout.yaxis = {\n        type: 'linear',\n        range: (state as any).lastLinearYAxisRange,\n      };\n      this.updateUrlState({ layout: newLayout, lastLinearYAxisRange: [] });\n      return;\n    }\n\n    // Otherwise, if plot previously had no y axis range configured, simply set the axis type to\n    // log or linear scale appropriately\n    if (!state.layout.yaxis || !state.layout.yaxis.range) {\n      newLayout.yaxis = {\n        type: newAxisType,\n        autorange: true,\n        ...(newAxisType === 'log' ? { exponentformat: 'e' } : {}),\n      };\n      this.updateUrlState({ layout: newLayout, lastLinearYAxisRange: [] });\n      return;\n    }\n\n    // lastLinearYAxisRange contains the last range used for a linear-scale y-axis. We set\n    // this state attribute if and only if we're converting from a linear-scale y-axis with\n    // negative bounds to a log scale axis, so that we can restore the negative bounds if we\n    // subsequently convert back to a linear scale axis. Otherwise, we reset this attribute to an\n    // empty array\n    let lastLinearYAxisRange = [];\n\n    // At this point, we know the plot previously had a y axis specified with range bounds\n    // Convert the range to/from log scale as appropriate\n    const oldLayout = state.layout;\n    const oldYRange = oldLayout.yaxis.range;\n    if (yAxisLogScale) {\n      if (oldYRange[0] <= 0) {\n        lastLinearYAxisRange = oldYRange;\n        // When converting to log scale, handle negative values (which have no log-scale\n        // representation as taking the log of a negative number is not possible) as follows:\n        // If bottom of old Y range is negative, then tell plotly to infer the log y-axis scale\n        // (set 'autorange' to true), and preserve the old range in the lastLinearYAxisRange\n        // state attribute so that we can restore it if the user converts back to a linear-scale\n        // y axis. We defer to Plotly's autorange here under the assumption that it will produce\n        // a reasonable y-axis log scale for plots containing negative values.\n        newLayout.yaxis = {\n          type: 'log',\n          autorange: true,\n          exponentformat: 'e',\n        };\n      } else {\n        newLayout.yaxis = {\n          type: 'log',\n          range: [Math.log(oldYRange[0]) / Math.log(10), Math.log(oldYRange[1]) / Math.log(10)],\n          exponentformat: 'e',\n        };\n      }\n    } else {\n      // Otherwise, convert from log to linear scale normally\n      newLayout.yaxis = {\n        type: 'linear',\n        range: [Math.pow(10, oldYRange[0]), Math.pow(10, oldYRange[1])],\n      };\n    }\n    this.updateUrlState({ layout: newLayout, lastLinearYAxisRange });\n  };\n\n  /**\n   * Handle changes in the type of the metric plot's X axis (e.g. changes from wall-clock\n   * scale to relative-time scale to step-based scale).\n   * @param e: Selection event such that e.target.value is a string containing the new X axis type\n   */\n  handleXAxisChange = (e: any) => {\n    // Set axis value type, & reset axis scaling via autorange\n    const state = this.getUrlState();\n    const axisEnumToPlotlyType = {\n      [X_AXIS_WALL]: 'date',\n      [X_AXIS_RELATIVE]: 'linear',\n      [X_AXIS_STEP]: 'linear',\n    };\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    const axisType = axisEnumToPlotlyType[e.target.value] || 'linear';\n    const newLayout = {\n      ...state.layout,\n      xaxis: {\n        autorange: true,\n        type: axisType,\n      },\n    };\n    this.updateUrlState({ selectedXAxis: e.target.value, layout: newLayout });\n  };\n\n  getAxisType() {\n    const state = this.getUrlState();\n    return state.layout && state.layout.yaxis && state.layout.yaxis.type === 'log' ? 'log' : 'linear';\n  }\n\n  /**\n   * Handle changes to metric plot layout (x & y axis ranges), e.g. specifically if the user\n   * zooms in or out on the plot.\n   *\n   * @param newLayout: Object containing the new Plot layout. See\n   * https://plot.ly/javascript/plotlyjs-events/#update-data for details on the object's fields\n   * and schema.\n   */\n  handleLayoutChange = (newLayout: any) => {\n    this.displayPopover = false;\n    const state = this.getUrlState();\n    // Unfortunately, we need to parse out the x & y axis range changes from the onLayout event...\n    // see https://plot.ly/javascript/plotlyjs-events/#update-data\n    const {\n      'xaxis.range[0]': newXRange0,\n      'xaxis.range[1]': newXRange1,\n      'yaxis.range[0]': newYRange0,\n      'yaxis.range[1]': newYRange1,\n      'xaxis.autorange': xAxisAutorange,\n      'yaxis.autorange': yAxisAutorange,\n      'yaxis.showspikes': yAxisShowSpikes,\n      'xaxis.showspikes': xAxisShowSpikes,\n      ...restFields\n    } = newLayout;\n\n    let mergedLayout = {\n      ...state.layout,\n      ...restFields,\n    };\n    let lastLinearYAxisRange = [...(state as any).lastLinearYAxisRange];\n\n    // Set fields for x axis\n    const newXAxis = mergedLayout.xaxis || {};\n    if (newXRange0 !== undefined && newXRange1 !== undefined) {\n      newXAxis.range = [newXRange0, newXRange1];\n      newXAxis.autorange = false;\n    }\n    if (xAxisShowSpikes) {\n      newXAxis.showspikes = true;\n    }\n    if (xAxisAutorange) {\n      newXAxis.autorange = true;\n    }\n    // Set fields for y axis\n    const newYAxis = mergedLayout.yaxis || {};\n    if (newYRange0 !== undefined && newYRange1 !== undefined) {\n      newYAxis.range = [newYRange0, newYRange1];\n      newYAxis.autorange = false;\n    }\n    if (yAxisShowSpikes) {\n      newYAxis.showspikes = true;\n    }\n    if (yAxisAutorange) {\n      lastLinearYAxisRange = [];\n      const axisType = state.layout && state.layout.yaxis && state.layout.yaxis.type === 'log' ? 'log' : 'linear';\n      newYAxis.autorange = true;\n      newYAxis.type = axisType;\n    }\n    if (newYAxis.type === 'log') {\n      newYAxis.exponentformat = 'e';\n    }\n    // Merge new X & Y axis info into layout\n    mergedLayout = {\n      ...mergedLayout,\n      xaxis: newXAxis,\n      yaxis: newYAxis,\n    };\n    this.updateUrlState({ layout: mergedLayout, lastLinearYAxisRange });\n  };\n\n  handleDownloadCsv = () => {\n    const csv = convertMetricsToCsv(this.props.metricsWithRunInfoAndHistory);\n    const blob = new Blob([csv], { type: 'application/csv;charset=utf-8' });\n    saveAs(blob, 'metrics.csv');\n  };\n\n  // Return unique key identifying the curve or bar chart corresponding to the specified\n  // Plotly plot data element\n  static getCurveKey(plotDataElem: any) {\n    // In bar charts, each legend item consists of a single run ID (all bars for that run are\n    // associated with & toggled by that legend item)\n    if (plotDataElem.type === 'bar') {\n      return plotDataElem.runId;\n    } else {\n      // In line charts, each (run, metricKey) tuple has its own legend item, so construct\n      // a unique legend item identifier by concatenating the run id & metric key\n      return Utils.getCurveKey(plotDataElem.runId, plotDataElem.metricName);\n    }\n  }\n\n  /**\n   * Handle clicking on a single curve within the plot legend in order to toggle its display\n   * on/off.\n   */\n  handleLegendClick = ({ curveNumber, data }: any) => {\n    // If two clicks in short succession, trigger double-click event\n    const state = this.getUrlState();\n    const currentTime = Date.now();\n    if (\n      currentTime - this.prevLegendClickTime < this.MAX_DOUBLE_CLICK_INTERVAL_MS &&\n      curveNumber === this.lastClickedLegendCurveId\n    ) {\n      this.handleLegendDoubleClick({ curveNumber, data });\n      this.prevLegendClickTime = (Math as any).inf;\n    } else {\n      // Otherwise, record time of current click & trigger click event\n      // Wait full double-click window to trigger setting state, and only if there was no\n      // double-click do we run the single-click logic (we wait a little extra to be safe)\n      const curveKey = MetricsPlotPanel.getCurveKey(data[curveNumber]);\n      // @ts-expect-error TS(2322): Type 'number' is not assignable to type 'null'.\n      this.legendClickTimeout = window.setTimeout(() => {\n        const existingDeselectedCurves = new Set((state as any).deselectedCurves);\n        if (existingDeselectedCurves.has(curveKey)) {\n          existingDeselectedCurves.delete(curveKey);\n        } else {\n          existingDeselectedCurves.add(curveKey);\n        }\n        this.updateUrlState({ deselectedCurves: Array.from(existingDeselectedCurves) });\n      }, this.SINGLE_CLICK_EVENT_DELAY_MS);\n      this.prevLegendClickTime = currentTime;\n    }\n    this.lastClickedLegendCurveId = curveNumber;\n    // Return false to disable plotly event handler\n    return false;\n  };\n\n  /**\n   * Handle double-clicking on a single curve within the plot legend in order to toggle display\n   * of the selected curve on (and disable display of all other curves).\n   */\n  handleLegendDoubleClick = ({ curveNumber, data }: any) => {\n    // @ts-expect-error TS(2769): No overload matches this call.\n    window.clearTimeout(this.legendClickTimeout);\n    // Exclude everything besides the current curve key\n    const curveKey = MetricsPlotPanel.getCurveKey(data[curveNumber]);\n    const allCurveKeys = data.map((elem: any) => MetricsPlotPanel.getCurveKey(elem));\n    const newDeselectedCurves = allCurveKeys.filter((curvePair: any) => curvePair !== curveKey);\n    this.updateUrlState({ deselectedCurves: newDeselectedCurves });\n    return false;\n  };\n\n  handleMetricsSelectChange = (metricKeys: any) => {\n    const existingMetricKeys = this.getUrlState().selectedMetricKeys || [];\n    const newMetricKeys = metricKeys.filter((k: any) => !existingMetricKeys.includes(k));\n    this.updateUrlState({ selectedMetricKeys: metricKeys });\n    this.loadMetricHistory(this.props.runUuids, newMetricKeys).then((requestIds) => {\n      this.setState({ loading: false });\n      this.setState((prevState: any) => ({\n        historyRequestIds: [...prevState.historyRequestIds, ...requestIds],\n      }));\n    });\n  };\n\n  handleShowPointChange = (showPoint: any) => this.updateUrlState({ showPoint });\n\n  handleLineSmoothChange = (lineSmoothness: any) => this.updateUrlState({ lineSmoothness });\n\n  handleKeyDownOnPopover = ({ key }: { key: string }) => {\n    if (key === 'Escape') {\n      this.setState({ popoverVisible: false });\n    }\n  };\n\n  updatePopover = (data: any) => {\n    this.displayPopover = !this.displayPopover;\n\n    // Ignore double click.\n    setTimeout(() => {\n      if (this.displayPopover) {\n        this.displayPopover = false;\n        const { popoverVisible, popoverX, popoverY } = this.state;\n        const {\n          points,\n          event: { clientX, clientY },\n        } = data;\n        const samePointClicked = popoverX === clientX && popoverY === clientY;\n        const runItems = points\n          .sort((a: any, b: any) => b.y - a.y)\n          .map((point: any) => ({\n            runId: point.data.runId,\n            name: point.data.name,\n            color: point.fullData.marker.color,\n            y: point.y,\n          }));\n\n        this.setState({\n          popoverVisible: !popoverVisible || !samePointClicked,\n          popoverX: clientX,\n          popoverY: clientY,\n          popoverRunItems: runItems,\n        });\n      }\n    }, 300);\n  };\n\n  render() {\n    const { experimentIds, runUuids, runDisplayNames, distinctMetricKeys, location } = this.props;\n    const { popoverVisible, popoverX, popoverY, popoverRunItems, loading } = this.state;\n    const state = this.getUrlState();\n    const { showPoint, selectedXAxis, selectedMetricKeys, lineSmoothness } = state;\n    const yAxisLogScale = this.getAxisType() === 'log';\n    const { historyRequestIds } = this.state;\n    const metrics = this.getMetrics();\n    const chartType = MetricsPlotPanel.predictChartType(metrics);\n    return (\n      <div className=\"mlflow-metrics-plot-container\">\n        <MetricsPlotControls\n          // @ts-expect-error TS(2322): Type '{ numRuns: number; numCompletedRuns: number;... Remove this comment to see the full error message\n          numRuns={this.props.runUuids.length}\n          numCompletedRuns={this.props.completedRunUuids.length}\n          distinctMetricKeys={distinctMetricKeys}\n          selectedXAxis={selectedXAxis}\n          selectedMetricKeys={selectedMetricKeys}\n          handleXAxisChange={this.handleXAxisChange}\n          handleMetricsSelectChange={this.handleMetricsSelectChange}\n          handleShowPointChange={this.handleShowPointChange}\n          handleYAxisLogScaleChange={this.handleYAxisLogScaleChange}\n          handleLineSmoothChange={this.handleLineSmoothChange}\n          chartType={chartType}\n          lineSmoothness={lineSmoothness}\n          yAxisLogScale={yAxisLogScale}\n          showPoint={showPoint}\n          handleDownloadCsv={this.handleDownloadCsv}\n          disableSmoothnessControl={this.props.containsInfinities}\n        />\n        <div className=\"metrics-plot-data\">\n          <RequestStateWrapper\n            requestIds={historyRequestIds}\n            // In this case where there are no history request IDs (e.g. on the\n            // initial page load / before we try to load additional metrics),\n            // optimistically render the children\n            shouldOptimisticallyRender={historyRequestIds.length === 0}\n          >\n            {this.hasMultipleExperiments() ? null : (\n              <RunLinksPopover\n                experimentId={experimentIds[0]}\n                visible={popoverVisible}\n                x={popoverX}\n                y={popoverY}\n                runItems={popoverRunItems}\n                handleKeyDown={this.handleKeyDownOnPopover}\n                handleClose={() => this.setState({ popoverVisible: false })}\n                handleVisibleChange={(visible) => this.setState({ popoverVisible: visible })}\n              />\n            )}\n            <Spinner size=\"large\" css={{ visibility: loading ? 'visible' : 'hidden' }} />\n            <MetricsPlotView\n              // @ts-expect-error TS(2322): Type '{ runUuids: string[]; runDisplayNames: strin... Remove this comment to see the full error message\n              runUuids={runUuids}\n              runDisplayNames={runDisplayNames}\n              xAxis={selectedXAxis}\n              metrics={this.getMetrics()}\n              metricKeys={selectedMetricKeys}\n              showPoint={showPoint}\n              chartType={chartType}\n              isComparing={MetricsPlotPanel.isComparing(location.search)}\n              lineSmoothness={lineSmoothness}\n              extraLayout={state.layout}\n              deselectedCurves={(state as any).deselectedCurves}\n              onLayoutChange={this.handleLayoutChange}\n              onClick={this.updatePopover}\n              onLegendClick={this.handleLegendClick}\n              onLegendDoubleClick={this.handleLegendDoubleClick}\n            />\n            <MetricsSummaryTable\n              runUuids={runUuids}\n              runDisplayNames={runDisplayNames}\n              metricKeys={selectedMetricKeys}\n            />\n          </RequestStateWrapper>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any, ownProps: any) => {\n  const { runUuids } = ownProps;\n  const completedRunUuids = runUuids.filter((runUuid: any) => getRunInfo(runUuid, state).status !== 'RUNNING');\n  const { latestMetricsByRunUuid, metricsByRunUuid } = state.entities;\n\n  // All metric keys from all runUuids, non-distinct\n  const metricKeys = lodashFlatMap(runUuids, (runUuid) => {\n    const latestMetrics = latestMetricsByRunUuid[runUuid];\n    return latestMetrics ? Object.keys(latestMetrics) : [];\n  });\n  const distinctMetricKeys = [...new Set(metricKeys)].sort();\n  const runDisplayNames: any = [];\n\n  let containsInfinities = false;\n\n  // Flat array of all metrics, with history and information of the run it belongs to\n  // This is used for underlying MetricsPlotView & predicting chartType for MetricsPlotControls\n  const metricsWithRunInfoAndHistory = lodashFlatMap(runUuids, (runUuid) => {\n    const runDisplayName = Utils.getRunDisplayName(getRunInfo(runUuid, state), runUuid);\n    runDisplayNames.push(runDisplayName);\n    const metricsHistory = metricsByRunUuid[runUuid];\n    return metricsHistory\n      ? Object.keys(metricsHistory).map((metricKey) => {\n          const history = metricsHistory[metricKey].map((entry: any) => normalizeMetricsHistoryEntry(entry));\n          if (history.some(({ value }: any) => typeof value === 'number' && !isNaN(value) && !isFinite(value))) {\n            containsInfinities = true;\n          }\n          return { metricKey, history, runUuid, runDisplayName };\n        })\n      : [];\n  });\n\n  return {\n    runDisplayNames,\n    latestMetricsByRunUuid,\n    distinctMetricKeys,\n    metricsWithRunInfoAndHistory,\n    completedRunUuids,\n    containsInfinities,\n  };\n};\n\nconst mapDispatchToProps = { getMetricHistoryApi, getRunApi };\n\nexport default withRouterNext(connect(mapStateToProps, mapDispatchToProps)(MetricsPlotPanel));\n","import { useDesignSystemTheme } from '@databricks/design-system';\nimport { Input, Slider } from '@databricks/design-system';\nimport { clamp, isEmpty, isUndefined, keys } from 'lodash';\nimport { useState } from 'react';\n\nconst TRACK_SIZE = 20;\nconst THUMB_SIZE = 14;\nconst MARK_SIZE = 8;\nconst MARK_OFFSET_X = (THUMB_SIZE - MARK_SIZE) / 2;\nconst MARK_OFFSET_Y = (TRACK_SIZE - MARK_SIZE) / 2;\n\nconst ZINDEX_MARK = 1;\nconst ZINDEX_THUMB = 2;\n\nconst STEP_MARKS_DISPLAY_THRESHOLD = 10;\n\ninterface LineSmoothSliderProps {\n  max?: number;\n  min?: number;\n  step?: number;\n  marks?: Record<number, any>;\n  value: number | undefined;\n  onChange: (value: number) => void;\n  disabled?: boolean;\n  componentId?: string;\n  onAfterChange?: (value: number) => void;\n  className?: string;\n}\n\n// Internal helper function: finds the closest value to the given value from the marks\nconst getClosestValue = (marks: Record<number, string>, value: number, defaultValue: number) =>\n  keys(marks).reduce(\n    (prev, curr) => (Math.abs(Number(curr) - value) < Math.abs(prev - value) ? Number(curr) : Number(prev)),\n    defaultValue,\n  );\n\n// Internal helper function: finds the next value based on direction (down or up) from the marks\nconst getNextValue = (marks: Record<number, string>, currentValue: number, direction: 'down' | 'up') =>\n  direction === 'down'\n    ? Math.max(\n        ...Object.keys(marks)\n          .filter((mark) => Number(mark) < currentValue)\n          .map(Number),\n      )\n    : Math.min(\n        ...Object.keys(marks)\n          .filter((mark) => Number(mark) > currentValue)\n          .map(Number),\n      );\n\nexport const LineSmoothSlider = ({\n  max = 1,\n  min = 0,\n  step,\n  marks,\n  value,\n  onChange,\n  disabled,\n  onAfterChange,\n  componentId,\n  className,\n}: LineSmoothSliderProps) => {\n  const { theme } = useDesignSystemTheme();\n  const shouldUseMarks = !isEmpty(marks);\n  const shouldDisplayMarks = shouldUseMarks && Object.keys(marks).length < STEP_MARKS_DISPLAY_THRESHOLD;\n\n  // Temporary value is used to store the value of the input field before it is committed\n  const [temporaryValue, setTemporaryValue] = useState<number | undefined>(undefined);\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        height: theme.general.heightSm,\n        gap: theme.spacing.md,\n        alignItems: 'center',\n      }}\n    >\n      <Slider.Root\n        disabled={disabled}\n        css={{\n          flex: 1,\n          position: 'relative',\n          'span:last-child': { zIndex: ZINDEX_THUMB },\n        }}\n        className={className}\n        min={min}\n        max={max}\n        value={[value ?? 0]}\n        onValueCommit={([newValue]) => onAfterChange?.(newValue)}\n        onKeyDown={(e) => {\n          // If marks are used, we want to find the next value based on direction (arrow left/down or arrow right/up)\n          if (shouldUseMarks) {\n            e.preventDefault();\n\n            if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {\n              const nextValue = getNextValue(\n                marks,\n                value ?? 0,\n                e.key === 'ArrowLeft' || e.key === 'ArrowDown' ? 'down' : 'up',\n              );\n\n              onAfterChange?.(nextValue);\n              onChange(nextValue);\n            }\n          }\n        }}\n        onValueChange={([newValue]) => {\n          if (shouldUseMarks) {\n            onChange(getClosestValue(marks, newValue, value ?? 0));\n            return;\n          }\n          onChange(newValue);\n        }}\n        step={step ?? undefined}\n      >\n        {/* Render marks if needed */}\n        {shouldDisplayMarks && (\n          <div css={{ position: 'absolute', inset: 0, marginRight: THUMB_SIZE }}>\n            {keys(marks).map((markPosition) => (\n              <div\n                key={markPosition}\n                css={{\n                  position: 'absolute',\n                  zIndex: ZINDEX_MARK,\n                  top: 0,\n                  right: 0,\n                  bottom: 0,\n                  marginLeft: -MARK_OFFSET_X / 2,\n                  marginTop: MARK_OFFSET_Y,\n                  pointerEvents: 'none',\n                  borderRadius: '100%',\n                  backgroundColor: theme.colors.actionPrimaryBackgroundDefault,\n                  height: MARK_SIZE,\n                  width: MARK_SIZE,\n                  opacity: 0.5,\n                }}\n                style={{\n                  left: `${(Number(markPosition) / (max - min)) * 100}%`,\n                }}\n              />\n            ))}\n          </div>\n        )}\n        <Slider.Track className=\"TRACK\">\n          <Slider.Range />\n        </Slider.Track>\n        <Slider.Thumb css={{ position: 'relative', height: THUMB_SIZE, width: THUMB_SIZE }} />\n      </Slider.Root>\n      <Input\n        componentId={componentId ?? 'mlflow.experiment_tracking.common.line_smooth_slider'}\n        type=\"number\"\n        disabled={disabled}\n        min={min}\n        max={max}\n        css={{ width: 'min-content' }}\n        step={step}\n        value={temporaryValue ?? value}\n        onBlur={() => {\n          // If temporary value is set, we want to commit it to the value\n          if (!isUndefined(temporaryValue)) {\n            if (shouldUseMarks) {\n              onAfterChange?.(getClosestValue(marks, temporaryValue, value ?? 0));\n              onChange(getClosestValue(marks, temporaryValue, value ?? 0));\n            } else {\n              onAfterChange?.(clamp(temporaryValue, min, max));\n              onChange(clamp(temporaryValue, min, max));\n            }\n            setTemporaryValue(undefined);\n          }\n        }}\n        onChange={({ target, nativeEvent }) => {\n          // If the input event is an input event, we want to set the temporary value\n          // to be commited on blur instead of directly setting the value\n          if (nativeEvent instanceof InputEvent) {\n            setTemporaryValue(Number(target.value));\n            return;\n          }\n\n          // If using marks, find the next value based on the direction of the change\n          if (shouldUseMarks) {\n            const nextValue = getNextValue(marks, value ?? 0, Number(target.value) < Number(value) ? 'down' : 'up');\n\n            onChange(nextValue);\n            return;\n          }\n\n          // If not using marks, clamp the value to the min and max\n          onChange(clamp(Number(target.value), min, max));\n        }}\n      />\n    </div>\n  );\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { LegacySkeleton } from '@databricks/design-system';\nimport { SectionErrorBoundary } from '../../common/components/error-boundaries/SectionErrorBoundary';\n\nconst Plot = React.lazy(() => import('react-plotly.js'));\n\nexport const LazyPlot = ({ fallback, ...props }: any) => (\n  <SectionErrorBoundary>\n    <React.Suspense fallback={fallback ?? <LegacySkeleton active />}>\n      <Plot {...props} />\n    </React.Suspense>\n  </SectionErrorBoundary>\n);\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport Utils from '../../common/utils/Utils';\nimport { cloneDeep, minBy, sortBy } from 'lodash';\nimport { saveAs } from 'file-saver';\nimport { X_AXIS_STEP, X_AXIS_RELATIVE, MAX_LINE_SMOOTHNESS } from './MetricsPlotControls';\nimport { CHART_TYPE_BAR, convertMetricsToCsv } from './MetricsPlotPanel';\nimport { LazyPlot } from './LazyPlot';\nimport { generateInfinityAnnotations } from '../utils/MetricsUtils';\nimport type { IntlShape } from 'react-intl';\nimport { injectIntl } from 'react-intl';\n\nconst MAX_RUN_NAME_DISPLAY_LENGTH = 24;\nconst EMA_THRESHOLD = 1;\n\nexport const EMA = (mArray: any, smoothingWeight: any) => {\n  // If all elements in the set of metric values are constant, or if\n  // the degree of smoothing is set to the minimum value, return the\n  // original set of metric values\n  if (smoothingWeight <= 1 || !mArray || mArray.length <= EMA_THRESHOLD || mArray.every((v: any) => v === mArray[0])) {\n    return mArray;\n  }\n\n  const smoothness = smoothingWeight / (MAX_LINE_SMOOTHNESS + 1);\n  const smoothedArray = [];\n  let biasedElement = 0;\n  for (let i = 0; i < mArray.length; i++) {\n    if (!isNaN(mArray[i])) {\n      biasedElement = biasedElement * smoothness + (1 - smoothness) * mArray[i];\n      // To avoid biasing earlier elements toward smaller-than-accurate values, we divide\n      // all elements by a `debiasedWeight` that asymptotically increases and approaches\n      // 1 as the element index increases\n      const debiasWeight = 1.0 - Math.pow(smoothness, i + 1);\n      const debiasedElement = biasedElement / debiasWeight;\n      smoothedArray.push(debiasedElement);\n    } else {\n      smoothedArray.push(mArray[i]);\n    }\n  }\n  return smoothedArray;\n};\n\n// To avoid pulling in plotly.js (unlazily) and / or using a separate package, just duplicating here\n// Copied from https://github.com/plotly/plotly.js/blob/v2.5.1/src/fonts/ploticon.js#L100\nconst DISK_ICON = {\n  width: 857.1,\n  height: 1000,\n  // eslint-disable-next-line max-len\n  path: 'm214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z',\n  transform: 'matrix(1 0 0 -1 0 850)',\n};\n\ntype MetricsPlotViewImplProps = {\n  runUuids: string[];\n  runDisplayNames: string[];\n  metrics: any[];\n  xAxis: string;\n  metricKeys: string[];\n  showPoint: boolean;\n  chartType: string;\n  isComparing: boolean;\n  lineSmoothness?: number;\n  extraLayout?: any;\n  onLayoutChange: (...args: any[]) => any;\n  onClick: (...args: any[]) => any;\n  onLegendClick: (...args: any[]) => any;\n  onLegendDoubleClick: (...args: any[]) => any;\n  deselectedCurves: string[];\n  intl?: any;\n};\n\nexport class MetricsPlotViewImpl extends React.Component<MetricsPlotViewImplProps> {\n  static getLineLegend = (metricKey: any, runDisplayName: any, isComparing: any) => {\n    let legend = metricKey;\n    if (isComparing) {\n      legend += `, ${Utils.truncateString(runDisplayName, MAX_RUN_NAME_DISPLAY_LENGTH)}`;\n    }\n    return legend;\n  };\n\n  static getXValuesForLineChart(history: any, xAxisType: any, intl?: IntlShape) {\n    if (history.length === 0) {\n      return [];\n    }\n    switch (xAxisType) {\n      case X_AXIS_STEP:\n        return history.map(({ step }: any) => step);\n      case X_AXIS_RELATIVE: {\n        // @ts-expect-error TS(2339): Property 'timestamp' does not exist on type '{ toS... Remove this comment to see the full error message\n        const { timestamp: minTimestamp } = minBy(history, 'timestamp');\n        return history.map(({ timestamp }: any) => (timestamp - minTimestamp) / 1000);\n      }\n      default: // X_AXIS_WALL\n        return history.map(({ timestamp }: any) => timestamp);\n    }\n  }\n\n  /**\n   * Regenerates annotations and shapes for infinity and NaN values.\n   * Best called infrequently. Ideally should be called only when data input changes.\n   */\n  regenerateInfinityAnnotations = () => {\n    const { metrics, xAxis, extraLayout } = this.props;\n    const isYAxisLog = extraLayout?.yaxis?.type === 'log';\n    const annotationData = {};\n\n    metrics.forEach((metric) => {\n      const { metricKey, history } = metric;\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      annotationData[metricKey] = generateInfinityAnnotations({\n        xValues: (MetricsPlotView as any).getXValuesForLineChart(history, xAxis, this.props.intl),\n        yValues: history.map((entry: any) => (typeof entry.value === 'number' ? entry.value : Number(entry.value))),\n        isLogScale: isYAxisLog,\n        stringFormatter: (value) => this.props.intl.formatMessage(value, { metricKey }),\n      });\n    });\n\n    this.#annotationData = annotationData;\n  };\n\n  #annotationData = {};\n\n  getPlotPropsForLineChart = () => {\n    const { metrics, xAxis, showPoint, lineSmoothness, isComparing, deselectedCurves } = this.props;\n\n    const deselectedCurvesSet = new Set(deselectedCurves);\n    const shapes: any = [];\n    const annotations: any = [];\n\n    const data = metrics.map((metric) => {\n      const { metricKey, runDisplayName, history, runUuid } = metric;\n      const historyValues = history.map((entry: any) =>\n        typeof entry.value === 'number' ? entry.value : Number(entry.value),\n      );\n      // For metrics with exactly one non-NaN item, we set `isSingleHistory` to `true` in order\n      // to display the item as a point. For metrics with zero non-NaN items (i.e., empty metrics),\n      // we also set `isSingleHistory` to `true` in order to populate the plot legend with a\n      // point-style entry for each empty metric, although no data will be plotted for empty\n      // metrics\n      const isSingleHistory = historyValues.filter((value: any) => !isNaN(value)).length <= 1;\n\n      const visible = !deselectedCurvesSet.has(Utils.getCurveKey(runUuid, metricKey)) ? true : 'legendonly';\n\n      if (this.#annotationData && metricKey in this.#annotationData && visible === true) {\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        shapes.push(...this.#annotationData[metricKey].shapes);\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        annotations.push(...this.#annotationData[metricKey].annotations);\n      }\n\n      return {\n        name: (MetricsPlotView as any).getLineLegend(metricKey, runDisplayName, isComparing),\n        x: (MetricsPlotView as any).getXValuesForLineChart(history, xAxis),\n        y: (isSingleHistory ? historyValues : EMA(historyValues, lineSmoothness)).map((entry: any) =>\n          !isFinite(entry) ? NaN : entry,\n        ),\n        text: historyValues.map((value: any) => (isNaN(value) ? value : value.toFixed(5))),\n        type: 'scattergl',\n        mode: isSingleHistory ? 'markers' : 'lines+markers',\n        marker: { opacity: isSingleHistory || showPoint ? 1 : 0 },\n        hovertemplate: isSingleHistory || lineSmoothness === 1 ? '%{y}' : 'Value: %{text}<br>Smoothed: %{y}',\n        visible: visible,\n        runId: runUuid,\n        metricName: metricKey,\n      };\n    });\n    const props = { data };\n\n    (props as any).layout = {\n      ...(props as any).layout,\n      ...this.props.extraLayout,\n      shapes,\n      annotations,\n    };\n\n    return props;\n  };\n\n  getPlotPropsForBarChart = () => {\n    /* eslint-disable no-param-reassign */\n    const { runUuids, runDisplayNames, deselectedCurves } = this.props;\n\n    // A reverse lookup of `metricKey: { runUuid: value, metricKey }`\n    const historyByMetricKey = this.props.metrics.reduce((map, metric) => {\n      const { runUuid, metricKey, history } = metric;\n      const value = history[0] && history[0].value;\n      if (!map[metricKey]) {\n        map[metricKey] = { metricKey, [runUuid]: value };\n      } else {\n        map[metricKey][runUuid] = value;\n      }\n      return map;\n    }, {});\n\n    const arrayOfHistorySortedByMetricKey = sortBy(Object.values(historyByMetricKey), 'metricKey');\n\n    const sortedMetricKeys = arrayOfHistorySortedByMetricKey.map((history) => (history as any).metricKey);\n    const deselectedCurvesSet = new Set(deselectedCurves);\n    const data = runUuids.map((runUuid, i) => {\n      const visibility = deselectedCurvesSet.has(runUuid) ? { visible: 'legendonly' } : {};\n      return {\n        name: Utils.truncateString(runDisplayNames[i], MAX_RUN_NAME_DISPLAY_LENGTH),\n        x: sortedMetricKeys,\n        y: arrayOfHistorySortedByMetricKey.map((history) => (history as any)[runUuid]),\n        type: 'bar',\n        runId: runUuid,\n        ...visibility,\n      };\n    });\n\n    const layout = { barmode: 'group' };\n    const props = { data, layout };\n    props.layout = {\n      ...props.layout,\n      ...this.props.extraLayout,\n    };\n    return props;\n  };\n\n  componentDidMount() {\n    this.regenerateInfinityAnnotations();\n  }\n\n  componentDidUpdate() {\n    /**\n     * TODO: make sure that annotations are regenereated only when data changes.\n     * In fact, all internal recalculations should be done only then.\n     */\n    this.regenerateInfinityAnnotations();\n  }\n\n  render() {\n    const { onLayoutChange, onClick, onLegendClick, onLegendDoubleClick } = this.props;\n    const plotProps =\n      this.props.chartType === CHART_TYPE_BAR ? this.getPlotPropsForBarChart() : this.getPlotPropsForLineChart();\n\n    return (\n      <div className=\"metrics-plot-view-container\">\n        <LazyPlot\n          {...plotProps}\n          useResizeHandler\n          onRelayout={onLayoutChange}\n          onClick={onClick}\n          onLegendClick={onLegendClick}\n          onLegendDoubleClick={onLegendDoubleClick}\n          style={{ width: '100%', height: '100%' }}\n          layout={cloneDeep((plotProps as any).layout)}\n          config={{\n            displaylogo: false,\n            scrollZoom: true,\n            modeBarButtonsToRemove: ['sendDataToCloud'],\n            modeBarButtonsToAdd: [\n              {\n                name: 'Download plot data as CSV',\n                icon: DISK_ICON,\n                click: () => {\n                  const csv = convertMetricsToCsv(this.props.metrics);\n                  const blob = new Blob([csv], { type: 'application/csv;charset=utf-8' });\n                  saveAs(blob, 'metrics.csv');\n                },\n              },\n            ],\n          }}\n        />\n      </div>\n    );\n  }\n}\n\n// @ts-expect-error TS(2769): No overload matches this call.\nexport const MetricsPlotView = injectIntl(MetricsPlotViewImpl);\n","import type { Theme } from '@emotion/react';\n\nexport interface ProgressProps {\n  percent: number;\n  format: (percent: number) => string;\n  className?: string;\n}\n\n/**\n * Recreates basic features of antd's <Progress /> component.\n * Temporary solution, waiting for this component to be included in DuBois.\n */\nexport const Progress = (props: ProgressProps) => {\n  return (\n    <div css={styles.wrapper} className={props.className}>\n      <div css={styles.track}>\n        <div css={styles.progressTrack} style={{ width: `${props.percent}%` }} />\n      </div>\n      {props.format(props.percent)}\n    </div>\n  );\n};\n\nconst styles = {\n  wrapper: (theme: Theme) => ({ display: 'flex', alignItems: 'center', gap: theme.spacing.sm }),\n  track: (theme: Theme) => ({\n    backgroundColor: theme.colors.backgroundSecondary,\n    height: theme.spacing.sm,\n    flex: 1,\n    borderRadius: theme.spacing.sm,\n  }),\n  progressTrack: (theme: Theme) => ({\n    backgroundColor: theme.colors.primary,\n    height: theme.spacing.sm,\n    borderRadius: theme.spacing.sm,\n  }),\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React from 'react';\nimport { Button, LegacySelect, Switch, LegacyTooltip, Radio, QuestionMarkIcon } from '@databricks/design-system';\nimport { Progress } from '../../common/components/Progress';\nimport { CHART_TYPE_LINE, METRICS_PLOT_POLLING_INTERVAL_MS } from './MetricsPlotPanel';\n\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { LineSmoothSlider } from './LineSmoothSlider';\n\nconst RadioGroup = Radio.Group;\nexport const X_AXIS_WALL = 'wall';\nexport const X_AXIS_STEP = 'step';\nexport const X_AXIS_RELATIVE = 'relative';\nexport const MAX_LINE_SMOOTHNESS = 100;\n\ntype Props = {\n  distinctMetricKeys: string[];\n  selectedMetricKeys: string[];\n  selectedXAxis: string;\n  handleXAxisChange: (...args: any[]) => any;\n  handleShowPointChange: (...args: any[]) => any;\n  handleMetricsSelectChange: (...args: any[]) => any;\n  handleYAxisLogScaleChange: (...args: any[]) => any;\n  handleLineSmoothChange: (value: number) => void;\n  chartType: string;\n  lineSmoothness: number;\n  yAxisLogScale: boolean;\n  showPoint: boolean;\n  intl: {\n    formatMessage: (...args: any[]) => any;\n  };\n  numRuns: number;\n  numCompletedRuns: number;\n  handleDownloadCsv: (...args: any[]) => any;\n  disableSmoothnessControl: boolean;\n};\n\nclass MetricsPlotControlsImpl extends React.Component<Props> {\n  static defaultProps = {\n    disableSmoothnessControl: false,\n  };\n\n  handleMetricsSelectFilterChange = (text: any, option: any) =>\n    option.props.title.toUpperCase().includes(text.toUpperCase());\n\n  getAllMetricKeys = () => {\n    const { distinctMetricKeys } = this.props;\n    return distinctMetricKeys.map((metricKey) => ({\n      title: metricKey,\n      value: metricKey,\n      key: metricKey,\n    }));\n  };\n\n  render() {\n    const { chartType, yAxisLogScale, lineSmoothness, showPoint, numRuns, numCompletedRuns, disableSmoothnessControl } =\n      this.props;\n\n    const lineSmoothnessTooltipText = (\n      <FormattedMessage\n        // eslint-disable-next-line max-len\n        defaultMessage='Make the line between points \"smoother\" based on Exponential Moving Average. Smoothing can be useful for displaying the overall trend when the logging frequency is high.'\n        description=\"Helpful tooltip message to help with line smoothness for the metrics plot\"\n      />\n    );\n    const completedRunsTooltipText = (\n      <FormattedMessage\n        // eslint-disable-next-line max-len\n        defaultMessage=\"MLflow UI automatically fetches metric histories for active runs and updates the metrics plot with a {interval} second interval.\"\n        description=\"Helpful tooltip message to explain the automatic metrics plot update\"\n        values={{ interval: Math.round(METRICS_PLOT_POLLING_INTERVAL_MS / 1000) }}\n      />\n    );\n    return (\n      <div\n        className=\"plot-controls\"\n        css={[styles.controlsWrapper, chartType === CHART_TYPE_LINE && styles.centeredControlsWrapper]}\n      >\n        {chartType === CHART_TYPE_LINE ? (\n          <div>\n            <div className=\"inline-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"Completed Runs\"\n                  description=\"Label for the progress bar to show the number of completed runs\"\n                />{' '}\n                <LegacyTooltip title={completedRunsTooltipText}>\n                  <QuestionMarkIcon />\n                </LegacyTooltip>\n                <Progress\n                  percent={Math.round((100 * numCompletedRuns) / numRuns)}\n                  format={() => `${numCompletedRuns}/${numRuns}`}\n                />\n              </div>\n            </div>\n            <div className=\"inline-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"Points:\"\n                  // eslint-disable-next-line max-len\n                  description=\"Label for the toggle button to toggle to show points or not for the metric experiment run\"\n                />\n              </div>\n              <Switch\n                componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_120\"\n                data-testid=\"show-point-toggle\"\n                defaultChecked={showPoint}\n                onChange={this.props.handleShowPointChange}\n              />\n            </div>\n            {!disableSmoothnessControl && (\n              <div className=\"block-control\">\n                <div className=\"control-label\">\n                  <FormattedMessage\n                    defaultMessage=\"Line Smoothness\"\n                    description=\"Label for the smoothness slider for the graph plot for metrics\"\n                  />{' '}\n                  <LegacyTooltip title={lineSmoothnessTooltipText}>\n                    <QuestionMarkIcon />\n                  </LegacyTooltip>\n                </div>\n                <LineSmoothSlider\n                  data-testid=\"smoothness-toggle\"\n                  min={1}\n                  max={MAX_LINE_SMOOTHNESS}\n                  onChange={this.props.handleLineSmoothChange}\n                  value={lineSmoothness}\n                />\n              </div>\n            )}\n            <div className=\"block-control\">\n              <div className=\"control-label\">\n                <FormattedMessage\n                  defaultMessage=\"X-axis:\"\n                  // eslint-disable-next-line max-len\n                  description=\"Label for the radio button to toggle the control on the X-axis of the metric graph for the experiment\"\n                />\n              </div>\n              <RadioGroup\n                componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_154\"\n                name=\"metrics-plot-x-axis-radio-group\"\n                css={styles.xAxisControls}\n                onChange={this.props.handleXAxisChange}\n                value={this.props.selectedXAxis}\n              >\n                <Radio value={X_AXIS_STEP} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Step\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the step control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n                <Radio value={X_AXIS_WALL} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Time (Wall)\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the time wall control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n                <Radio value={X_AXIS_RELATIVE} data-testid=\"x-axis-radio\">\n                  <FormattedMessage\n                    defaultMessage=\"Time (Relative)\"\n                    // eslint-disable-next-line max-len\n                    description=\"Radio button option to choose the time relative control option for the X-axis for metric graph on the experiment runs\"\n                  />\n                </Radio>\n              </RadioGroup>\n            </div>\n          </div>\n        ) : null}\n        <div className=\"block-control\">\n          <div className=\"control-label\">\n            <FormattedMessage\n              defaultMessage=\"Y-axis:\"\n              // eslint-disable-next-line max-len\n              description=\"Label where the users can choose the metric of the experiment run to be plotted on the Y-axis\"\n            />\n          </div>\n          <LegacySelect\n            placeholder={this.props.intl.formatMessage({\n              defaultMessage: 'Please select metric',\n              description:\n                // eslint-disable-next-line max-len\n                'Placeholder text where one can select metrics from the list of available metrics to render on the graph',\n            })}\n            value={this.props.selectedMetricKeys}\n            onChange={this.props.handleMetricsSelectChange}\n            mode=\"multiple\"\n            css={styles.axisSelector}\n          >\n            {this.getAllMetricKeys().map((key) => (\n              <LegacySelect.Option value={key.value} key={key.key}>\n                {key.title}\n              </LegacySelect.Option>\n            ))}\n          </LegacySelect>\n        </div>\n        <div className=\"inline-control\">\n          <div className=\"control-label\">\n            <FormattedMessage\n              defaultMessage=\"Y-axis Log Scale:\"\n              // eslint-disable-next-line max-len\n              description=\"Label for the radio button to toggle the Log scale on the Y-axis of the metric graph for the experiment\"\n            />\n          </div>\n          <Switch\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_220\"\n            defaultChecked={yAxisLogScale}\n            onChange={this.props.handleYAxisLogScaleChange}\n          />\n        </div>\n        <div className=\"inline-control\">\n          <Button\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_metricsplotcontrols.tsx_222\"\n            css={{\n              textAlign: 'justify',\n              textAlignLast: 'left',\n            }}\n            onClick={this.props.handleDownloadCsv}\n          >\n            <FormattedMessage\n              defaultMessage=\"Download data\"\n              // eslint-disable-next-line max-len\n              description=\"String for the download csv button to download metrics from this run offline in a CSV format\"\n            />\n            <i className=\"fa fa-download\" />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  xAxisControls: (theme: any) => ({\n    label: { marginTop: theme.spacing.xs, marginBottom: theme.spacing.xs },\n  }),\n  controlsWrapper: { minWidth: '20%', maxWidth: '30%' },\n  axisSelector: { width: '100%' },\n  centeredControlsWrapper: {\n    // Make controls aligned to plotly line chart\n    justifyContent: 'center',\n  },\n};\n\n// @ts-expect-error TS(2769): No overload matches this call.\nexport const MetricsPlotControls = injectIntl(MetricsPlotControlsImpl);\n"],"names":["HtmlTableView","columns","values","styles","testId","scroll","_jsx","LegacyTable","className","dataSource","size","pagination","style","MetricsSummaryTable","React","render","runUuids","this","props","children","length","renderMetricTables","renderRunTable","runUuid","metricKeys","latestMetrics","minMetrics","maxMetrics","intl","title","formatMessage","id","defaultMessage","dataIndex","sorter","a","b","metricKey","width","dataColumns","getRunValuesByMetric","y","runExperimentIds","runDisplayNames","runName","map","_jsxs","Fragment","getMetricValuesByRun","latestValue","ellipsis","minValue","maxValue","runIdx","runLink","Link","to","Routes","getRunPageRoute","key","rowData","_ref","name","_ref2","_ref3","latestMetric","getMetric","minMetric","maxMetric","getValue","latestFormatted","css","formatMetric","minFormatted","maxFormatted","valuesMap","metric","value","undefined","step","MetricsSummaryTableWithIntl","injectIntl","connect","mapStateToProps","state","ownProps","forEach","runInfo","getRunInfo","experimentId","getLatestMetrics","getMinMetrics","getMaxMetrics","IconButton","icon","onClick","restProps","Button","componentId","type","padding","RunLinksPopover","constructor","args","renderContent","runItems","runId","color","index","marginRight","Utils","renderTitle","handleClose","float","marginLeft","componentDidMount","document","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","visible","x","handleVisibleChange","LegacyPopover","content","placement","onVisibleChange","left","top","position","CHART_TYPE_LINE","CHART_TYPE_BAR","METRICS_PLOT_POLLING_INTERVAL_MS","MAXIMUM_METRIC_DATA_POINTS","convertMetricsToCsv","metrics","header","Object","keys","history","rows","flatMap","concat","row","join","MetricsPlotPanel","super","_isMounted","displayPopover","intervalId","legendClickTimeout","prevLegendClickTime","Math","inf","lastClickedLegendCurveId","MAX_DOUBLE_CLICK_INTERVAL_MS","SINGLE_CLICK_EVENT_DELAY_MS","onFocus","setState","focused","onBlur","clearEventListeners","window","clearInterval","allRunsCompleted","completedRunUuids","isHangingRunUuid","activeRunUuid","latestMetricsByRunUuid","timestamps","timestamp","latestTimestamp","max","Date","getTime","getActiveRunUuids","difference","filter","negate","shouldPoll","updateUrlState","updatedState","location","navigate","experimentIds","JSON","parse","qs","search","newState","getUrlState","selectedXAxis","selectedMetricKeys","showPoint","yAxisLogScale","lineSmoothness","layout","deselectedCurves","lastLinearYAxisRange","getMetricPageRoute","replace","getNumTotalMetrics","metricsWithRunInfoAndHistory","reduce","loadMetricHistory","logErrorAndNotifyUser","Promise","resolve","loading","promises","hasOwnProperty","async","requestIds","getUUID","push","nextPageToken","getMetricHistoryApi","next_page_token","success","uid","all","then","results","every","loadRuns","getRunApi","getMetrics","selectedMetricsSet","Set","m","has","isStep","X_AXIS_STEP","isNumber","sort","compareByStepAndTimestamp","compareByTimestamp","handleYAxisLogScaleChange","newLayout","cloneDeep","newAxisType","yaxis","range","autorange","exponentformat","oldYRange","log","pow","handleXAxisChange","e","axisType","X_AXIS_WALL","X_AXIS_RELATIVE","target","xaxis","handleLayoutChange","newXRange0","newXRange1","newYRange0","newYRange1","xAxisAutorange","yAxisAutorange","yAxisShowSpikes","xAxisShowSpikes","restFields","mergedLayout","newXAxis","showspikes","newYAxis","handleDownloadCsv","csv","blob","Blob","saveAs","handleLegendClick","curveNumber","data","currentTime","now","handleLegendDoubleClick","curveKey","getCurveKey","setTimeout","existingDeselectedCurves","delete","add","Array","from","clearTimeout","newDeselectedCurves","elem","curvePair","handleMetricsSelectChange","existingMetricKeys","newMetricKeys","k","includes","prevState","historyRequestIds","handleShowPointChange","handleLineSmoothChange","handleKeyDownOnPopover","popoverVisible","updatePopover","popoverX","popoverY","points","event","clientX","clientY","samePointClicked","point","fullData","marker","popoverRunItems","hasMultipleExperiments","setInterval","activeRunUuids","getMetricPlotStateFromUrl","predictChartType","lodashEvery","isComparing","params","runs","getAxisType","plotDataElem","metricName","distinctMetricKeys","chartType","MetricsPlotControls","numRuns","numCompletedRuns","disableSmoothnessControl","containsInfinities","RequestStateWrapper","shouldOptimisticallyRender","Spinner","_css","visibility","MetricsPlotView","xAxis","extraLayout","onLayoutChange","onLegendClick","onLegendDoubleClick","defaultProps","mapDispatchToProps","withRouterNext","status","metricsByRunUuid","entities","lodashFlatMap","runDisplayName","getRunDisplayName","metricsHistory","entry","normalizeMetricsHistoryEntry","some","isNaN","isFinite","getClosestValue","marks","defaultValue","prev","curr","abs","Number","getNextValue","currentValue","direction","mark","min","LineSmoothSlider","onChange","disabled","onAfterChange","theme","useDesignSystemTheme","shouldUseMarks","isEmpty","shouldDisplayMarks","temporaryValue","setTemporaryValue","useState","display","height","general","heightSm","gap","spacing","md","alignItems","Slider","Root","flex","zIndex","onValueCommit","newValue","onKeyDown","preventDefault","nextValue","onValueChange","inset","markPosition","right","bottom","marginTop","pointerEvents","borderRadius","backgroundColor","colors","actionPrimaryBackgroundDefault","opacity","Track","Range","Thumb","Input","isUndefined","clamp","nativeEvent","InputEvent","Plot","LazyPlot","fallback","SectionErrorBoundary","LegacySkeleton","active","EMA","mArray","smoothingWeight","v","smoothness","MAX_LINE_SMOOTHNESS","smoothedArray","biasedElement","i","debiasedElement","DISK_ICON","path","transform","_annotationData","_classPrivateFieldLooseKey","MetricsPlotViewImpl","regenerateInfinityAnnotations","_extraLayout$yaxis","isYAxisLog","annotationData","generateInfinityAnnotations","xValues","getXValuesForLineChart","yValues","isLogScale","stringFormatter","_classPrivateFieldLooseBase","defineProperty","writable","getPlotPropsForLineChart","deselectedCurvesSet","shapes","annotations","historyValues","isSingleHistory","getLineLegend","NaN","text","toFixed","mode","hovertemplate","getPlotPropsForBarChart","historyByMetricKey","arrayOfHistorySortedByMetricKey","sortBy","sortedMetricKeys","truncateString","barmode","xAxisType","minTimestamp","minBy","componentDidUpdate","plotProps","useResizeHandler","onRelayout","config","displaylogo","scrollZoom","modeBarButtonsToRemove","modeBarButtonsToAdd","click","legend","Progress","wrapper","track","progressTrack","percent","format","sm","backgroundSecondary","primary","RadioGroup","Radio","Group","MetricsPlotControlsImpl","handleMetricsSelectFilterChange","option","toUpperCase","getAllMetricKeys","lineSmoothnessTooltipText","FormattedMessage","completedRunsTooltipText","interval","round","controlsWrapper","centeredControlsWrapper","LegacyTooltip","QuestionMarkIcon","Switch","defaultChecked","xAxisControls","LegacySelect","placeholder","axisSelector","Option","label","xs","marginBottom","minWidth","maxWidth","justifyContent"],"sourceRoot":""}