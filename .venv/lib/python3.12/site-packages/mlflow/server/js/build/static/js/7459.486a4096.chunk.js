"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7459],{26626:function(e,n,i){i.d(n,{b:function(){return t}});var r=i(74823);const t=e=>{if(e)return e instanceof r.K4&&e.graphQLErrors.length>0?e.graphQLErrors.map((e=>e.message||e.toString())).join(", "):"message"in e?e.message:e.toString()}},38120:function(e,n,i){i.r(n),i.d(n,{default:function(){return U}});var r=i(89555),t=i(31014),a=i(16934),s=i(48443),o=i(68048),l=i(39416),d=i(4877),m=i.n(d),c=i(48624),u=i(72314),p=i(10811),g=i(26809),f=i(7204),h=i(9133);var b=i(62702),x=i(56928),v=i(26626),E=i(88443),Y=i(33141),T=i(50111);const M=({experiment:e,loading:n,onNoteUpdated:i,error:s,experimentKindSelector:l,inferredExperimentKind:d,refetchExperiment:m})=>{var c,u;const{theme:p}=(0,a.u)(),[g,f]=(0,t.useState)(!0),[h,M]=(0,t.useState)(!1),S=(0,t.useMemo)((()=>{const n=e;return n?{...n,creationTime:Number(null===n||void 0===n?void 0:n.creationTime),lastUpdateTime:Number(null===n||void 0===n?void 0:n.lastUpdateTime)}:null}),[e]),y=null===S||void 0===S||null===(c=S.tags)||void 0===c||null===(u=c.find((e=>e.key===x.e)))||void 0===u?void 0:u.value,A=(0,v.b)(s);return n?(0,T.Y)(Y.J,{}):A?(0,T.Y)("div",{css:(0,r.AH)({height:p.general.heightBase,marginTop:p.spacing.sm,marginBottom:p.spacing.md},""),children:(0,T.Y)(o.Alert,{componentId:"mlflow.logged_model.list.header.error",type:"error",message:(0,T.Y)(E.A,{id:"E4Te7L",defaultMessage:"Experiment load error: {errorMessage}",values:{errorMessage:A}}),closable:!1})}):S?(0,T.FD)(T.FK,{children:[(0,T.Y)(Y.i,{experiment:S,inferredExperimentKind:d,setEditing:M,experimentKindSelector:l,refetchExperiment:m}),(0,T.Y)(b.A,{experiment:S,setShowAddDescriptionButton:f,editing:h,setEditing:M,onNoteUpdated:i,defaultValue:y})]}):null};var S=i(81313),y=i(25866),A=i(91144),I=i(62230),k=i(11039),K=i(83667),L=i(7355),P=i(15543),N=i(58481);const B=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,T.FD)(T.FK,{children:[(0,T.Y)(s.S,{size:"sm",shrinks:!1}),(0,T.Y)("div",{css:(0,r.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]})};var D={name:"6z2y42",styles:"& > div{margin-bottom:0;}"};const F=({experimentId:e,activeTab:n})=>{const{theme:i}=(0,a.u)();return(0,T.Y)(o.Tabs.Root,{componentId:"mlflow.labeling-sub-tab-selector",value:n,css:D,children:(0,T.FD)(o.Tabs.List,{children:[(0,T.Y)(o.Tabs.Trigger,{value:y.fM.LabelingSessions,children:(0,T.Y)(c.N_,{css:(0,r.AH)({color:i.colors.textPrimary},""),to:N.Ay.getExperimentPageTabRoute(e,y.fM.LabelingSessions),children:(0,T.Y)(E.A,{id:"0vs7Wu",defaultMessage:"Sessions"})})}),(0,T.Y)(o.Tabs.Trigger,{value:y.fM.LabelingSchemas,children:(0,T.Y)(c.N_,{css:(0,r.AH)({color:i.colors.textPrimary},""),to:N.Ay.getExperimentPageTabRoute(e,y.fM.LabelingSchemas),children:(0,T.Y)(E.A,{id:"iKSfnk",defaultMessage:"Schemas"})})})]})})};var R=i(24011),w=i(80847);const _=t.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(2079),i.e(4175),i.e(4153),i.e(2134),i.e(3067),i.e(2121),i.e(1240),i.e(7816),i.e(1107),i.e(2587),i.e(3428),i.e(9721),i.e(5813),i.e(3285),i.e(590),i.e(3270),i.e(505)]).then(i.bind(i,21339)))),z=t.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(2079),i.e(4175),i.e(3067),i.e(2121),i.e(7816),i.e(5813),i.e(3285),i.e(4642)]).then(i.bind(i,90355)))),H=t.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(2079),i.e(4153),i.e(2134),i.e(1570),i.e(1240),i.e(1107),i.e(2587),i.e(3428),i.e(9721),i.e(7453),i.e(47),i.e(2397),i.e(8655)]).then(i.bind(i,49840)))),G=t.lazy((()=>Promise.all([i.e(618),i.e(7027),i.e(2079),i.e(4175),i.e(4153),i.e(2134),i.e(2121),i.e(1240),i.e(7816),i.e(1107),i.e(2587),i.e(3428),i.e(590),i.e(7364),i.e(1077)]).then(i.bind(i,32495)))),V=()=>{const{experimentId:e,tabName:n}=(0,c.g)(),{theme:i}=(0,a.u)(),d=(0,c.Zp)(),{tabName:b}=(0,R.H)(),x=null!==b&&void 0!==b?b:(0,S.SK)(y.fM,n,y.fM.Models);m()(e,"Experiment ID must be defined"),(0,A.BV)()||m()(n,"Tab name must be defined");const{data:v,loading:E,refetch:Y,apiError:D,apolloError:V}=(0,u.L)({experimentId:e}),{mutate:U,isLoading:O}=(0,I.G)(Y),C=null!==D&&void 0!==D?D:V;if((e=>{const n=(0,p.wA)();(0,t.useEffect)((()=>{const i=(0,h.get)(e,"experimentId");e&&i&&n(((n,r)=>{var t,a;Boolean(null===(t=r().entities)||void 0===t||null===(a=t.experimentsById)||void 0===a?void 0:a[i])||n({type:(0,f.ec)(g.gT),payload:{experiment:e}})}))}),[e,n])})(v),C instanceof l.ZR)throw C;const Q=v&&"tags"in v?null===v||void 0===v?void 0:v.tags:[],Z=(0,K.BH)(Q),{inferredExperimentKind:$,inferredExperimentPageTab:X,isLoading:j,dismiss:J}=(0,L.F)({experimentId:e,isLoadingExperiment:E,enabled:(0,A.XQ)()&&!Z,experimentTags:Q,updateExperimentKind:U}),{pathname:W}=(0,c.zy)(),q=Boolean((0,c.B6)(N.AY.experimentPage,W));return(0,w.B)({enabled:(0,A.BV)()&&q,experimentId:e}),(0,t.useEffect)((()=>{X&&d(N.Ay.getExperimentPageTabRoute(e,X),{replace:!0})}),[e,X]),$===y.Gk.NO_INFERRED_TYPE&&(0,A.XQ)()?(0,T.Y)(P.T,{onConfirm:n=>{U({experimentId:e,kind:n},{onSettled:()=>{J(),(0,A.BV)()&&n===y.Gk.GENAI_DEVELOPMENT&&d(N.Ay.getExperimentPageTabRoute(e,y.fM.Traces),{replace:!0})}})},onDismiss:J}):(0,T.FD)(T.FK,{children:[(0,T.Y)(M,{experiment:v,loading:E||j,onNoteUpdated:Y,error:C,inferredExperimentKind:$,refetchExperiment:Y,experimentKindSelector:(0,T.Y)(k.f,{value:Z,inferredExperimentKind:$,onChange:n=>U({experimentId:e,kind:n}),isUpdating:O||j,readOnly:!1},$)}),x===y.fM.EvaluationRuns||x===y.fM.Datasets?(0,T.Y)(B,{experimentId:e,activeTab:x}):x===y.fM.LabelingSessions||x===y.fM.LabelingSchemas?(0,T.Y)(F,{experimentId:e,activeTab:x}):(0,T.FD)(T.FK,{children:[(0,T.Y)(s.S,{size:"sm",shrinks:!1}),(0,T.Y)("div",{css:(0,r.AH)({width:"100%",borderTop:`1px solid ${i.colors.border}`},"")})]}),(0,T.Y)(s.S,{size:"sm",shrinks:!1}),(0,T.Y)(t.Suspense,{fallback:(0,T.Y)(T.FK,{children:[...Array(8).keys()].map((e=>(0,T.Y)(o.ParagraphSkeleton,{label:"Loading...",seed:`s-${e}`},e)))}),children:(0,A.BV)()?(0,T.Y)(c.sv,{}):(0,T.FD)(T.FK,{children:[x===y.fM.Traces&&(0,T.Y)(z,{}),x===y.fM.Runs&&(0,T.Y)(_,{}),x===y.fM.Models&&(0,T.Y)(H,{}),x===y.fM.EvaluationRuns&&(0,T.Y)(G,{})]})})]})};var U=()=>{const{theme:e}=(0,a.u)();return(0,T.Y)("div",{css:(0,r.AH)({flex:1,overflow:"hidden",display:"flex",flexDirection:"column",padding:e.spacing.md,height:"100%"},""),children:(0,T.Y)(V,{})})}},80847:function(e,n,i){i.d(n,{B:function(){return m}});var r=i(31014),t=i(48624),a=i(58481),s=i(25866),o=i(72314),l=i(83667),d=i(81313);const m=({enabled:e,experimentId:n})=>{const i=(0,t.Zp)(),{data:m,loading:c}=(0,o.L)({experimentId:n,options:{skip:!e}}),u=(0,r.useMemo)((()=>{if(c||!m)return null;const e=m&&"tags"in m?null===m||void 0===m?void 0:m.tags:[];if(m){const n=(0,l.BH)(e);return(0,d.SK)(s.Gk,n,s.Gk.NO_INFERRED_TYPE)}return null}),[m,c]);return(0,r.useEffect)((()=>{if(!e||!u)return;let r=s.fM.Runs;u===s.Gk.GENAI_DEVELOPMENT&&(r=s.fM.Traces),i(a.Ay.getExperimentPageTabRoute(n,r),{replace:!0})}),[i,n,e,u]),{isEnabled:e,isLoading:e&&c}}}}]);
//# sourceMappingURL=7459.486a4096.chunk.js.map