"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[3044],{43683:function(e,t,a){a.d(t,{Q:function(){return b}});var l=a(89555),n=a(9133),o=a(31014),s=a(16934),i=a(48443),r=a(68048),d=a(88464),c=a(88443),u=a(13369),m=a(50111);var g={name:"4zleql",styles:"display:block"};function p(e){return t=>function(e,t){const a=(0,d.A)(),{theme:i}=(0,s.u)(),c=e.props.searchValue.toLowerCase();return(0,o.useMemo)((()=>{if(!c)return e;if((0,n.sortedIndexOf)(t,c)>=0)return e;const s=/^[^,.:/=\-\s]+$/.test(c);return o.cloneElement(e,{flattenOptions:[{data:{value:c,disabled:!s,style:{color:s?i.colors.actionTertiaryTextDefault:i.colors.actionDisabledText},children:(0,m.Y)(r.LegacyTooltip,{title:s?void 0:a.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),placement:"right",children:(0,m.FD)("span",{css:g,children:[(0,m.Y)(r.PlusIcon,{css:(0,l.AH)({marginRight:i.spacing.sm},"")}),a.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:c})]})})},key:c,groupOption:!1},...e.props.flattenOptions]})}),[t,e,c,a,i])}(t,e)}var h={name:"1d3w5wq",styles:"width:100%"};function f({allAvailableTags:e,control:t,onKeyChangeCallback:a}){const l=(0,d.A)(),[n,s]=(0,o.useState)(!1),i=(0,o.useRef)(null),{field:c,fieldState:g}=(0,u.as)({control:t,name:"key",rules:{required:{message:l.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,m.Y)(r.LegacySelect,{allowClear:!0,ref:i,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:p(e)},css:h,placeholder:l.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:c.value,defaultValue:c.value,open:n,onDropdownVisibleChange:e=>{s(e)},filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{c.onChange(e),null===a||void 0===a||a(e)},onClear:()=>{c.onChange(void 0),null===a||void 0===a||a(void 0)},validationState:g.error?"error":void 0,children:e.map((e=>(0,m.Y)(r.LegacySelect.Option,{value:e,children:e},e)))})}var v=a(98597),y=a(52350);function x(e){return new Map(e.map((e=>[e.key,e])))}var _={name:"82a6rk",styles:"flex:1"},w={name:"82a6rk",styles:"flex:1"};const b=({onSuccess:e,saveTagsHandler:t,allAvailableTags:a,valueRequired:g=!1,title:p})=>{const h=(0,o.useRef)(),[b,k]=(0,o.useState)(""),{theme:T}=(0,s.u)(),[M,C]=(0,o.useState)(new Map),[S,F]=(0,o.useState)(new Map),[I,A]=(0,o.useState)(!1),D=(0,u.mN)({defaultValues:{key:void 0,value:""}}),P=()=>A(!1),E=(0,o.useCallback)((e=>{h.current=e,C(x(e.tags||[])),F(x(e.tags||[])),D.reset(),A(!0)}),[D]),R=async()=>{h.current&&(k(""),L(!0),t(h.current,Array.from(M.values()),Array.from(S.values())).then((()=>{P(),null===e||void 0===e||e(),L(!1)})).catch((e=>{var t;L(!1),k(e instanceof y.s?null===(t=e.getUserVisibleError())||void 0===t?void 0:t.message:e.message)})))},V=(0,d.A)(),H=D.watch(),[B,L]=(0,o.useState)(!1),O=(0,o.useMemo)((()=>!(0,n.isEqual)((0,n.sortBy)(Array.from(M.values()),"key"),(0,n.sortBy)(Array.from(S.values()),"key"))),[M,S]),N=H.key||H.value,K=O&&N;return{EditTagsModal:(0,m.FD)(i.d,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_135",destroyOnClose:!0,visible:I,title:null!==p&&void 0!==p?p:(0,m.Y)(c.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:P,footer:(0,m.FD)(s.y,{children:[(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:P,css:(0,l.AH)({marginRight:O?0:T.spacing.sm},""),children:V.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),K?(0,m.Y)(Y,{formValues:H,isLoading:B,onSaveTask:R}):(0,m.Y)(r.LegacyTooltip,{title:O?void 0:V.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!O,loading:B,type:"primary",onClick:R,children:V.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,m.FD)("form",{onSubmit:D.handleSubmit((()=>{if(g&&!H.value.trim())return;const e=new Map(S);e.set(H.key,H),F(e),D.reset()})),css:(0,l.AH)({display:"flex",alignItems:"flex-end",gap:T.spacing.md},""),children:[(0,m.FD)("div",{css:(0,l.AH)({minWidth:0,display:"flex",gap:T.spacing.md,flex:1},""),children:[(0,m.FD)("div",{css:_,children:[(0,m.Y)(r.FormUI.Label,{htmlFor:"key",children:V.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,m.Y)(f,{allAvailableTags:a||[],control:D.control,onKeyChangeCallback:e=>{var t;const a=e?S.get(e):void 0;D.setValue("value",null!==(t=null===a||void 0===a?void 0:a.value)&&void 0!==t?t:"")}})]}),(0,m.FD)("div",{css:w,children:[(0,m.Y)(r.FormUI.Label,{htmlFor:"value",children:g?V.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):V.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,m.Y)(r.RHFControlledComponents.Input,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_223",name:"value",control:D.control,"aria-label":g?V.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):V.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:V.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,m.Y)(r.LegacyTooltip,{title:V.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":V.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,m.Y)(r.PlusIcon,{})})})]}),b&&(0,m.Y)(r.FormUI.Message,{type:"error",message:b}),(0,m.Y)("div",{css:(0,l.AH)({display:"flex",rowGap:T.spacing.xs,flexWrap:"wrap",marginTop:T.spacing.sm},""),children:Array.from(S.values()).map((e=>(0,m.Y)(v.t,{isClosable:!0,tag:e,onClose:()=>(({key:e})=>{F((t=>(t.delete(e),new Map(t))))})(e)},e.key)))})]}),showEditTagsModal:E,isLoading:B}};var k={name:"1y0ex1",styles:"max-width:400px"};function Y({isLoading:e,formValues:t,onSaveTask:a}){const o=(0,d.A)(),{theme:i}=(0,s.u)(),r=`${`${(0,n.truncate)(t.key,{length:20})||"_"}`}${t.value?`:${(0,n.truncate)(t.value,{length:20})}`:""}`,c=o.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:r});return(0,m.FD)(s.ax.Root,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_309",children:[(0,m.Y)(s.ax.Trigger,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:e,type:"primary",children:o.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,m.FD)(s.ax.Content,{align:"end","aria-label":c,children:[(0,m.Y)(s.T.Paragraph,{css:k,children:c}),(0,m.Y)(s.ax.Close,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:a,children:o.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,m.Y)(s.ax.Close,{asChild:!0,children:(0,m.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,l.AH)({marginLeft:i.spacing.sm},""),children:o.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,m.Y)(s.ax.Arrow,{})]})]})}},56412:function(e,t,a){a.d(t,{i:function(){return d}});var l=a(31014),n=a(88443),o=a(68048),s=a(16934),i=a(50111);var r={name:"1739oy8",styles:"z-index:1"};const d=({copyText:e,showLabel:t=!0,componentId:a,...d})=>{const[c,u]=(0,l.useState)(!1);return(0,i.Y)(o.LegacyTooltip,{title:(0,i.Y)(n.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:c},children:(0,i.Y)(s.B,{componentId:null!==a&&void 0!==a?a:"mlflow.shared.copy_button",type:"primary",onClick:()=>{navigator.clipboard.writeText(e),u(!0),setTimeout((()=>{u(!1)}),3e3)},onMouseLeave:()=>{u(!1)},css:r,children:t?(0,i.Y)(n.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...d})})}},63044:function(e,t,a){a.r(t),a.d(t,{ExperimentListView:function(){return z},default:function(){return X}});var l=a(89555),n=a(31014),o=a(16934),s=a(48443),i=a(68048),r=a(58481),d=a(5452),c=a(54573),u=a(88464),m=a(88443),g=a(84069),p=a(70618),h=a(9856),f=a(9133),v=a(76010),y=a(48624),x=a(98597),_=a(98590),w=a(50111);var b={name:"zjik7",styles:"display:flex"},k={name:"tyk0n8",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex"},Y={name:"14cnl6e",styles:"flex-shrink:0;opacity:0;[role=row]:hover &{opacity:1;}[role=row]:focus-within &{opacity:1;}"};const T=({row:{original:e},table:{options:{meta:t}}})=>{var a;const l=(0,u.A)(),{onEditTags:n}=t,s=(null===e||void 0===e||null===(a=e.tags)||void 0===a?void 0:a.filter((e=>(0,_.oD)(e.key))))||[],r=s.length>0;return(0,w.FD)("div",{css:b,children:[(0,w.Y)("div",{css:k,children:null===s||void 0===s?void 0:s.map((e=>(0,w.Y)(x.t,{tag:e},e.key)))}),(0,w.Y)(o.B,{componentId:"mlflow.experiment.list.tag.add",size:"small",icon:r?(0,w.Y)(i.PencilIcon,{}):void 0,onClick:()=>null===n||void 0===n?void 0:n(e),"aria-label":l.formatMessage({id:"Vk+30L",defaultMessage:"Edit tags"}),css:Y,type:"tertiary",children:r?void 0:(0,w.Y)(m.A,{id:"cI0kqF",defaultMessage:"Add tags"})})]})};const M=({experiments:e,isFiltered:t,isLoading:a,rowSelection:s,setRowSelection:r,cursorPaginationProps:d,sortingProps:{sorting:c,setSorting:g},onEditTags:y})=>{const{theme:x}=(0,o.u)(),_=(()=>{const e=(0,u.A)();return(0,n.useMemo)((()=>[{header:({table:e})=>(0,w.Y)(i.Checkbox,{componentId:"mlflow.experiment_list_view.check_all_box",isChecked:e.getIsSomeRowsSelected()?null:e.getIsAllRowsSelected(),onChange:(t,a)=>e.getToggleAllRowsSelectedHandler()(a)}),id:"select",cell:F,enableSorting:!1},{header:e.formatMessage({id:"QhEnTA",defaultMessage:"Name"}),accessorKey:"name",id:"name",cell:S,enableSorting:!0},{header:e.formatMessage({id:"JUTcIz",defaultMessage:"Time created"}),id:"creation_time",accessorFn:({creationTime:t})=>v.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"l/+0SR",defaultMessage:"Last modified"}),id:"last_update_time",accessorFn:({lastUpdateTime:t})=>v.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"STEhnv",defaultMessage:"Description"}),id:"description",accessorFn:({tags:e})=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.find((({key:e})=>"mlflow.note.content"===e)))||void 0===a?void 0:a.value)&&void 0!==t?t:"-"},enableSorting:!1},{header:e.formatMessage({id:"BB6In/",defaultMessage:"Tags"}),id:"tags",accessorKey:"tags",enableSorting:!1,cell:T}]),[e])})(),b=(0,p.N4)({data:null!==e&&void 0!==e?e:[],columns:_,getCoreRowModel:(0,h.HT)(),getRowId:e=>e.experimentId,enableRowSelection:!0,enableMultiRowSelection:!0,onRowSelectionChange:r,onSortingChange:g,state:{rowSelection:s,sorting:c},meta:{onEditTags:y}}),k={flex:"none",height:x.general.heightBase};return(0,w.FD)(i.Table,{scrollable:!0,pagination:(0,w.Y)(i.CursorPagination,{...d,componentId:"mlflow.experiment_list_view.pagination"}),empty:(()=>{const l=!a&&(0,f.isEmpty)(e);return l&&t?(0,w.Y)(i.Empty,{image:(0,w.Y)(i.NoIcon,{}),title:(0,w.Y)(m.A,{id:"QRnRh3",defaultMessage:"No experiments found"}),description:null}):l?(0,w.Y)(i.Empty,{title:(0,w.Y)(m.A,{id:"dcoaGS",defaultMessage:"No experiments created"}),description:(0,w.Y)(m.A,{id:"Zt2Uxi",defaultMessage:'Use "Create experiment" button in order to create a new experiment'})}):null})(),children:[(0,w.Y)(i.TableRow,{isHeader:!0,children:b.getLeafHeaders().map((e=>(0,w.Y)(i.TableHeader,{componentId:"mlflow.experiment_list_view.table.header",css:"select"===e.column.id?k:void 0,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),children:(0,p.Kv)(e.column.columnDef.header,e.getContext())},e.id)))}),a?(0,w.Y)(i.TableSkeletonRows,{table:b}):b.getRowModel().rows.map((e=>(0,w.Y)(i.TableRow,{css:(0,l.AH)({height:x.general.buttonHeight},""),"data-testid":"experiment-list-item",children:e.getAllCells().map((e=>(0,w.Y)(i.TableCell,{css:(0,l.AH)({alignItems:"center",..."select"===e.column.id?k:void 0},""),children:(0,p.Kv)(e.column.columnDef.cell,e.getContext())},e.id)))},e.id)))]})};var C={name:"1d4xjjz",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1"};const S=({row:{original:e}})=>(0,w.Y)(y.N_,{className:"experiment-link",css:C,to:r.Ay.getExperimentPageRoute(e.experimentId),title:e.name,"data-testid":"experiment-list-item-link",children:e.name}),F=({row:e})=>(0,w.Y)(i.Checkbox,{componentId:"mlflow.experiment_list_view.check_box",id:e.original.experimentId,"data-testid":"experiment-list-item-check-box",isChecked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()},e.original.experimentId);var I=a(97026),A=a(26809),D=a(10811);const P=({isOpen:e,onClose:t,experiments:a,onExperimentsDeleted:l})=>{const n=(0,D.wA)();return(0,w.Y)(I.u,{isOpen:e,onClose:t,handleSubmit:()=>Promise.all(a.map((e=>n((0,A.lJ)(e.experimentId))))).then(l).catch((e=>v.A.logErrorAndNotifyUser(e))),title:(0,w.Y)(m.A,{id:"Epo8/i",defaultMessage:"Delete {count, plural, one {# Experiment} other {# Experiments}}",values:{count:a.length}}),helpText:(0,w.FD)("div",{children:[(0,w.Y)(o.T.Paragraph,{children:"The following experiments will be deleted:"}),(0,w.Y)(o.T.Paragraph,{children:(0,w.Y)("ul",{children:a.map((e=>(0,w.Y)("li",{children:(0,w.FD)(o.T.Text,{children:[e.name," (ID: ",e.experimentId,")"]})},e.experimentId)))})})]}),confirmButtonText:(0,w.Y)(m.A,{id:"9KLNi5",defaultMessage:"Delete"}),confirmButtonProps:{danger:!0}})};var E=a(52350),R=a(77020),V=a(43683),H=a(63528);const B=["IS","IS NOT","CONTAINS"];function L(e){return[e.key,e.operator,e.value].join("-")}function O(e){const t=e.split("-");if(t.length>=3&&function(e){return B.includes(e)}(t[1])){const[e,a,...l]=t;return{key:e,operator:a,value:l.join("-")}}return null}var N=a(13369);const K={key:"",value:"",operator:"IS"};var q={name:"isq613",styles:"min-width:14ch"},$={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};function W({tagsFilter:e,setTagsFilter:t}){const{control:a,handleSubmit:s}=(0,N.mN)({defaultValues:{tagsFilter:0===e.length?[K]:e}}),{fields:r,append:d,remove:c}=(0,N.jz)({control:a,name:"tagsFilter"}),{theme:g}=(0,o.u)(),{formatMessage:p}=(0,u.A)(),h={fontWeight:g.typography.typographyBoldFontWeight},f={key:p({id:"/k7Xvj",defaultMessage:"Key"}),operator:p({id:"JDpv0G",defaultMessage:"Operator"}),value:p({id:"OH7hV5",defaultMessage:"Value"})};return(0,w.FD)("form",{onSubmit:s((e=>t(e.tagsFilter))),css:(0,l.AH)({display:"flex",flexDirection:"column",gap:g.spacing.md,padding:g.spacing.md},""),children:[(0,w.FD)("fieldset",{css:(0,l.AH)({display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:g.spacing.sm},""),children:[(0,w.Y)("label",{htmlFor:`${r[0].id}-key`,css:h,children:f.key}),(0,w.Y)("label",{htmlFor:`${r[0].id}-op`,css:h,children:f.operator}),(0,w.Y)("label",{htmlFor:`${r[0].id}-value`,css:h,children:f.value}),(0,w.Y)("label",{}),r.map(((e,t)=>(0,w.FD)(n.Fragment,{children:[(0,w.Y)(i.RHFControlledComponents.Input,{id:`${e.id}-key`,componentId:`mlflow.experiment_list_view.tag_filter.key_input_${t}`,name:`tagsFilter.${t}.key`,control:a,"aria-label":f.key,placeholder:f.key,required:!0}),(0,w.Y)(i.RHFControlledComponents.LegacySelect,{id:`${e.id}-op`,name:`tagsFilter.${t}.operator`,control:a,options:B.map((e=>({key:e,value:e}))),"aria-label":f.operator,css:q}),(0,w.Y)(i.RHFControlledComponents.Input,{id:`${e.id}-value`,componentId:`mlflow.experiment_list_view.tag_filter.value_input_${t}`,name:`tagsFilter.${t}.value`,control:a,"aria-label":f.value,placeholder:f.value,required:!0}),(0,w.Y)(o.B,{componentId:`mlflow.experiment_list_view.tag_filter.remove_filter_button_${t}`,type:"tertiary",onClick:()=>c(t),disabled:1===r.length,"aria-label":p({id:"l8Z2nP",defaultMessage:"Remove filter"}),children:(0,w.Y)(o.C,{})})]},e.id)))]}),(0,w.FD)("div",{css:$,children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.add_filter_button",onClick:()=>d(K),icon:(0,w.Y)(i.PlusIcon,{}),children:(0,w.Y)(m.A,{id:"rY00Iw",defaultMessage:"Add filter"})}),(0,w.FD)("div",{css:(0,l.AH)({display:"flex",gap:g.spacing.sm},""),children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.clear_filters_button",onClick:()=>t([]),children:(0,w.Y)(m.A,{id:"NPlcrl",defaultMessage:"Clear filters"})}),(0,w.Y)(o.B,{htmlType:"submit",componentId:"mlflow.experiment_list_view.tag_filter.apply_filters_button",type:"primary",children:(0,w.Y)(m.A,{id:"sWbj1n",defaultMessage:"Apply filters"})})]})]})]})}var U={name:"1m5f2z8",styles:"overflow:hidden;display:flex;flex-direction:column"},j={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"};const z=()=>{const[e,t]=function(){var e;const t="experimentSearchFilter",[a,l]=(0,y.ok)();return[null!==(e=a.get(t))&&void 0!==e?e:"",function(e){e?a.set(t,e):a.delete(t),l(a)}]}(),{tagsFilter:a,setTagsFilter:p,isTagsFilterOpen:h,setIsTagsFilterOpen:f}=function(){var e;const[t,a]=(0,n.useState)(!1),l="experimentTagsFilter",[o,s]=(0,y.ok)();return{tagsFilter:(null!==(e=o.getAll(l))&&void 0!==e?e:[]).map(O).filter((e=>null!==e)),setTagsFilter:function(e){o.delete(l);const t=e.filter((e=>""!==e.key&&""!==e.value));if(0!==t.length)for(const a of t)o.append(l,L(a));s(o),a(!1)},isTagsFilterOpen:t,setIsTagsFilterOpen:a}}(),{data:v,isLoading:x,error:b,hasNextPage:k,hasPreviousPage:Y,onNextPage:T,onPreviousPage:C,pageSizeSelect:S,sorting:F,setSorting:I}=(0,c.f)({searchFilter:e,tagsFilter:a}),A=(0,c.M)(),{EditTagsModal:D,showEditExperimentTagsModal:B}=(({onSuccess:e})=>{const t=(0,R.n)({mutationFn:async({toAdd:e,toDelete:t,experimentId:a})=>Promise.all([...e.map((({key:e,value:t})=>H.x.setExperimentTag({experiment_id:a,key:e,value:t}))),...t.map((({key:e})=>H.x.deleteExperimentTag({experiment_id:a,key:e})))])}),{EditTagsModal:a,showEditTagsModal:l,isLoading:o}=(0,V.Q)({valueRequired:!0,saveTagsHandler:(a,l,n)=>{const{addedOrModifiedTags:o,deletedTags:s}=(0,_.Rf)(l,n);return new Promise(((l,n)=>{if(!a)return n();t.mutate({experimentId:a.experimentId,toAdd:o,toDelete:s},{onSuccess:()=>{l(),null===e||void 0===e||e()},onError:n})}))}});return{EditTagsModal:a,showEditExperimentTagsModal:(0,n.useCallback)((e=>l({experimentId:e.experimentId,name:e.name,tags:e.tags.filter((e=>(0,_.oD)(e.key)))})),[l]),isLoading:o}})({onSuccess:A}),[N,K]=(0,n.useState)({}),[q,$]=(0,n.useState)(""),[z,X]=(0,n.useState)(!1),[Z,G]=(0,n.useState)(!1),{theme:Q}=(0,o.u)(),J=(0,y.Zp)(),ee=(0,u.A)(),te=Object.entries(N).filter((([e,t])=>t)).map((([e,t])=>e));return(0,w.FD)(g.m,{css:U,children:[(0,w.Y)(s.S,{shrinks:!1}),(0,w.Y)(i.Header,{title:(0,w.Y)(m.A,{id:"ZqHpEG",defaultMessage:"Experiments"}),buttons:(0,w.FD)(w.FK,{children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.new_experiment_button",type:"primary",onClick:()=>{X(!0)},"data-testid":"create-experiment-button",children:(0,w.Y)(m.A,{id:"9ut1Fj",defaultMessage:"Create"})}),(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.compare_experiments_button",onClick:()=>{const e=r.Ay.getCompareExperimentsPageRoute(te);J(e)},"data-testid":"compare-experiment-button",disabled:te.length<2,children:(0,w.Y)(m.A,{id:"YECxws",defaultMessage:"Compare"})}),(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.bulk_delete_button",onClick:()=>G(!0),"data-testid":"delete-experiments-button",disabled:te.length<1,danger:!0,children:(0,w.Y)(m.A,{id:"L/4iQO",defaultMessage:"Delete"})})]})}),(0,w.Y)(s.S,{shrinks:!1}),b&&(0,w.Y)(i.Alert,{css:(0,l.AH)({marginBlockEnd:Q.spacing.sm},""),type:"error",message:b instanceof E.s?b.getMessageField():b.message||(0,w.Y)(m.A,{id:"9Bj7oS",defaultMessage:"A network error occurred."}),componentId:"mlflow.experiment_list_view.error",closable:!1}),(0,w.FD)("div",{css:j,children:[(0,w.FD)(i.TableFilterLayout,{children:[(0,w.Y)(i.TableFilterInput,{"data-testid":"search-experiment-input",placeholder:ee.formatMessage({id:"9vT4HV",defaultMessage:"Filter experiments by name"}),componentId:"mlflow.experiment_list_view.search",defaultValue:e,onChange:e=>{$(e.target.value)},onSubmit:()=>{t(q)},onClear:()=>{t("")},showSearchButton:!0}),(0,w.FD)(o.ax.Root,{componentId:"mlflow.experiment_list_view.tag_filter",open:h,onOpenChange:f,children:[(0,w.Y)(o.ax.Trigger,{asChild:!0,children:(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.trigger",icon:(0,w.Y)(i.FilterIcon,{}),endIcon:(0,w.Y)(i.ChevronDownIcon,{}),type:a.length>0?"primary":void 0,children:(0,w.Y)(m.A,{id:"55mClg",defaultMessage:"Tag filter"})})}),(0,w.Y)(o.ax.Content,{children:(0,w.Y)(W,{tagsFilter:a,setTagsFilter:p})})]})]}),(0,w.Y)(M,{experiments:v,isLoading:x,isFiltered:Boolean(e),rowSelection:N,setRowSelection:K,cursorPaginationProps:{hasNextPage:k,hasPreviousPage:Y,onNextPage:T,onPreviousPage:C,pageSizeSelect:S},sortingProps:{sorting:F,setSorting:I},onEditTags:B})]}),(0,w.Y)(d.D,{isOpen:z,onClose:()=>{X(!1)},onExperimentCreated:A}),(0,w.Y)(P,{experiments:(null!==v&&void 0!==v?v:[]).filter((({experimentId:e})=>te.includes(e))),isOpen:Z,onClose:()=>G(!1),onExperimentsDeleted:()=>{A(),K({})}}),D]})};var X=z},84069:function(e,t,a){a.d(t,{m:function(){return s}});var l=a(68048),n=a(50111);var o={name:"13udsys",styles:"height:100%"};const s=({children:e,className:t})=>(0,n.Y)(l.PageWrapper,{css:o,className:t,children:e})},97026:function(e,t,a){a.d(t,{u:function(){return s}});var l=a(31014),n=a(48443),o=a(50111);class s extends l.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally((()=>{this.props.onClose(),this.setState({isSubmitting:!1})}))}render(){return(0,o.Y)(n.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}},98597:function(e,t,a){a.d(t,{t:function(){return f}});var l=a(89555),n=a(68048),o=a(16934),s=a(31014),i=a(88464),r=a(48443),d=a(56412),c=a(50111);const{Paragraph:u}=o.T;var m={name:"zjik7",styles:"display:flex"},g={name:"1ff36h2",styles:"flex-grow:1"};const p=s.memo((e=>{const{theme:t}=(0,o.u)();return(0,c.Y)(r.d,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetagfullviewmodal.tsx_17",title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,c.FD)("div",{css:m,children:[(0,c.Y)(u,{css:g,children:(0,c.Y)("pre",{css:(0,l.AH)({backgroundColor:t.colors.backgroundPrimary,marginTop:t.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,c.Y)("div",{css:(0,l.AH)({marginTop:t.spacing.sm},""),children:(0,c.Y)(d.i,{copyText:e.tagValue,showLabel:!1,icon:(0,c.Y)(n.CopyIcon,{}),"aria-label":"Copy"})})]})})}));function h(e=!0){return e?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const f=({isClosable:e=!1,onClose:t,tag:a,enableFullViewModal:r=!1,charLimit:d=30,maxWidth:u=300,className:m})=>{const g=(0,i.A)(),[f,v]=(0,s.useState)(!1),{shouldTruncateKey:y,shouldTruncateValue:x}=function(e,t=30){const{key:a,value:l}=e,n=a.length+l.length,o=a.length>l.length,s=o?l.length:a.length;return n<=t?{shouldTruncateKey:!1,shouldTruncateValue:!1}:s>t/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:o,shouldTruncateValue:!o}}(a,d),_=r&&(y||x),w=g.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,c.FD)("div",{children:[(0,c.Y)(n.Tag,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetag.tsx_60",closable:e,onClose:t,title:a.key,className:m,children:(0,c.Y)(n.LegacyTooltip,{title:_?w:"",children:(0,c.FD)("span",{css:(0,l.AH)({maxWidth:u,display:"inline-flex"},""),onClick:()=>_?v(!0):void 0,children:[(0,c.Y)(o.T.Text,{bold:!0,title:a.key,css:h(y),children:a.key}),a.value&&(0,c.FD)(o.T.Text,{title:a.value,css:h(x),children:[": ",a.value]})]})})}),(0,c.Y)("div",{children:f&&(0,c.Y)(p,{tagKey:a.key,tagValue:a.value,isKeyValueTagFullViewModalVisible:f,setIsKeyValueTagFullViewModalVisible:v})})]})}}}]);
//# sourceMappingURL=3044.8a4b59f2.chunk.js.map