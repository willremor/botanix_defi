{"version":3,"file":"static/js/7715.1060ceb2.chunk.js","mappings":"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","sources":["experiment-tracking/components/experiment-page/hooks/useInferExperimentKind.tsx","experiment-tracking/components/traces/hooks/useExperimentContainsTraces.tsx","experiment-tracking/components/traces/hooks/useExperimentContainsTrainingRuns.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewInferredKindPopover.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeaderKindSelector.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewInferredKindModal.tsx","experiment-tracking/components/experiment-page/hooks/useGetExperimentPageActiveTabByRoute.tsx","experiment-tracking/components/experiment-page/hooks/useExperimentEvaluationRunsData.tsx","shared/building_blocks/CopyBox.tsx","experiment-tracking/components/modals/GetLinkModal.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentGetShareLinkModal.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeaderShareButton.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyTitle.tsx","experiment-tracking/components/experiment-page/components/ExperimentViewArtifactLocation.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyExperimentId.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewCopyArtifactLocation.tsx","experiment-tracking/components/experiment-page/components/header/tab-selector-bar/TabSelectorBarConstants.tsx","experiment-tracking/components/experiment-page/components/header/tab-selector-bar/TabSelectorBar.tsx","experiment-tracking/components/modals/DeleteExperimentModal.tsx","experiment-tracking/components/modals/RenameExperimentModal.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewManagementMenu.tsx","experiment-tracking/components/experiment-page/components/header/ExperimentViewHeader.tsx","experiment-tracking/components/experiment-page/hooks/useExperimentPageViewMode.tsx","experiment-tracking/components/experiment-page/hooks/useUpdateExperimentKind.tsx","experiment-tracking/components/experiment-page/components/ExperimentViewDescriptionNotes.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\nimport { useExperimentContainsTraces } from '../../traces/hooks/useExperimentContainsTraces';\nimport { ExperimentKind, ExperimentPageTabName } from '../../../constants';\nimport { useExperimentContainsTrainingRuns } from '../../traces/hooks/useExperimentContainsTrainingRuns';\nimport { isEditableExperimentKind } from '../../../utils/ExperimentKindUtils';\n\nexport const useInferExperimentKind = ({\n  experimentId,\n  isLoadingExperiment,\n  enabled = true,\n  experimentTags,\n  updateExperimentKind,\n}: {\n  experimentId?: string;\n  isLoadingExperiment: boolean;\n  enabled?: boolean;\n  experimentTags?: { key?: string | null; value?: string | null }[] | null;\n  updateExperimentKind: (params: { experimentId: string; kind: ExperimentKind }) => void;\n}) => {\n  const { containsTraces, isLoading: isTracesBeingDetermined } = useExperimentContainsTraces({\n    experimentId,\n    enabled,\n  });\n\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  const { containsRuns, isLoading: isTrainingRunsBeingDetermined } = useExperimentContainsTrainingRuns({\n    experimentId,\n    enabled,\n  });\n\n  const isLoading = enabled && (isLoadingExperiment || isTracesBeingDetermined || isTrainingRunsBeingDetermined);\n\n  const inferredExperimentKind = useMemo(() => {\n    if (!enabled || isLoading || isDismissed) {\n      return undefined;\n    }\n    if (containsTraces) {\n      return ExperimentKind.GENAI_DEVELOPMENT_INFERRED;\n    }\n    if (containsRuns) {\n      return ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED;\n    }\n    return ExperimentKind.NO_INFERRED_TYPE;\n  }, [\n    // prettier-ignore\n    enabled,\n    isDismissed,\n    isLoading,\n    containsTraces,\n    containsRuns,\n  ]);\n\n  const inferredExperimentPageTab = useMemo(() => {\n    if (inferredExperimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED) {\n      return ExperimentPageTabName.Traces;\n    }\n    if (inferredExperimentKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED) {\n      return ExperimentPageTabName.Runs;\n    }\n    return undefined;\n  }, [inferredExperimentKind]);\n\n  // automatically update the experiment type if it's not user-editable\n  useEffect(() => {\n    if (inferredExperimentKind && !isEditableExperimentKind(inferredExperimentKind)) {\n      updateExperimentKind({ experimentId: experimentId ?? '', kind: inferredExperimentKind });\n    }\n  }, [experimentId, inferredExperimentKind, updateExperimentKind]);\n\n  return {\n    isLoading,\n    inferredExperimentKind,\n    inferredExperimentPageTab,\n    dismiss: () => setIsDismissed(true),\n  };\n};\n","import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../../sdk/MlflowService';\nimport { isEmpty } from 'lodash';\nimport invariant from 'invariant';\n\nconst QUERY_KEY = 'EXPERIMENT_CONTAINS_TRACES';\n\n/**\n * Hook for checking if there are any traces for a given experiment.\n * Returns `containsTraces` set to `true` if there's at least one trace, `false` otherwise.\n */\nexport const useExperimentContainsTraces = ({\n  experimentId,\n  enabled,\n}: {\n  experimentId?: string;\n  enabled?: boolean;\n}) => {\n  const { data, isLoading } = useQuery(\n    [QUERY_KEY, experimentId],\n    async () => {\n      invariant(experimentId, 'experimentId is required');\n      const experimentIds = [experimentId];\n\n      return MlflowService.getExperimentTraces(experimentIds, 'timestamp_ms DESC', undefined, undefined, 1);\n    },\n    {\n      enabled: enabled && Boolean(experimentId),\n    },\n  );\n\n  const containsTraces = !isLoading && !isEmpty(data?.traces);\n  return {\n    containsTraces,\n    isLoading: isLoading && enabled && Boolean(experimentId),\n  };\n};\n","import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport { MlflowService } from '../../../sdk/MlflowService';\nimport { isEmpty } from 'lodash';\nimport invariant from 'invariant';\nimport { useMemo } from 'react';\n\nconst QUERY_KEY = 'EXPERIMENT_CONTAINS_TRAINING_RUNS';\n\n/**\n * Hook for checking if there are any runs in a given experiment.\n * Returns `containsRuns` set to `true` if there's at least one run, `false` otherwise.\n */\nexport const useExperimentContainsTrainingRuns = ({\n  experimentId,\n  enabled,\n}: {\n  experimentId?: string;\n  enabled?: boolean;\n}) => {\n  const { data, isLoading, error } = useQuery(\n    [QUERY_KEY, experimentId],\n    async () => {\n      invariant(experimentId, 'experimentId is required');\n      const experimentIds = [experimentId];\n\n      const ret = await MlflowService.searchRuns({\n        experiment_ids: experimentIds,\n        max_results: 1,\n      });\n\n      return ret;\n    },\n    {\n      enabled: Boolean(experimentId) && enabled,\n    },\n  );\n\n  const containsRuns = useMemo(() => !isLoading && !isEmpty(data?.runs), [isLoading, data]);\n\n  return {\n    containsRuns,\n    isLoading: isLoading && enabled && Boolean(experimentId),\n  };\n};\n","import { Button, CloseIcon, Popover, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport type { ExperimentKind } from '../../../../constants';\nimport { ExperimentKindDropdownLabels, ExperimentKindShortLabels } from '../../../../utils/ExperimentKindUtils';\n\nexport const ExperimentViewInferredKindPopover = ({\n  children,\n  inferredExperimentKind,\n  onConfirm,\n  onDismiss,\n  isInferredKindEditable = false,\n}: {\n  children: React.ReactNode;\n  inferredExperimentKind: ExperimentKind;\n  onConfirm?: () => void;\n  onDismiss?: () => void;\n  isInferredKindEditable?: boolean;\n}) => {\n  const intl = useIntl();\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'block', position: 'relative' }}>\n      {children}\n      <Popover.Root componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover\" open modal={false}>\n        <Popover.Trigger asChild>\n          <div css={{ position: 'absolute', left: 0, bottom: 0, right: 0, height: 0 }} />\n        </Popover.Trigger>\n        <Popover.Content css>\n          <Popover.Arrow />\n          <div css={{ display: 'flex', alignItems: 'flex-start', gap: theme.spacing.sm }}>\n            <div css={{ flex: 1 }}>\n              <Typography.Paragraph css={{ maxWidth: 300 }}>\n                <FormattedMessage\n                  defaultMessage=\"We've automatically detected the experiment type to be ''{kindLabel}''. {isEditable, select, true {You can either confirm or change the type.} other {}}\"\n                  description=\"Popover message for inferred experiment kind\"\n                  values={{\n                    kindLabel: intl.formatMessage(ExperimentKindShortLabels[inferredExperimentKind]),\n                    isEditable: isInferredKindEditable,\n                  }}\n                />\n              </Typography.Paragraph>\n              <Button\n                componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover.confirm\"\n                onClick={onConfirm}\n                type=\"primary\"\n                size=\"small\"\n              >\n                <FormattedMessage\n                  defaultMessage=\"Confirm\"\n                  description=\"Button label to confirm the inferred experiment kind\"\n                />\n              </Button>\n            </div>\n            <Button\n              componentId=\"mlflow.experiment_view.header.experiment_kind_inference_popover.dismiss\"\n              onClick={onDismiss}\n              icon={<CloseIcon />}\n              size=\"small\"\n            />\n          </div>\n        </Popover.Content>\n      </Popover.Root>\n    </div>\n  );\n};\n","import { ChevronDownIcon, DropdownMenu, Popover, Spinner, Tag, Tooltip } from '@databricks/design-system';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { entries } from 'lodash';\nimport { useMemo, useState } from 'react';\nimport { defineMessage, FormattedMessage } from 'react-intl';\nimport { ExperimentKind } from '../../../../constants';\nimport {\n  ExperimentKindDropdownLabels,\n  getSelectableExperimentKinds,\n  isEditableExperimentKind,\n  normalizeInferredExperimentKind,\n} from '../../../../utils/ExperimentKindUtils';\nimport { ExperimentViewInferredKindPopover } from './ExperimentViewInferredKindPopover';\n\nconst getVisibleLabel = (kind: ExperimentKind, readOnly: boolean) => {\n  if (kind === ExperimentKind.NO_INFERRED_TYPE || kind === ExperimentKind.EMPTY) {\n    if (readOnly) {\n      // if the user does not have permission to edit the experiment kind, we show the \"None\" label\n      return ExperimentKindDropdownLabels[ExperimentKind.NO_INFERRED_TYPE];\n    }\n    return defineMessage({\n      defaultMessage: 'Select a type',\n      description: 'Label for the experiment type selector in the experiment view header',\n    });\n  }\n  return ExperimentKindDropdownLabels[kind];\n};\n\nexport const ExperimentViewHeaderKindSelector = ({\n  value,\n  inferredExperimentKind,\n  onChange,\n  isUpdating,\n  readOnly = false,\n}: {\n  value?: ExperimentKind;\n  inferredExperimentKind?: ExperimentKind;\n  onChange?: (kind: ExperimentKind) => void;\n  isUpdating?: boolean;\n  readOnly?: boolean;\n}) => {\n  const dropdownItems = useMemo(\n    () =>\n      entries(ExperimentKindDropdownLabels).filter(([key]) =>\n        getSelectableExperimentKinds().includes(key as ExperimentKind),\n      ),\n    [],\n  );\n\n  const currentValue = useMemo(() => {\n    if (inferredExperimentKind) {\n      return normalizeInferredExperimentKind(inferredExperimentKind);\n    }\n    return coerceToEnum(ExperimentKind, value, ExperimentKind.NO_INFERRED_TYPE);\n  }, [value, inferredExperimentKind]);\n\n  const visibleLabel = getVisibleLabel(currentValue, readOnly);\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [displayInferencePopover, setDisplayInferencePopover] = useState(\n    Boolean(inferredExperimentKind && !readOnly && isEditableExperimentKind(inferredExperimentKind)),\n  );\n\n  // Determines if we should render a dropdown or just a tag.\n  const usingDropdown = isEditableExperimentKind(currentValue) && !readOnly;\n\n  const tagElement = (\n    <Tag\n      icon={isUpdating ? <Spinner size=\"small\" /> : null}\n      componentId=\"mlflow.experiment_view.header.experiment_kind_selector\"\n      css={{ marginRight: 0 }}\n      // Empty callback so <Tag /> renders its \"clickable\" UI style\n      onClick={!usingDropdown ? undefined : () => {}}\n    >\n      {visibleLabel && <FormattedMessage {...visibleLabel} />} {usingDropdown && <ChevronDownIcon />}\n    </Tag>\n  );\n\n  const tagElementWithTooltip = <ExperimentTypeTooltip>{tagElement}</ExperimentTypeTooltip>;\n\n  if (readOnly) {\n    return tagElementWithTooltip;\n  }\n\n  const dropdownElement = (\n    <DropdownMenu.Root\n      modal={false}\n      open={dropdownOpen}\n      onOpenChange={(open) => {\n        setDisplayInferencePopover(false);\n        setDropdownOpen(open);\n      }}\n    >\n      {/* Mixing dropdown with tooltip requires different ordering */}\n      <ExperimentTypeTooltip>\n        <DropdownMenu.Trigger asChild>{tagElement}</DropdownMenu.Trigger>\n      </ExperimentTypeTooltip>\n      <DropdownMenu.Content align=\"start\">\n        <DropdownMenu.Arrow />\n        <DropdownMenu.Label>\n          <FormattedMessage\n            defaultMessage=\"Experiment type\"\n            description=\"Label for the experiment type selector in the experiment view header\"\n          />\n        </DropdownMenu.Label>\n        {dropdownItems.map(([key, label]) => {\n          const isSelected = key === currentValue;\n          return (\n            <DropdownMenu.CheckboxItem\n              key={key}\n              componentId={`mlflow.experiment_view.header.experiment_kind_selector.${key}`}\n              onClick={() => onChange?.(key as ExperimentKind)}\n              checked={isSelected}\n            >\n              <DropdownMenu.ItemIndicator />\n              <FormattedMessage {...label} />\n            </DropdownMenu.CheckboxItem>\n          );\n        })}\n      </DropdownMenu.Content>\n    </DropdownMenu.Root>\n  );\n\n  if (displayInferencePopover && inferredExperimentKind) {\n    return (\n      <ExperimentViewInferredKindPopover\n        inferredExperimentKind={inferredExperimentKind}\n        onConfirm={async () => {\n          if (inferredExperimentKind) {\n            onChange?.(normalizeInferredExperimentKind(inferredExperimentKind));\n          }\n          setDisplayInferencePopover(false);\n        }}\n        onDismiss={() => setDisplayInferencePopover(false)}\n        isInferredKindEditable={isEditableExperimentKind(currentValue)}\n      >\n        {usingDropdown ? dropdownElement : tagElementWithTooltip}\n      </ExperimentViewInferredKindPopover>\n    );\n  }\n\n  return usingDropdown ? dropdownElement : tagElementWithTooltip;\n};\n\nconst ExperimentTypeTooltip = ({ children }: { children: React.ReactNode }) => (\n  <Tooltip\n    componentId=\"mlflow.experiment_view.header.experiment_kind_selector.tooltip\"\n    content={\n      <FormattedMessage\n        defaultMessage=\"Experiment type\"\n        description=\"Label for the experiment type selector in the experiment view header\"\n      />\n    }\n  >\n    {children}\n  </Tooltip>\n);\n","import { Modal, Radio, Typography, useDesignSystemTheme } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { ExperimentKind } from '../../../../constants';\nimport { ExperimentKindDropdownLabels } from '../../../../utils/ExperimentKindUtils';\n\nexport const ExperimentViewInferredKindModal = ({\n  onDismiss,\n  onConfirm,\n}: {\n  onDismiss?: () => void;\n  onConfirm: (kind: ExperimentKind) => void;\n}) => {\n  const { theme } = useDesignSystemTheme();\n  const [selectedKind, setSelectedKind] = useState<ExperimentKind>(ExperimentKind.CUSTOM_MODEL_DEVELOPMENT);\n\n  return (\n    <Modal\n      visible\n      componentId=\"mlflow.experiment_view.header.experiment_kind_inference_modal\"\n      onCancel={onDismiss}\n      title={\n        <FormattedMessage\n          defaultMessage=\"Choose experiment type\"\n          description=\"A title for the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      cancelText={\n        <FormattedMessage\n          defaultMessage=\"I'll choose later\"\n          description=\"A label for the dismissal button in the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      okText={\n        <FormattedMessage\n          defaultMessage=\"Confirm\"\n          description=\"A label for the confirmation button in the modal displayed when the experiment type could not be inferred\"\n        />\n      }\n      onOk={() => onConfirm(selectedKind)}\n    >\n      <Typography.Paragraph>\n        <FormattedMessage\n          defaultMessage=\"We support multiple experiment types, each with its own set of features. Please select the type you'd like to use. You can change this later if needed.\"\n          description=\"Popover message displayed when the experiment type could not not inferred\"\n        />\n      </Typography.Paragraph>\n      <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.sm, marginBottom: theme.spacing.sm }}>\n        <Radio\n          checked={selectedKind === ExperimentKind.GENAI_DEVELOPMENT}\n          onChange={() => setSelectedKind(ExperimentKind.GENAI_DEVELOPMENT)}\n        >\n          <FormattedMessage {...ExperimentKindDropdownLabels[ExperimentKind.GENAI_DEVELOPMENT]} />\n        </Radio>\n        <Radio\n          checked={selectedKind === ExperimentKind.CUSTOM_MODEL_DEVELOPMENT}\n          onChange={() => setSelectedKind(ExperimentKind.CUSTOM_MODEL_DEVELOPMENT)}\n        >\n          <FormattedMessage {...ExperimentKindDropdownLabels[ExperimentKind.CUSTOM_MODEL_DEVELOPMENT]} />\n        </Radio>\n      </div>\n    </Modal>\n  );\n};\n","import { useMemo } from 'react';\nimport { shouldEnableExperimentPageChildRoutes } from '../../../../common/utils/FeatureUtils';\nimport { matchPath, useLocation } from '../../../../common/utils/RoutingUtils';\nimport { RoutePaths } from '../../../routes';\nimport { ExperimentPageTabName } from '../../../constants';\nimport { map } from 'lodash';\n\n// Maps experiment page route paths to enumerated tab names\nconst ExperimentPageRoutePathToTabNameMap = map(\n  {\n    [RoutePaths.experimentPageTabRuns]: ExperimentPageTabName.Runs,\n    [RoutePaths.experimentPageTabTraces]: ExperimentPageTabName.Traces,\n    [RoutePaths.experimentPageTabModels]: ExperimentPageTabName.Models,\n  },\n  (tabName, routePath) => ({ routePath, tabName }),\n);\n\n// Gets exact tab name based on given pathname\nconst getTabNameFromRoutePath = (pathname: string) =>\n  ExperimentPageRoutePathToTabNameMap\n    // Find the first route path that matches the given pathname\n    .find(({ routePath }) => Boolean(matchPath(routePath, pathname)))?.tabName;\n\n// Maps exact tab names to top-level tab names\nconst getTopLevelTab = (tabName?: ExperimentPageTabName) => {\n  return tabName;\n};\n\nexport const useGetExperimentPageActiveTabByRoute = () => {\n  const { pathname } = useLocation();\n\n  const tabNameFromRoute = useMemo(() => {\n    if (!shouldEnableExperimentPageChildRoutes()) {\n      return;\n    }\n    const tabName = getTabNameFromRoutePath(pathname);\n    return tabName;\n  }, [pathname]);\n  return {\n    tabName: tabNameFromRoute,\n    topLevelTabName: getTopLevelTab(tabNameFromRoute),\n  };\n};\n","import { useQuery } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport type { SearchRunsApiResponse } from '@mlflow/mlflow/src/experiment-tracking/types';\nimport { MlflowService } from '../../../sdk/MlflowService';\nimport { useMemo } from 'react';\n\nexport const useExperimentEvaluationRunsData = ({\n  experimentId,\n  enabled,\n  filter,\n}: {\n  experimentId: string;\n  enabled: boolean;\n  filter: string;\n}) => {\n  const { data, isLoading, isFetching, refetch, error } = useQuery<SearchRunsApiResponse, Error>({\n    queryKey: ['SEARCH_RUNS', experimentId, filter],\n    queryFn: async () => {\n      const requestBody = {\n        experiment_ids: [experimentId],\n        order_by: ['attributes.start_time DESC'],\n        run_view_type: 'ACTIVE_ONLY',\n        filter,\n      };\n\n      return MlflowService.searchRuns(requestBody);\n    },\n    cacheTime: 0,\n    refetchOnWindowFocus: false,\n    retry: false,\n    enabled,\n  });\n\n  const { evaluationRuns, trainingRuns } = useMemo(() => {\n    if (!data?.runs) {\n      return { evaluationRuns: [], trainingRuns: [] };\n    }\n    return data.runs.reduce(\n      (acc, run) => {\n        const isTrainingRun = run.outputs?.modelOutputs?.length ?? 0;\n\n        if (isTrainingRun) {\n          acc.trainingRuns.push(run);\n        } else {\n          acc.evaluationRuns.push(run);\n        }\n\n        return acc;\n      },\n      { evaluationRuns: [], trainingRuns: [] } as { evaluationRuns: typeof data.runs; trainingRuns: typeof data.runs },\n    );\n  }, [data]);\n\n  return {\n    data: evaluationRuns,\n    trainingRuns,\n    refetch,\n    isLoading,\n    isFetching,\n    error,\n  };\n};\n","import { Input } from '@databricks/design-system';\nimport { CopyButton } from './CopyButton';\n\ntype Props = {\n  copyText: string;\n};\n\nexport const CopyBox = ({ copyText }: Props) => (\n  <div css={{ display: 'flex', gap: 4 }}>\n    <Input\n      componentId=\"codegen_mlflow_app_src_shared_building_blocks_copybox.tsx_18\"\n      readOnly\n      value={copyText}\n      data-testid=\"copy-box\"\n    />\n    <CopyButton copyText={copyText} />\n  </div>\n);\n","import { FormattedMessage } from 'react-intl';\nimport { Modal } from '@databricks/design-system';\nimport { CopyBox } from '../../../shared/building_blocks/CopyBox';\n\ntype Props = {\n  visible: boolean;\n  onCancel: () => void;\n  link: string;\n};\n\nexport const GetLinkModal = ({ visible, onCancel, link }: Props) => {\n  return (\n    <Modal\n      componentId=\"codegen_mlflow_app_src_experiment-tracking_components_modals_getlinkmodal.tsx_21\"\n      title={<FormattedMessage defaultMessage=\"Get Link\" description=\"Title text for get-link modal\" />}\n      visible={visible}\n      onCancel={onCancel}\n    >\n      <CopyBox copyText={link} />\n    </Modal>\n  );\n};\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { GenericSkeleton, Input, Modal } from '@databricks/design-system';\nimport { useDispatch } from 'react-redux';\nimport type { ThunkDispatch } from '../../../../../redux-types';\nimport { setExperimentTagApi } from '../../../../actions';\nimport Routes from '../../../../routes';\nimport { CopyButton } from '../../../../../shared/building_blocks/CopyButton';\nimport type { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport type { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { getStringSHA256, textCompressDeflate } from '../../../../../common/utils/StringUtils';\nimport Utils from '../../../../../common/utils/Utils';\nimport {\n  EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX,\n  EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY,\n} from '../../../../constants';\nimport { shouldUseCompressedExperimentViewSharedState } from '../../../../../common/utils/FeatureUtils';\nimport {\n  EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY,\n  useExperimentPageViewMode,\n} from '../../hooks/useExperimentPageViewMode';\nimport type { ExperimentViewRunsCompareMode } from '../../../../types';\n\ntype GetShareLinkModalProps = {\n  onCancel: () => void;\n  visible: boolean;\n  experimentIds: string[];\n  searchFacetsState: ExperimentPageSearchFacetsState;\n  uiState: ExperimentPageUIState;\n};\n\ntype ShareableViewState = ExperimentPageSearchFacetsState & ExperimentPageUIState;\n\n// Typescript-based test to ensure that the keys of the two states are disjoint.\n// If they are not disjoint, the state serialization will not work as expected.\nconst _arePersistedStatesDisjoint: [\n  keyof ExperimentPageSearchFacetsState & keyof ExperimentPageUIState extends never ? true : false,\n] = [true];\n\nconst serializePersistedState = async (state: ShareableViewState) => {\n  if (shouldUseCompressedExperimentViewSharedState()) {\n    return textCompressDeflate(JSON.stringify(state));\n  }\n  return JSON.stringify(state);\n};\n\nconst getShareableUrl = (experimentId: string, shareStateHash: string, viewMode?: ExperimentViewRunsCompareMode) => {\n  // As a start, get the route\n  const route = Routes.getExperimentPageRoute(experimentId);\n\n  // Begin building the query params\n  const queryParams = new URLSearchParams();\n\n  // Add the share state hash\n  queryParams.set(EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY, shareStateHash);\n\n  // If the view mode is set, add it to the query params\n  if (viewMode) {\n    queryParams.set(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY, viewMode);\n  }\n\n  // In regular implementation, build the hash part of the URL\n  const params = queryParams.toString();\n  const hashParam = `${route}${params?.startsWith('?') ? '' : '?'}${params}`;\n  const shareURL = `${window.location.origin}${window.location.pathname}#${hashParam}`;\n  return shareURL;\n};\n\n/**\n * Modal that displays shareable link for the experiment page.\n * The shareable state is created by serializing the search facets and UI state and storing\n * it as a tag on the experiment.\n */\nexport const ExperimentGetShareLinkModal = ({\n  onCancel,\n  visible,\n  experimentIds,\n  searchFacetsState,\n  uiState,\n}: GetShareLinkModalProps) => {\n  const [sharedStateUrl, setSharedStateUrl] = useState<string>('');\n  const [linkInProgress, setLinkInProgress] = useState(true);\n  const [generatedState, setGeneratedState] = useState<ShareableViewState | null>(null);\n  const [viewMode] = useExperimentPageViewMode();\n\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  const stateToSerialize = useMemo(() => ({ ...searchFacetsState, ...uiState }), [searchFacetsState, uiState]);\n\n  const createSerializedState = useCallback(\n    async (state: ShareableViewState) => {\n      if (experimentIds.length > 1) {\n        setLinkInProgress(false);\n        setGeneratedState(state);\n        setSharedStateUrl(window.location.href);\n        return;\n      }\n      setLinkInProgress(true);\n      const [experimentId] = experimentIds;\n      try {\n        const data = await serializePersistedState(state);\n        const hash = await getStringSHA256(data);\n\n        const tagName = `${EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX}${hash}`;\n\n        await dispatch(setExperimentTagApi(experimentId, tagName, data));\n\n        setLinkInProgress(false);\n        setGeneratedState(state);\n\n        setSharedStateUrl(getShareableUrl(experimentId, hash, viewMode));\n      } catch (e) {\n        Utils.logErrorAndNotifyUser('Failed to create shareable link for experiment');\n        throw e;\n      }\n    },\n    [dispatch, experimentIds, viewMode],\n  );\n\n  useEffect(() => {\n    if (!visible || generatedState === stateToSerialize) {\n      return;\n    }\n    createSerializedState(stateToSerialize);\n  }, [visible, createSerializedState, generatedState, stateToSerialize]);\n\n  return (\n    <Modal\n      componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_101\"\n      title={\n        <FormattedMessage\n          defaultMessage=\"Get shareable link\"\n          description='Title text for the experiment \"Get link\" modal'\n        />\n      }\n      visible={visible}\n      onCancel={onCancel}\n    >\n      <div css={{ display: 'flex', gap: 8 }}>\n        {linkInProgress ? (\n          <GenericSkeleton css={{ flex: 1 }} />\n        ) : (\n          <Input\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentgetsharelinkmodal.tsx_115\"\n            placeholder=\"Click button on the right to create shareable state\"\n            value={sharedStateUrl}\n            readOnly\n          />\n        )}\n        <CopyButton loading={linkInProgress} copyText={sharedStateUrl} data-testid=\"share-link-copy-button\" />\n      </div>\n    </Modal>\n  );\n};\n","import { Button } from '@databricks/design-system';\nimport { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { GetLinkModal } from '../../../modals/GetLinkModal';\nimport type { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport type { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { ExperimentGetShareLinkModal } from './ExperimentGetShareLinkModal';\n\n/**\n * Experiment page header part responsible for displaying button\n * that displays modal for sharing the link\n */\nexport const ExperimentViewHeaderShareButton = ({\n  searchFacetsState,\n  uiState,\n  experimentIds,\n}: {\n  searchFacetsState?: ExperimentPageSearchFacetsState;\n  uiState?: ExperimentPageUIState;\n  experimentIds?: string[];\n}) => {\n  const [showGetLinkModal, setShowGetLinkModal] = useState(false);\n\n  return (\n    <>\n      {searchFacetsState && uiState && experimentIds ? (\n        <ExperimentGetShareLinkModal\n          searchFacetsState={searchFacetsState}\n          uiState={uiState}\n          visible={showGetLinkModal}\n          onCancel={() => setShowGetLinkModal(false)}\n          experimentIds={experimentIds}\n        />\n      ) : (\n        <GetLinkModal\n          link={window.location.href}\n          visible={showGetLinkModal}\n          onCancel={() => setShowGetLinkModal(false)}\n        />\n      )}\n      {/* TODO: ensure that E2E tests are working after refactor is complete */}\n      <Button\n        componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_header_experimentviewheadersharebutton.tsx_44\"\n        type=\"primary\"\n        onClick={() => setShowGetLinkModal(true)}\n        data-testid=\"share-button\"\n      >\n        <FormattedMessage defaultMessage=\"Share\" description=\"Text for share button on experiment view page header\" />\n      </Button>\n    </>\n  );\n};\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport type { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the title after clicking on the icon\n */\nexport const ExperimentViewCopyTitle = ({\n  experiment,\n  size,\n}: {\n  experiment: ExperimentEntity;\n  size: 'sm' | 'md' | 'lg' | 'xl';\n}) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size={size}\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.name,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy path',\n              description: 'Copy tooltip to copy experiment path from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Path copied',\n              description: 'Tooltip displayed after experiment path was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","import React from 'react';\n\nexport interface ExperimentViewArtifactLocationProps {\n  artifactLocation: string;\n}\n\nexport const ExperimentViewArtifactLocation = ({ artifactLocation }: ExperimentViewArtifactLocationProps) => {\n  return <>{artifactLocation}</>;\n};\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport type { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the experimentId after clicking on the icon\n */\nexport const ExperimentViewCopyExperimentId = ({ experiment }: { experiment: ExperimentEntity }) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size=\"md\"\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.experimentId,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy experiment id',\n              description: 'Copy tooltip to copy experiment id from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Experiment id copied',\n              description: 'Tooltip displayed after experiment id was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","import { CopyIcon, Typography } from '@databricks/design-system';\nimport { useIntl } from 'react-intl';\nimport type { ExperimentEntity } from '../../../../types';\n\n/**\n * Experiment page header part responsible for copying\n * the artifact location after clicking on the icon\n */\nexport const ExperimentViewCopyArtifactLocation = ({ experiment }: { experiment: ExperimentEntity }) => {\n  const intl = useIntl();\n\n  return (\n    <Typography.Text\n      size=\"md\"\n      dangerouslySetAntdProps={{\n        copyable: {\n          text: experiment.artifactLocation,\n          icon: <CopyIcon />,\n          tooltips: [\n            intl.formatMessage({\n              defaultMessage: 'Copy artifact location',\n              description: 'Copy tooltip to copy experiment artifact location from experiment runs table header',\n            }),\n            intl.formatMessage({\n              defaultMessage: 'Artifact location copied',\n              description: 'Tooltip displayed after experiment artifact location was successfully copied to clipboard',\n            }),\n          ],\n        },\n      }}\n    />\n  );\n};\n","import Routes from '@mlflow/mlflow/src/experiment-tracking/routes';\n\nimport {\n  GearIcon,\n  ListBorderIcon,\n  ListIcon,\n  ModelsIcon,\n  PlusMinusSquareIcon,\n  UserIcon,\n  TextBoxIcon,\n  SparkleIcon,\n} from '@databricks/design-system';\nimport { ExperimentPageTabName } from '@mlflow/mlflow/src/experiment-tracking/constants';\nimport { FormattedMessage } from 'react-intl';\nimport type { ExperimentViewRunsCompareMode } from '@mlflow/mlflow/src/experiment-tracking/types';\n\nexport type TabConfig = {\n  label: React.ReactNode;\n  icon: React.ReactNode;\n  getRoute: (experimentId: string) => string;\n};\n\nexport type TabConfigMap = Partial<Record<ExperimentViewRunsCompareMode | ExperimentPageTabName, TabConfig>>;\n\nconst RunsTabConfig = {\n  label: (\n    <FormattedMessage defaultMessage=\"Runs\" description=\"Label for the runs tab in the MLflow experiment navbar\" />\n  ),\n  icon: <ListIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Runs),\n};\n\nconst TracesTabConfig = {\n  label: (\n    <FormattedMessage defaultMessage=\"Traces\" description=\"Label for the traces tab in the MLflow experiment navbar\" />\n  ),\n  icon: <ListBorderIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Traces),\n};\n\nconst EvaluationsTabConfig = {\n  label: (\n    <FormattedMessage\n      defaultMessage=\"Evaluations\"\n      description=\"Label for the evaluations tab in the MLflow experiment navbar\"\n    />\n  ),\n  icon: <PlusMinusSquareIcon />,\n  getRoute: (experimentId: string) =>\n    Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.EvaluationRuns),\n};\n\nconst ModelsTabConfig = {\n  label: (\n    <FormattedMessage\n      defaultMessage=\"Versions\"\n      description=\"Label for the logged models tab in the MLflow experiment navbar\"\n    />\n  ),\n  icon: <ModelsIcon />,\n  getRoute: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models),\n};\n\nexport type GenAIExperimentTabConfigMapProps = {\n  includeRunsTab?: boolean;\n};\n\nexport const getGenAIExperimentTabConfigMap = ({\n  includeRunsTab = false,\n}: GenAIExperimentTabConfigMapProps = {}): TabConfigMap => ({\n  ...(includeRunsTab && { [ExperimentPageTabName.Runs]: RunsTabConfig }),\n  [ExperimentPageTabName.Traces]: TracesTabConfig,\n  [ExperimentPageTabName.EvaluationRuns]: EvaluationsTabConfig,\n  [ExperimentPageTabName.Models]: ModelsTabConfig,\n});\n\nexport const getGenAIExperimentWithPromptsTabConfigMap = ({\n  includeRunsTab = false,\n}: GenAIExperimentTabConfigMapProps = {}): TabConfigMap => ({\n  ...(includeRunsTab && { [ExperimentPageTabName.Runs]: RunsTabConfig }),\n  [ExperimentPageTabName.Traces]: TracesTabConfig,\n  [ExperimentPageTabName.Models]: ModelsTabConfig,\n});\n\nexport const GenAIExperimentWithPromptsTabConfigMap = getGenAIExperimentTabConfigMap();\n\nexport const CustomExperimentTabConfigMap: TabConfigMap = {\n  [ExperimentPageTabName.Runs]: RunsTabConfig,\n  [ExperimentPageTabName.Models]: {\n    ...ModelsTabConfig,\n    label: (\n      <FormattedMessage\n        defaultMessage=\"Models\"\n        description=\"Label for the logged models tab in the MLflow experiment navbar\"\n      />\n    ),\n  },\n  [ExperimentPageTabName.Traces]: TracesTabConfig,\n};\n\nexport const DefaultTabConfigMap: TabConfigMap = {\n  ...CustomExperimentTabConfigMap,\n};\n","import React from 'react';\nimport {\n  SegmentedControlGroup,\n  SegmentedControlButton,\n  useDesignSystemTheme,\n  Tooltip,\n} from '@databricks/design-system';\n\nimport { ExperimentKind, ExperimentPageTabName } from '@mlflow/mlflow/src/experiment-tracking/constants';\nimport { useExperimentPageViewMode } from '@mlflow/mlflow/src/experiment-tracking/components/experiment-page/hooks/useExperimentPageViewMode';\nimport { useExperimentEvaluationRunsData } from '@mlflow/mlflow/src/experiment-tracking/components/experiment-page/hooks/useExperimentEvaluationRunsData';\nimport { Link, useParams } from '@mlflow/mlflow/src/common/utils/RoutingUtils';\nimport { coerceToEnum } from '@databricks/web-shared/utils';\nimport { shouldEnablePromptsTabOnDBPlatform } from '../../../../../../common/utils/FeatureUtils';\nimport type { TabConfigMap } from './TabSelectorBarConstants';\nimport {\n  getGenAIExperimentTabConfigMap,\n  getGenAIExperimentWithPromptsTabConfigMap,\n  CustomExperimentTabConfigMap,\n  DefaultTabConfigMap,\n} from './TabSelectorBarConstants';\nimport { FormattedMessage } from 'react-intl';\nimport { useGetExperimentPageActiveTabByRoute } from '../../../hooks/useGetExperimentPageActiveTabByRoute';\n\nconst isRunsViewTab = (tabName: string) => ['TABLE', 'CHART', 'ARTIFACT'].includes(tabName);\nconst iTracesViewTab = (tabName: string) => ['TRACES'].includes(tabName);\n\nconst getExperimentTabsConfig = (experimentKind?: ExperimentKind, hasTrainingRuns = false): TabConfigMap => {\n  switch (experimentKind) {\n    case ExperimentKind.GENAI_DEVELOPMENT:\n    case ExperimentKind.GENAI_DEVELOPMENT_INFERRED:\n      return shouldEnablePromptsTabOnDBPlatform()\n        ? getGenAIExperimentWithPromptsTabConfigMap({ includeRunsTab: hasTrainingRuns })\n        : getGenAIExperimentTabConfigMap({ includeRunsTab: hasTrainingRuns });\n    case ExperimentKind.CUSTOM_MODEL_DEVELOPMENT:\n    case ExperimentKind.CUSTOM_MODEL_DEVELOPMENT_INFERRED:\n    case ExperimentKind.FORECASTING:\n    case ExperimentKind.REGRESSION:\n    case ExperimentKind.AUTOML:\n    case ExperimentKind.CLASSIFICATION:\n      return CustomExperimentTabConfigMap;\n    default:\n      return DefaultTabConfigMap;\n  }\n};\n\nexport const TabSelectorBar = ({ experimentKind }: { experimentKind?: ExperimentKind }) => {\n  const { experimentId, tabName } = useParams();\n  const { theme } = useDesignSystemTheme();\n  const [viewMode] = useExperimentPageViewMode();\n\n  const isGenAIExperiment =\n    experimentKind === ExperimentKind.GENAI_DEVELOPMENT || experimentKind === ExperimentKind.GENAI_DEVELOPMENT_INFERRED;\n\n  const { trainingRuns } = useExperimentEvaluationRunsData({\n    experimentId: experimentId || '',\n    enabled: isGenAIExperiment,\n    filter: '', // not important in this case, we show the runs tab if there are any training runs\n  });\n\n  // In the tab selector bar, we're interested in top-level tab names based on the current route\n  const { topLevelTabName: tabNameFromRoute } = useGetExperimentPageActiveTabByRoute();\n\n  let tabNameFromParams = coerceToEnum(ExperimentPageTabName, tabName, undefined);\n  if (tabNameFromParams === ExperimentPageTabName.Datasets) {\n    // datasets is a sub-tab of evaluation runs, so we\n    // should show the evaluation runs tab as active\n    tabNameFromParams = ExperimentPageTabName.EvaluationRuns;\n  }\n  if (tabNameFromParams === ExperimentPageTabName.LabelingSchemas) {\n    // labeling schemas is a sub-tab of labeling sessions, so we\n    // should show the labeling sessions tab as active\n    tabNameFromParams = ExperimentPageTabName.LabelingSessions;\n  }\n\n  const tabNameFromViewMode = (() => {\n    if (isRunsViewTab(viewMode)) {\n      return ExperimentPageTabName.Runs;\n    } else if (iTracesViewTab(viewMode)) {\n      return ExperimentPageTabName.Traces;\n    } else {\n      return viewMode;\n    }\n  })();\n\n  const activeTab = tabNameFromRoute ?? tabNameFromParams ?? tabNameFromViewMode;\n\n  const hasTrainingRuns = trainingRuns?.length > 0;\n  const tabsConfig = getExperimentTabsConfig(\n    experimentKind ?? ExperimentKind.NO_INFERRED_TYPE,\n    isGenAIExperiment && hasTrainingRuns,\n  );\n\n  return (\n    <SegmentedControlGroup\n      value={activeTab}\n      name=\"tab-toggle-bar\"\n      componentId=\"mlflow.experiment-tracking.tab-toggle-bar\"\n      newStyleFlagOverride\n      css={{\n        justifySelf: 'center',\n        [theme.responsive.mediaQueries.xl]: {\n          '& .tab-icon-text': {\n            display: 'inline-flex',\n          },\n          '& .tab-icon-with-tooltip': {\n            display: 'none',\n          },\n        },\n      }}\n    >\n      {Object.entries(tabsConfig).map(([tabName, tabConfig]) => {\n        const isActive = tabName === activeTab;\n\n        return (\n          <React.Fragment key={tabName}>\n            <Link\n              css={{ display: 'none' }}\n              className=\"tab-icon-text\"\n              key={`${tabName}-text`}\n              to={tabConfig.getRoute(experimentId ?? '')}\n            >\n              <SegmentedControlButton\n                data-testid={`tab-selector-button-text-${tabName}-${isActive ? 'active' : 'inactive'}`}\n                className=\"tab-icon-text\"\n                value={tabName}\n                icon={tabConfig.icon}\n              >\n                <span>{tabConfig.label}</span>\n              </SegmentedControlButton>\n            </Link>\n            <Link\n              className=\"tab-icon-with-tooltip\"\n              key={`${tabName}-tooltip`}\n              to={tabConfig.getRoute(experimentId ?? '')}\n            >\n              <SegmentedControlButton\n                data-testid={`tab-selector-button-icon-${tabName}-${isActive ? 'active' : 'inactive'}`}\n                className=\"tab-icon-with-tooltip\"\n                value={tabName}\n                icon={\n                  <Tooltip\n                    delayDuration={0}\n                    content={\n                      <span>\n                        {/* comment for formatting */}\n                        {tabConfig.label}\n                      </span>\n                    }\n                    componentId={`mlflow.experiment-tracking.tab-selector-bar.${tabName}`}\n                  >\n                    <span>{tabConfig.icon}</span>\n                  </Tooltip>\n                }\n              />\n            </Link>\n          </React.Fragment>\n        );\n      })}\n    </SegmentedControlGroup>\n  );\n};\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport { ConfirmModal } from './ConfirmModal';\nimport { deleteExperimentApi } from '../../actions';\nimport Routes from '../../routes';\nimport Utils from '../../../common/utils/Utils';\nimport { connect } from 'react-redux';\nimport type { NavigateFunction } from '../../../common/utils/RoutingUtils';\nimport { getUUID } from '../../../common/utils/ActionUtils';\nimport { withRouterNext } from '../../../common/utils/withRouterNext';\n\ntype Props = {\n  isOpen: boolean;\n  onClose: (...args: any[]) => any;\n  activeExperimentIds?: string[];\n  experimentId: string;\n  experimentName: string;\n  deleteExperimentApi: (...args: any[]) => any;\n  onExperimentDeleted: () => void;\n  navigate: NavigateFunction;\n};\n\nexport class DeleteExperimentModalImpl extends Component<Props> {\n  handleSubmit = () => {\n    const { experimentId, activeExperimentIds } = this.props;\n    const deleteExperimentRequestId = getUUID();\n\n    const deletePromise = this.props\n      .deleteExperimentApi(experimentId, deleteExperimentRequestId)\n      .then(() => {\n        // reload the page if an active experiment was deleted\n        if (activeExperimentIds?.includes(experimentId)) {\n          if (activeExperimentIds.length === 1) {\n            // send it to root\n            this.props.navigate(Routes.rootRoute);\n          } else {\n            const experimentIds = activeExperimentIds.filter((eid) => eid !== experimentId);\n            const route =\n              experimentIds.length === 1\n                ? Routes.getExperimentPageRoute(experimentIds[0])\n                : Routes.getCompareExperimentsPageRoute(experimentIds);\n            this.props.navigate(route);\n          }\n        }\n      })\n      .then(() => this.props.onExperimentDeleted())\n      .catch((e: any) => {\n        Utils.logErrorAndNotifyUser(e);\n      });\n\n    return deletePromise;\n  };\n\n  render() {\n    return (\n      <ConfirmModal\n        isOpen={this.props.isOpen}\n        onClose={this.props.onClose}\n        handleSubmit={this.handleSubmit}\n        title={`Delete Experiment \"${this.props.experimentName}\"`}\n        helpText={\n          <div>\n            <p>\n              <b>\n                Experiment \"{this.props.experimentName}\" (Experiment ID: {this.props.experimentId}) will be deleted.\n              </b>\n            </p>\n            {/* @ts-expect-error TS(4111): Property 'MLFLOW_SHOW_GDPR_PURGING_MESSAGES' comes from a... Remove this comment to see the full error message */}\n            {process.env.MLFLOW_SHOW_GDPR_PURGING_MESSAGES === 'true' ? (\n              <p>\n                Deleted experiments are restorable for 30 days, after which they are purged along with their associated\n                runs, including metrics, params, tags, and artifacts.\n              </p>\n            ) : (\n              ''\n            )}\n          </div>\n        }\n        confirmButtonText=\"Delete\"\n      />\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  deleteExperimentApi,\n};\n\nexport const DeleteExperimentModal = withRouterNext(connect(undefined, mapDispatchToProps)(DeleteExperimentModalImpl));\n","/**\n * NOTE: this code file was automatically migrated to TypeScript using ts-migrate and\n * may contain multiple `any` type annotations and `@ts-expect-error` directives.\n * If possible, please improve types while making changes to this file. If the type\n * annotations are already looking good, please remove this comment.\n */\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport debounce from 'lodash/debounce';\n\nimport { GenericInputModal } from './GenericInputModal';\nimport { RenameForm, NEW_NAME_FIELD } from './RenameForm';\nimport { getExperimentNameValidator } from '../../../common/forms/validations';\n\nimport { updateExperimentApi, getExperimentApi } from '../../actions';\nimport { getExperiments } from '../../reducers/Reducers';\nimport Utils from '../../../common/utils/Utils';\n\ntype RenameExperimentModalImplProps = {\n  isOpen?: boolean;\n  experimentId?: string;\n  experimentName?: string;\n  experimentNames: string[];\n  onClose: (...args: any[]) => any;\n  updateExperimentApi: (...args: any[]) => any;\n  getExperimentApi: (...args: any[]) => any;\n  onExperimentRenamed: () => void;\n};\n\nclass RenameExperimentModalImpl extends Component<RenameExperimentModalImplProps> {\n  handleRenameExperiment = (values: any) => {\n    // get value of input field\n    const newExperimentName = values[NEW_NAME_FIELD];\n    const updateExperimentPromise = this.props\n      .updateExperimentApi(this.props.experimentId, newExperimentName)\n      .then(() => {\n        this.props.getExperimentApi(this.props.experimentId);\n        this.props.onExperimentRenamed();\n      })\n      .catch((e: any) => Utils.logErrorAndNotifyUser(e));\n\n    return updateExperimentPromise;\n  };\n\n  debouncedExperimentNameValidator = debounce(\n    getExperimentNameValidator(() => this.props.experimentNames),\n    400,\n  );\n\n  render() {\n    const { isOpen, experimentName } = this.props;\n    return (\n      <GenericInputModal\n        title=\"Rename Experiment\"\n        okText=\"Save\"\n        isOpen={isOpen}\n        handleSubmit={this.handleRenameExperiment}\n        onClose={this.props.onClose}\n      >\n        {/* @ts-expect-error TS(2769): No overload matches this call. */}\n        <RenameForm\n          type=\"experiment\"\n          name={experimentName}\n          visible={isOpen}\n          validator={this.debouncedExperimentNameValidator}\n        />\n      </GenericInputModal>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => {\n  const experiments = getExperiments(state);\n  const experimentNames = experiments.map((e) => e.name);\n  return { experimentNames };\n};\n\nconst mapDispatchToProps = {\n  updateExperimentApi,\n  getExperimentApi,\n};\n\nexport const RenameExperimentModal = connect(mapStateToProps, mapDispatchToProps)(RenameExperimentModalImpl);\n","import { useCallback, useMemo, useState } from 'react';\nimport { Typography } from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { OverflowMenu } from '../../../../../shared/building_blocks/PageHeader';\nimport type { ExperimentEntity } from '../../../../types';\nimport { getExperimentType } from '../../utils/experimentPage.common-utils';\nimport { getShareFeedbackOverflowMenuItem } from './ExperimentViewHeader.utils';\nimport { getExperimentKindFromTags } from '../../../../utils/ExperimentKindUtils';\nimport { ExperimentKind } from '../../../../constants';\nimport { useNavigate } from '@mlflow/mlflow/src/common/utils/RoutingUtils';\nimport Routes from '@mlflow/mlflow/src/experiment-tracking/routes';\nimport { DeleteExperimentModal } from '../../../modals/DeleteExperimentModal';\nimport { RenameExperimentModal } from '../../../modals/RenameExperimentModal';\nimport { useInvalidateExperimentList } from '../../hooks/useExperimentListQuery';\n\n/**\n * Experiment page header part responsible for displaying menu\n * with rename and delete buttons\n */\nexport const ExperimentViewManagementMenu = ({\n  experiment,\n  setEditing,\n  baseComponentId = 'mlflow.experiment_page.managementMenu',\n  refetchExperiment,\n}: {\n  experiment: ExperimentEntity;\n  setEditing?: (editing: boolean) => void;\n  baseComponentId?: string;\n  refetchExperiment?: () => Promise<unknown>;\n}) => {\n  const [showRenameExperimentModal, setShowRenameExperimentModal] = useState(false);\n  const [showDeleteExperimentModal, setShowDeleteExperimentModal] = useState(false);\n  const invalidateExperimentList = useInvalidateExperimentList();\n  const navigate = useNavigate();\n\n  return (\n    <>\n      <OverflowMenu\n        menu={[\n          {\n            id: 'rename',\n            itemName: (\n              <FormattedMessage\n                defaultMessage=\"Rename\"\n                description=\"Text for rename button on the experiment view page header\"\n              />\n            ),\n            onClick: () => setShowRenameExperimentModal(true),\n          },\n          {\n            id: 'delete',\n            itemName: (\n              <FormattedMessage\n                defaultMessage=\"Delete\"\n                description=\"Text for delete button on the experiment view page header\"\n              />\n            ),\n            onClick: () => setShowDeleteExperimentModal(true),\n          },\n        ]}\n      />\n      <RenameExperimentModal\n        experimentId={experiment.experimentId}\n        experimentName={experiment.name}\n        isOpen={showRenameExperimentModal}\n        onClose={() => setShowRenameExperimentModal(false)}\n        onExperimentRenamed={invalidateExperimentList}\n      />\n      <DeleteExperimentModal\n        experimentId={experiment.experimentId}\n        experimentName={experiment.name}\n        isOpen={showDeleteExperimentModal}\n        onClose={() => setShowDeleteExperimentModal(false)}\n        onExperimentDeleted={() => {\n          invalidateExperimentList();\n          navigate(Routes.experimentsObservatoryRoute);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport {\n  Breadcrumb,\n  ParagraphSkeleton,\n  TitleSkeleton,\n  Tooltip,\n  Typography,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from '../../../../../common/utils/RoutingUtils';\nimport Routes from '../../../../routes';\nimport { ExperimentViewCopyTitle } from './ExperimentViewCopyTitle';\nimport type { ExperimentEntity } from '../../../../types';\nimport type { ExperimentPageSearchFacetsState } from '../../models/ExperimentPageSearchFacetsState';\nimport type { ExperimentPageUIState } from '../../models/ExperimentPageUIState';\nimport { ExperimentViewArtifactLocation } from '../ExperimentViewArtifactLocation';\nimport { ExperimentViewCopyExperimentId } from './ExperimentViewCopyExperimentId';\nimport { ExperimentViewCopyArtifactLocation } from './ExperimentViewCopyArtifactLocation';\nimport { InfoPopover } from '@databricks/design-system';\nimport { TabSelectorBar } from './tab-selector-bar/TabSelectorBar';\nimport { ExperimentViewHeaderShareButton } from './ExperimentViewHeaderShareButton';\nimport { getExperimentKindFromTags } from '../../../../utils/ExperimentKindUtils';\nimport { ExperimentViewManagementMenu } from './ExperimentViewManagementMenu';\n\nimport type { ExperimentKind } from '../../../../constants';\n/**\n * Header for a single experiment page. Displays title, breadcrumbs and provides\n * controls for renaming, deleting and editing permissions.\n */\nexport const ExperimentViewHeader = React.memo(\n  ({\n    experiment,\n    inferredExperimentKind,\n    searchFacetsState,\n    uiState,\n    setEditing,\n    experimentKindSelector,\n    refetchExperiment,\n  }: {\n    experiment: ExperimentEntity;\n    inferredExperimentKind?: ExperimentKind;\n    searchFacetsState?: ExperimentPageSearchFacetsState;\n    uiState?: ExperimentPageUIState;\n    setEditing: (editing: boolean) => void;\n    experimentKindSelector?: React.ReactNode;\n    refetchExperiment?: () => Promise<unknown>;\n  }) => {\n    const { theme } = useDesignSystemTheme();\n    const breadcrumbs: React.ReactNode[] = useMemo(\n      () => [\n        // eslint-disable-next-line react/jsx-key\n        <Link to={Routes.experimentsObservatoryRoute} data-testid=\"experiment-observatory-link\">\n          <FormattedMessage\n            defaultMessage=\"Experiments\"\n            description=\"Breadcrumb nav item to link to the list of experiments page\"\n          />\n        </Link>,\n      ],\n      [],\n    );\n    const experimentIds = useMemo(() => (experiment ? [experiment?.experimentId] : []), [experiment]);\n    // Extract the last part of the experiment name\n    const normalizedExperimentName = useMemo(() => experiment.name.split('/').pop(), [experiment.name]);\n\n    const getInfoTooltip = () => {\n      return (\n        <div style={{ display: 'flex', marginRight: theme.spacing.sm }}>\n          <InfoPopover iconTitle=\"Info\">\n            <div\n              css={{\n                display: 'flex',\n                flexDirection: 'column',\n                gap: theme.spacing.xs,\n                flexWrap: 'nowrap',\n              }}\n              data-testid=\"experiment-view-header-info-tooltip-content\"\n            >\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Path\"\n                  description=\"Label for displaying the current experiment path\"\n                />\n                : {experiment.name + ' '}\n                <ExperimentViewCopyTitle experiment={experiment} size=\"md\" />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Experiment ID\"\n                  description=\"Label for displaying the current experiment in view\"\n                />\n                : {experiment.experimentId + ' '}\n                <ExperimentViewCopyExperimentId experiment={experiment} />\n              </div>\n              <div style={{ whiteSpace: 'nowrap' }}>\n                <FormattedMessage\n                  defaultMessage=\"Artifact Location\"\n                  description=\"Label for displaying the experiment artifact location\"\n                />\n                : <ExperimentViewArtifactLocation artifactLocation={experiment.artifactLocation} />{' '}\n                <ExperimentViewCopyArtifactLocation experiment={experiment} />\n              </div>\n            </div>\n          </InfoPopover>\n        </div>\n      );\n    };\n\n    const experimentKind = inferredExperimentKind ?? getExperimentKindFromTags(experiment.tags);\n\n    return (\n      <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.xs, marginBottom: theme.spacing.sm }}>\n        <Breadcrumb includeTrailingCaret>\n          {breadcrumbs.map((breadcrumb, index) => (\n            <Breadcrumb.Item key={index}>{breadcrumb}</Breadcrumb.Item>\n          ))}\n        </Breadcrumb>\n        <div css={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr' }}>\n          <div\n            css={{ display: 'flex', gap: theme.spacing.sm, alignItems: 'center', overflow: 'hidden', minWidth: 250 }}\n          >\n            <Tooltip\n              content={normalizedExperimentName}\n              componentId=\"mlflow.experiment_view.header.experiment-name-tooltip\"\n            >\n              <span\n                css={{\n                  maxWidth: '100%',\n                  overflow: 'hidden',\n                }}\n              >\n                <Typography.Title\n                  withoutMargins\n                  level={2}\n                  css={{\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap',\n                  }}\n                >\n                  {normalizedExperimentName}\n                </Typography.Title>\n              </span>\n            </Tooltip>\n            {experimentKindSelector}\n            {getInfoTooltip()}\n          </div>\n          <TabSelectorBar experimentKind={experimentKind} />\n          <div\n            css={{ display: 'flex', gap: theme.spacing.sm, justifyContent: 'flex-end', marginLeft: theme.spacing.sm }}\n          >\n            <ExperimentViewHeaderShareButton\n              experimentIds={experimentIds}\n              searchFacetsState={searchFacetsState}\n              uiState={uiState}\n            />\n            <ExperimentViewManagementMenu\n              experiment={experiment}\n              setEditing={setEditing}\n              refetchExperiment={refetchExperiment}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nexport function ExperimentViewHeaderSkeleton() {\n  const { theme } = useDesignSystemTheme();\n\n  return (\n    <div css={{ display: 'flex', flexDirection: 'column', gap: theme.spacing.xs }}>\n      <ParagraphSkeleton css={{ width: 100 }} loading />\n      <div css={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr' }}>\n        <TitleSkeleton css={{ width: 150, height: theme.general.heightSm }} loading />\n        <TitleSkeleton css={{ height: theme.general.heightSm, alignSelf: 'center' }} loading />\n        <TitleSkeleton css={{ width: theme.spacing.lg, height: theme.general.heightSm, alignSelf: 'right' }} loading />\n      </div>\n    </div>\n  );\n}\n","import { useNavigate, useSearchParams } from '../../../../common/utils/RoutingUtils';\nimport { ExperimentPageTabName } from '../../../constants';\nimport Routes from '../../../routes';\nimport { type ExperimentViewRunsCompareMode } from '../../../types';\n\nexport const EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY = 'compareRunsMode';\n\nexport const getExperimentPageDefaultViewMode = (): ExperimentViewRunsCompareMode => 'TABLE';\n\n// This map is being used to wire routes to certain view modes\nconst viewModeToRouteMap: Partial<Record<ExperimentViewRunsCompareMode, (experimentId: string) => void>> = {\n  MODELS: (experimentId: string) => Routes.getExperimentPageTabRoute(experimentId, ExperimentPageTabName.Models),\n};\n/**\n * Hook using search params to retrieve and update the current experiment page runs view mode.\n * Handles legacy part of the mode switching, based on \"compareRunsMode\" query parameter.\n * Modern part of the mode switching is handled by <ExperimentViewRunsModeSwitchV2> which works using route params.\n */\nexport const useExperimentPageViewMode = (): [\n  ExperimentViewRunsCompareMode,\n  (newCompareRunsMode: ExperimentViewRunsCompareMode, experimentId?: string) => void,\n] => {\n  const [params, setParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const mode =\n    (params.get(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY) as ExperimentViewRunsCompareMode) ||\n    getExperimentPageDefaultViewMode();\n  const setMode = (newCompareRunsMode: ExperimentViewRunsCompareMode, experimentId?: string) => {\n    // Check if the new mode should actually navigate to a different route instead of just changing the query param\n    if (newCompareRunsMode in viewModeToRouteMap && experimentId) {\n      const route = viewModeToRouteMap[newCompareRunsMode]?.(experimentId);\n      if (route) {\n        navigate(route);\n        return;\n      }\n    }\n    setParams(\n      (currentParams) => {\n        currentParams.set(EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY, newCompareRunsMode || '');\n        return currentParams;\n      },\n      { replace: false },\n    );\n  };\n\n  return [mode, setMode];\n};\n","import { useMutation } from '@mlflow/mlflow/src/common/utils/reactQueryHooks';\nimport type { ExperimentKind } from '../../../constants';\nimport { MlflowService } from '../../../sdk/MlflowService';\n\n/**\n * An utility wrapper hook to update the experiment kind.\n * The success callback is optional but it's part of the mutation to include it in the loading state.\n */\nexport const useUpdateExperimentKind = (onSuccess?: () => void) =>\n  useMutation<unknown, Error, { experimentId: string; kind: ExperimentKind }>({\n    mutationFn: ({ experimentId, kind }) =>\n      MlflowService.setExperimentTag({\n        experiment_id: experimentId,\n        key: 'mlflow.experimentKind',\n        value: kind,\n      }).then(() => onSuccess?.() ?? Promise.resolve()),\n  });\n","import type { ExperimentEntity } from '../../../types';\nimport type { KeyValueEntity } from '../../../../common/types';\nimport {\n  Button,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Modal,\n  PencilIcon,\n  LegacyTooltip,\n  useDesignSystemTheme,\n} from '@databricks/design-system';\nimport { useCallback, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getExperimentTags } from '../../../reducers/Reducers';\nimport { NOTE_CONTENT_TAG } from '../../../utils/NoteUtils';\nimport type { ThunkDispatch } from '../../../../redux-types';\nimport React from 'react';\nimport 'react-mde/lib/styles/css/react-mde-all.css';\nimport ReactMde, { SvgIcon } from 'react-mde';\nimport {\n  forceAnchorTagNewTab,\n  getMarkdownConverter,\n  sanitizeConvertedHtml,\n} from '../../../../common/utils/MarkdownUtils';\nimport { FormattedMessage } from 'react-intl';\nimport { setExperimentTagApi } from '../../../actions';\n\nconst extractNoteFromTags = (tags: Record<string, KeyValueEntity>) =>\n  Object.values(tags).find((t) => t.key === NOTE_CONTENT_TAG)?.value || undefined;\n\nconst toolbarCommands = [\n  ['header', 'bold', 'italic', 'strikethrough'],\n  ['link', 'code', 'image'],\n  ['unordered-list', 'ordered-list'],\n];\n\nconst converter = getMarkdownConverter();\n\nconst getSanitizedHtmlContent = (markdown: string | undefined) => {\n  if (markdown) {\n    const sanitized = sanitizeConvertedHtml(converter.makeHtml(markdown));\n    return forceAnchorTagNewTab(sanitized);\n  }\n  return null;\n};\n\nexport const ExperimentViewDescriptionNotes = ({\n  experiment,\n  editing,\n  setEditing,\n  setShowAddDescriptionButton,\n  onNoteUpdated,\n  defaultValue,\n}: {\n  experiment: ExperimentEntity;\n  editing: boolean;\n  setEditing: (editing: boolean) => void;\n  setShowAddDescriptionButton: (show: boolean) => void;\n  onNoteUpdated?: () => void;\n  defaultValue?: string;\n}) => {\n  const storedNote = useSelector((state) => {\n    const tags = getExperimentTags(experiment.experimentId, state);\n    return tags ? extractNoteFromTags(tags) : '';\n  });\n  setShowAddDescriptionButton(!storedNote);\n\n  const effectiveNote = storedNote || defaultValue;\n  const [tmpNote, setTmpNote] = useState(effectiveNote);\n  const [selectedTab, setSelectedTab] = useState<'write' | 'preview' | undefined>('write');\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const { theme } = useDesignSystemTheme();\n  const PADDING_HORIZONTAL = 12;\n  const DISPLAY_LINE_HEIGHT = 16;\n  const COLLAPSE_MAX_HEIGHT = DISPLAY_LINE_HEIGHT + 2 * theme.spacing.sm;\n  const MIN_EDITOR_HEIGHT = 200;\n  const MAX_EDITOR_HEIGHT = 500;\n  const MIN_PREVIEW_HEIGHT = 20;\n\n  const dispatch = useDispatch<ThunkDispatch>();\n\n  const handleSubmitEditNote = useCallback(\n    (updatedNote?: string) => {\n      setEditing(false);\n      setShowAddDescriptionButton(!updatedNote);\n      const action = setExperimentTagApi(experiment.experimentId, NOTE_CONTENT_TAG, updatedNote);\n      dispatch(action).then(onNoteUpdated);\n    },\n    [experiment.experimentId, dispatch, setEditing, setShowAddDescriptionButton, onNoteUpdated],\n  );\n\n  return (\n    <div>\n      {effectiveNote && (\n        <div\n          style={{\n            whiteSpace: isExpanded ? 'normal' : 'pre-wrap',\n            lineHeight: theme.typography.lineHeightLg,\n            background: theme.colors.backgroundSecondary,\n            display: 'flex',\n            alignItems: 'flex-start',\n            padding: theme.spacing.xs,\n          }}\n        >\n          <div\n            style={{\n              flexGrow: 1,\n              marginRight: PADDING_HORIZONTAL,\n              overflow: 'hidden',\n              overflowWrap: isExpanded ? 'break-word' : undefined,\n              padding: `${theme.spacing.sm}px ${PADDING_HORIZONTAL}px`,\n              maxHeight: isExpanded ? 'none' : COLLAPSE_MAX_HEIGHT + 'px',\n              wordBreak: 'break-word',\n            }}\n          >\n            <div\n              // eslint-disable-next-line react/no-danger\n              dangerouslySetInnerHTML={{ __html: getSanitizedHtmlContent(effectiveNote) }}\n            />\n          </div>\n          <Button\n            componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_114\"\n            icon={<PencilIcon />}\n            onClick={() => setEditing(true)}\n            style={{ padding: `0px ${theme.spacing.sm}px` }}\n          />\n          {isExpanded ? (\n            <Button\n              componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_120\"\n              icon={<ChevronUpIcon />}\n              onClick={() => setIsExpanded(false)}\n              style={{ padding: `0px ${theme.spacing.sm}px` }}\n            />\n          ) : (\n            <Button\n              componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_126\"\n              icon={<ChevronDownIcon />}\n              onClick={() => setIsExpanded(true)}\n              style={{ padding: `0px ${theme.spacing.sm}px` }}\n            />\n          )}\n        </div>\n      )}\n      <Modal\n        componentId=\"codegen_mlflow_app_src_experiment-tracking_components_experiment-page_components_experimentviewdescriptionnotes.tsx_141\"\n        title={\n          <FormattedMessage\n            defaultMessage=\"Add description\"\n            description=\"experiment page > description modal > title\"\n          />\n        }\n        visible={editing}\n        okText={\n          <FormattedMessage defaultMessage=\"Save\" description=\"experiment page > description modal > save button\" />\n        }\n        cancelText={\n          <FormattedMessage defaultMessage=\"Cancel\" description=\"experiment page > description modal > cancel button\" />\n        }\n        onOk={() => {\n          handleSubmitEditNote(tmpNote);\n          setEditing(false);\n        }}\n        onCancel={() => {\n          setTmpNote(effectiveNote);\n          setEditing(false);\n        }}\n      >\n        <React.Fragment>\n          <ReactMde\n            value={tmpNote}\n            minEditorHeight={MIN_EDITOR_HEIGHT}\n            maxEditorHeight={MAX_EDITOR_HEIGHT}\n            minPreviewHeight={MIN_PREVIEW_HEIGHT}\n            toolbarCommands={toolbarCommands}\n            onChange={(value) => setTmpNote(value)}\n            selectedTab={selectedTab}\n            onTabChange={(newTab) => setSelectedTab(newTab)}\n            generateMarkdownPreview={() => Promise.resolve(getSanitizedHtmlContent(tmpNote))}\n            getIcon={(name) => (\n              <LegacyTooltip title={name}>\n                <span css={{ color: theme.colors.textPrimary }}>\n                  <SvgIcon icon={name} />\n                </span>\n              </LegacyTooltip>\n            )}\n          />\n        </React.Fragment>\n      </Modal>\n    </div>\n  );\n};\n"],"names":["useInferExperimentKind","experimentId","isLoadingExperiment","enabled","experimentTags","updateExperimentKind","containsTraces","isLoading","isTracesBeingDetermined","useExperimentContainsTraces","data","useQuery","async","invariant","experimentIds","MlflowService","getExperimentTraces","undefined","Boolean","isEmpty","traces","isDismissed","setIsDismissed","useState","containsRuns","isTrainingRunsBeingDetermined","useExperimentContainsTrainingRuns","error","searchRuns","experiment_ids","max_results","useMemo","runs","inferredExperimentKind","ExperimentKind","GENAI_DEVELOPMENT_INFERRED","CUSTOM_MODEL_DEVELOPMENT_INFERRED","NO_INFERRED_TYPE","inferredExperimentPageTab","ExperimentPageTabName","Traces","Runs","useEffect","isEditableExperimentKind","kind","dismiss","_ref","name","styles","_ref2","_ref3","_ref4","ExperimentViewInferredKindPopover","children","onConfirm","onDismiss","isInferredKindEditable","intl","useIntl","theme","useDesignSystemTheme","_jsxs","css","Popover","Root","componentId","open","modal","_jsx","Trigger","asChild","Content","Arrow","_css","display","alignItems","gap","spacing","sm","Typography","Paragraph","FormattedMessage","id","defaultMessage","values","kindLabel","formatMessage","ExperimentKindShortLabels","isEditable","Button","onClick","type","size","icon","CloseIcon","ExperimentViewHeaderKindSelector","value","onChange","isUpdating","readOnly","dropdownItems","entries","ExperimentKindDropdownLabels","filter","key","getSelectableExperimentKinds","includes","currentValue","normalizeInferredExperimentKind","coerceToEnum","visibleLabel","getVisibleLabel","EMPTY","defineMessage","dropdownOpen","setDropdownOpen","displayInferencePopover","setDisplayInferencePopover","usingDropdown","tagElement","Tag","Spinner","ChevronDownIcon","tagElementWithTooltip","ExperimentTypeTooltip","dropdownElement","DropdownMenu","onOpenChange","align","Label","map","label","isSelected","CheckboxItem","checked","ItemIndicator","Tooltip","content","ExperimentViewInferredKindModal","selectedKind","setSelectedKind","CUSTOM_MODEL_DEVELOPMENT","Modal","visible","onCancel","title","cancelText","okText","onOk","flexDirection","marginBottom","Radio","GENAI_DEVELOPMENT","ExperimentPageRoutePathToTabNameMap","RoutePaths","experimentPageTabRuns","experimentPageTabTraces","experimentPageTabModels","Models","tabName","routePath","useGetExperimentPageActiveTabByRoute","pathname","useLocation","tabNameFromRoute","shouldEnableExperimentPageChildRoutes","_ExperimentPageRouteP","find","matchPath","getTabNameFromRoutePath","topLevelTabName","useExperimentEvaluationRunsData","isFetching","refetch","queryKey","queryFn","requestBody","order_by","run_view_type","cacheTime","refetchOnWindowFocus","retry","evaluationRuns","trainingRuns","reduce","acc","run","_run$outputs$modelOut","_run$outputs","_run$outputs$modelOut2","outputs","modelOutputs","length","push","CopyBox","copyText","Input","CopyButton","GetLinkModal","link","ExperimentGetShareLinkModal","searchFacetsState","uiState","sharedStateUrl","setSharedStateUrl","linkInProgress","setLinkInProgress","generatedState","setGeneratedState","viewMode","useExperimentPageViewMode","dispatch","useDispatch","stateToSerialize","createSerializedState","useCallback","state","window","location","href","shouldUseCompressedExperimentViewSharedState","textCompressDeflate","JSON","stringify","serializePersistedState","hash","getStringSHA256","tagName","EXPERIMENT_PAGE_VIEW_STATE_SHARE_TAG_PREFIX","setExperimentTagApi","getShareableUrl","shareStateHash","route","Routes","getExperimentPageRoute","queryParams","URLSearchParams","set","EXPERIMENT_PAGE_VIEW_STATE_SHARE_URL_PARAM_KEY","EXPERIMENT_PAGE_VIEW_MODE_QUERY_PARAM_KEY","params","toString","hashParam","startsWith","origin","e","Utils","logErrorAndNotifyUser","GenericSkeleton","placeholder","loading","ExperimentViewHeaderShareButton","showGetLinkModal","setShowGetLinkModal","_Fragment","ExperimentViewCopyTitle","experiment","Text","dangerouslySetAntdProps","copyable","text","CopyIcon","tooltips","ExperimentViewArtifactLocation","artifactLocation","ExperimentViewCopyExperimentId","ExperimentViewCopyArtifactLocation","RunsTabConfig","ListIcon","getRoute","getExperimentPageTabRoute","TracesTabConfig","ListBorderIcon","EvaluationsTabConfig","PlusMinusSquareIcon","EvaluationRuns","ModelsTabConfig","ModelsIcon","getGenAIExperimentTabConfigMap","includeRunsTab","CustomExperimentTabConfigMap","DefaultTabConfigMap","getExperimentTabsConfig","experimentKind","hasTrainingRuns","shouldEnablePromptsTabOnDBPlatform","getGenAIExperimentWithPromptsTabConfigMap","FORECASTING","REGRESSION","AUTOML","CLASSIFICATION","TabSelectorBar","useParams","isGenAIExperiment","tabNameFromParams","Datasets","LabelingSchemas","LabelingSessions","tabNameFromViewMode","isRunsViewTab","iTracesViewTab","activeTab","tabsConfig","SegmentedControlGroup","newStyleFlagOverride","justifySelf","responsive","mediaQueries","xl","Object","tabConfig","isActive","React","Link","className","to","SegmentedControlButton","delayDuration","DeleteExperimentModalImpl","Component","constructor","args","handleSubmit","activeExperimentIds","this","props","deleteExperimentRequestId","getUUID","deleteExperimentApi","then","navigate","rootRoute","eid","getCompareExperimentsPageRoute","onExperimentDeleted","catch","render","ConfirmModal","isOpen","onClose","experimentName","helpText","confirmButtonText","mapDispatchToProps","DeleteExperimentModal","withRouterNext","connect","RenameExperimentModalImpl","handleRenameExperiment","newExperimentName","NEW_NAME_FIELD","updateExperimentApi","getExperimentApi","onExperimentRenamed","debouncedExperimentNameValidator","debounce","getExperimentNameValidator","experimentNames","GenericInputModal","RenameForm","validator","RenameExperimentModal","getExperiments","ExperimentViewManagementMenu","setEditing","baseComponentId","refetchExperiment","showRenameExperimentModal","setShowRenameExperimentModal","showDeleteExperimentModal","setShowDeleteExperimentModal","invalidateExperimentList","useInvalidateExperimentList","useNavigate","OverflowMenu","menu","itemName","experimentsObservatoryRoute","ExperimentViewHeader","experimentKindSelector","breadcrumbs","normalizedExperimentName","split","pop","getExperimentKindFromTags","tags","xs","Breadcrumb","includeTrailingCaret","breadcrumb","index","Item","overflow","minWidth","Title","withoutMargins","level","style","marginRight","InfoPopover","iconTitle","flexWrap","whiteSpace","justifyContent","marginLeft","_ref5","ExperimentViewHeaderSkeleton","ParagraphSkeleton","TitleSkeleton","width","height","general","heightSm","alignSelf","lg","viewModeToRouteMap","MODELS","setParams","useSearchParams","get","setMode","newCompareRunsMode","_viewModeToRouteMap$n","call","currentParams","replace","useUpdateExperimentKind","onSuccess","useMutation","mutationFn","setExperimentTag","experiment_id","_onSuccess","Promise","resolve","toolbarCommands","converter","getMarkdownConverter","getSanitizedHtmlContent","markdown","sanitized","sanitizeConvertedHtml","makeHtml","forceAnchorTagNewTab","ExperimentViewDescriptionNotes","editing","setShowAddDescriptionButton","onNoteUpdated","defaultValue","storedNote","useSelector","getExperimentTags","_Object$values$find","t","NOTE_CONTENT_TAG","extractNoteFromTags","effectiveNote","tmpNote","setTmpNote","selectedTab","setSelectedTab","isExpanded","setIsExpanded","COLLAPSE_MAX_HEIGHT","handleSubmitEditNote","updatedNote","action","lineHeight","typography","lineHeightLg","background","colors","backgroundSecondary","padding","flexGrow","overflowWrap","maxHeight","wordBreak","dangerouslySetInnerHTML","__html","PencilIcon","ChevronUpIcon","ReactMde","minEditorHeight","maxEditorHeight","minPreviewHeight","onTabChange","newTab","generateMarkdownPreview","getIcon","LegacyTooltip","color","textPrimary","SvgIcon"],"sourceRoot":""}